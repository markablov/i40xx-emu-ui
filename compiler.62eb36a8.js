!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},r={},n=t.parcelRequired6a3;null==n&&((n=function(t){if(t in e)return e[t].exports;if(t in r){var n=r[t];delete r[t];var o={id:t,exports:{}};return e[t]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){r[t]=e},t.parcelRequired6a3=n),n.register("aRz3z",(function(t,e){var r=n("9uTXM"),o=n("dNvdM"),i=n("i8N8v"),a=n("3SybD"),s=n("hfC1t"),u=n("4b2mP"),c=n("cVmaJ"),l=n("enVm6"),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||l(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(f.call(t,n))return!1;return!0}})),n.register("9uTXM",(function(t,e){var r=n("cVmaJ"),o=n("76Wgk"),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}})),n.register("cVmaJ",(function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}})),n.register("76Wgk",(function(t,e){var r=n("rH4tm")(Object.keys,Object);t.exports=r})),n.register("rH4tm",(function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}})),n.register("dNvdM",(function(t,e){var r=n("jwu9t"),o=n("aBKeu"),i=n("9xewy"),a=n("4zcGm"),s=n("ezqTv"),u=n("k9hdr"),c=n("8ksHv"),l="[object Map]",f="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",v=c(r),y=c(o),m=c(i),g=c(a),E=c(s),T=u;(r&&T(new r(new ArrayBuffer(1)))!=h||o&&T(new o)!=l||i&&T(i.resolve())!=f||a&&T(new a)!=p||s&&T(new s)!=d)&&(T=function(t){var e=u(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case v:return h;case y:return l;case m:return f;case g:return p;case E:return d}return e}),t.exports=T})),n.register("jwu9t",(function(t,e){var r=n("at7h6")(n("b6pt9"),"DataView");t.exports=r})),n.register("at7h6",(function(t,e){var r=n("1xC4F"),o=n("2MFKC");t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}})),n.register("1xC4F",(function(t,e){var r=n("7kzWE"),o=n("dgWch"),i=n("li2L8"),a=n("8ksHv"),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:s).test(a(t))}})),n.register("7kzWE",(function(t,e){var r=n("k9hdr"),o=n("li2L8");t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}})),n.register("k9hdr",(function(t,e){var r=n("hmS77"),o=n("e5gZC"),i=n("1JDvj"),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}})),n.register("hmS77",(function(t,e){var r=n("b6pt9").Symbol;t.exports=r})),n.register("b6pt9",(function(t,e){var r=n("2MFNz"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i})),n.register("2MFNz",(function(e,r){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n})),n.register("e5gZC",(function(t,e){var r=n("hmS77"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[s]=r:delete t[s]),o}})),n.register("1JDvj",(function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}})),n.register("li2L8",(function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}})),n.register("dgWch",(function(t,e){var r,o=n("fKIkd"),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}})),n.register("fKIkd",(function(t,e){var r=n("b6pt9")["__core-js_shared__"];t.exports=r})),n.register("8ksHv",(function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}})),n.register("2MFKC",(function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}})),n.register("aBKeu",(function(t,e){var r=n("at7h6")(n("b6pt9"),"Map");t.exports=r})),n.register("9xewy",(function(t,e){var r=n("at7h6")(n("b6pt9"),"Promise");t.exports=r})),n.register("4zcGm",(function(t,e){var r=n("at7h6")(n("b6pt9"),"Set");t.exports=r})),n.register("ezqTv",(function(t,e){var r=n("at7h6")(n("b6pt9"),"WeakMap");t.exports=r})),n.register("i8N8v",(function(t,e){var r=n("8USEL"),o=n("hSqRh"),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u})),n.register("8USEL",(function(t,e){var r=n("k9hdr"),o=n("hSqRh");t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}})),n.register("hSqRh",(function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}})),n.register("3SybD",(function(t,e){var r=Array.isArray;t.exports=r})),n.register("hfC1t",(function(t,e){var r=n("7kzWE"),o=n("9VSV8");t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}})),n.register("9VSV8",(function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}})),n.register("4b2mP",(function(t,e){var r=n("b6pt9"),o=n("iiE7s"),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;t.exports=u})),n.register("iiE7s",(function(t,e){t.exports=function(){return!1}})),n.register("enVm6",(function(t,e){var r=n("7DFXB"),o=n("1gRpc"),i=n("gs7ZB"),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s})),n.register("7DFXB",(function(t,e){var r=n("k9hdr"),o=n("9VSV8"),i=n("hSqRh"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}})),n.register("1gRpc",(function(t,e){t.exports=function(t){return function(e){return t(e)}}})),n.register("gs7ZB",(function(t,e){var r=n("2MFNz"),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s})),n.register("fW6i0",(function(t,e){var r=n("gVbGh"),o=n("cBPFM"),i=n("6waKj"),a=n("3SybD");t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}})),n.register("gVbGh",(function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}})),n.register("cBPFM",(function(t,e){var r=n("dh0z9"),o=n("enCzq"),i=n("gmvIS"),a=n("3SybD"),s=n("egyby");t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):s(t)}})),n.register("dh0z9",(function(t,e){var r=n("6pS2I"),o=n("iaLnf"),i=n("bckuk");t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}})),n.register("6pS2I",(function(t,e){var r=n("aauya"),o=n("fAJVz");t.exports=function(t,e,n,i){var a=n.length,s=a,u=!i;if(null==t)return!s;for(t=Object(t);a--;){var c=n[a];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var l=(c=n[a])[0],f=t[l],p=c[1];if(u&&c[2]){if(void 0===f&&!(l in t))return!1}else{var d=new r;if(i)var h=i(f,p,l,t,e,d);if(!(void 0===h?o(p,f,3,i,d):h))return!1}}return!0}})),n.register("aauya",(function(t,e){var r=n("4ybgw"),o=n("ddKRd"),i=n("eG5pB"),a=n("9mPfo"),s=n("1GfGO"),u=n("5jHqX");function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c})),n.register("4ybgw",(function(t,e){var r=n("7gr3i"),o=n("heJdt"),i=n("calri"),a=n("a0wO3"),s=n("376ap");function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u})),n.register("7gr3i",(function(t,e){t.exports=function(){this.__data__=[],this.size=0}})),n.register("heJdt",(function(t,e){var r=n("03Z0X"),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}})),n.register("03Z0X",(function(t,e){var r=n("2rosp");t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}})),n.register("2rosp",(function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}})),n.register("calri",(function(t,e){var r=n("03Z0X");t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}})),n.register("a0wO3",(function(t,e){var r=n("03Z0X");t.exports=function(t){return r(this.__data__,t)>-1}})),n.register("376ap",(function(t,e){var r=n("03Z0X");t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}})),n.register("ddKRd",(function(t,e){var r=n("4ybgw");t.exports=function(){this.__data__=new r,this.size=0}})),n.register("eG5pB",(function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}})),n.register("9mPfo",(function(t,e){t.exports=function(t){return this.__data__.get(t)}})),n.register("1GfGO",(function(t,e){t.exports=function(t){return this.__data__.has(t)}})),n.register("5jHqX",(function(t,e){var r=n("4ybgw"),o=n("aBKeu"),i=n("fbsx3");t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}})),n.register("fbsx3",(function(t,e){var r=n("gRHxZ"),o=n("4lvT0"),i=n("1vsKW"),a=n("49GzS"),s=n("hkwXO");function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u})),n.register("gRHxZ",(function(t,e){var r=n("bGhqp"),o=n("4ybgw"),i=n("aBKeu");t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}})),n.register("bGhqp",(function(t,e){var r=n("euMIp"),o=n("6qNJR"),i=n("kzSvn"),a=n("fJm39"),s=n("jv0AF");function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u})),n.register("euMIp",(function(t,e){var r=n("atDF5");t.exports=function(){this.__data__=r?r(null):{},this.size=0}})),n.register("atDF5",(function(t,e){var r=n("at7h6")(Object,"create");t.exports=r})),n.register("6qNJR",(function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}})),n.register("kzSvn",(function(t,e){var r=n("atDF5"),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}})),n.register("fJm39",(function(t,e){var r=n("atDF5"),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}})),n.register("jv0AF",(function(t,e){var r=n("atDF5");t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}})),n.register("4lvT0",(function(t,e){var r=n("fd2s9");t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}})),n.register("fd2s9",(function(t,e){var r=n("bukOq");t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}})),n.register("bukOq",(function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}})),n.register("1vsKW",(function(t,e){var r=n("fd2s9");t.exports=function(t){return r(this,t).get(t)}})),n.register("49GzS",(function(t,e){var r=n("fd2s9");t.exports=function(t){return r(this,t).has(t)}})),n.register("hkwXO",(function(t,e){var r=n("fd2s9");t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}})),n.register("fAJVz",(function(t,e){var r=n("6KSUe"),o=n("hSqRh");t.exports=function t(e,n,i,a,s){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,s))}})),n.register("6KSUe",(function(t,e){var r=n("aauya"),o=n("eJgk9"),i=n("3nLYu"),a=n("dj9Wf"),s=n("dNvdM"),u=n("3SybD"),c=n("4b2mP"),l=n("enVm6"),f="[object Arguments]",p="[object Array]",d="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,y,m){var g=u(t),E=u(e),T=g?p:s(t),O=E?p:s(e),_=(T=T==f?d:T)==d,R=(O=O==f?d:O)==d,A=T==O;if(A&&c(t)){if(!c(e))return!1;g=!0,_=!1}if(A&&!_)return m||(m=new r),g||l(t)?o(t,e,n,v,y,m):i(t,e,T,n,v,y,m);if(!(1&n)){var N=_&&h.call(t,"__wrapped__"),I=R&&h.call(e,"__wrapped__");if(N||I){var S=N?t.value():t,b=I?e.value():e;return m||(m=new r),y(S,b,n,v,m)}}return!!A&&(m||(m=new r),a(t,e,n,v,y,m))}})),n.register("eJgk9",(function(t,e){var r=n("ghNts"),o=n("8Mgkj"),i=n("fpZ84");t.exports=function(t,e,n,a,s,u){var c=1&n,l=t.length,f=e.length;if(l!=f&&!(c&&f>l))return!1;var p=u.get(t),d=u.get(e);if(p&&d)return p==e&&d==t;var h=-1,v=!0,y=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++h<l;){var m=t[h],g=e[h];if(a)var E=c?a(g,m,h,e,t,u):a(m,g,h,t,e,u);if(void 0!==E){if(E)continue;v=!1;break}if(y){if(!o(e,(function(t,e){if(!i(y,e)&&(m===t||s(m,t,n,a,u)))return y.push(e)}))){v=!1;break}}else if(m!==g&&!s(m,g,n,a,u)){v=!1;break}}return u.delete(t),u.delete(e),v}})),n.register("ghNts",(function(t,e){var r=n("fbsx3"),o=n("cpASb"),i=n("c8zhR");function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a})),n.register("cpASb",(function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}})),n.register("c8zhR",(function(t,e){t.exports=function(t){return this.__data__.has(t)}})),n.register("8Mgkj",(function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}})),n.register("fpZ84",(function(t,e){t.exports=function(t,e){return t.has(e)}})),n.register("3nLYu",(function(t,e){var r=n("hmS77"),o=n("g4Tak"),i=n("2rosp"),a=n("eJgk9"),s=n("fxtmE"),u=n("8JBtI"),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;t.exports=function(t,e,r,n,c,f,p){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=s;case"[object Set]":var h=1&n;if(d||(d=u),t.size!=e.size&&!h)return!1;var v=p.get(t);if(v)return v==e;n|=2,p.set(t,e);var y=a(d(t),d(e),n,c,f,p);return p.delete(t),y;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}})),n.register("g4Tak",(function(t,e){var r=n("b6pt9").Uint8Array;t.exports=r})),n.register("fxtmE",(function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}})),n.register("8JBtI",(function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}})),n.register("dj9Wf",(function(t,e){var r=n("eaTtC"),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,a,s){var u=1&n,c=r(t),l=c.length;if(l!=r(e).length&&!u)return!1;for(var f=l;f--;){var p=c[f];if(!(u?p in e:o.call(e,p)))return!1}var d=s.get(t),h=s.get(e);if(d&&h)return d==e&&h==t;var v=!0;s.set(t,e),s.set(e,t);for(var y=u;++f<l;){var m=t[p=c[f]],g=e[p];if(i)var E=u?i(g,m,p,e,t,s):i(m,g,p,t,e,s);if(!(void 0===E?m===g||a(m,g,n,i,s):E)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var T=t.constructor,O=e.constructor;T==O||!("constructor"in t)||!("constructor"in e)||"function"==typeof T&&T instanceof T&&"function"==typeof O&&O instanceof O||(v=!1)}return s.delete(t),s.delete(e),v}})),n.register("eaTtC",(function(t,e){var r=n("8sqc1"),o=n("kxxJd"),i=n("e2a9e");t.exports=function(t){return r(t,i,o)}})),n.register("8sqc1",(function(t,e){var r=n("6YZ77"),o=n("3SybD");t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}})),n.register("6YZ77",(function(t,e){t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}})),n.register("kxxJd",(function(t,e){var r=n("afHc0"),o=n("01Usg"),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=s})),n.register("afHc0",(function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}})),n.register("01Usg",(function(t,e){t.exports=function(){return[]}})),n.register("e2a9e",(function(t,e){var r=n("4DxoY"),o=n("9uTXM"),i=n("hfC1t");t.exports=function(t){return i(t)?r(t):o(t)}})),n.register("4DxoY",(function(t,e){var r=n("i9KaX"),o=n("i8N8v"),i=n("3SybD"),a=n("4b2mP"),s=n("5YH1U"),u=n("enVm6"),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),p=!n&&!l&&!f&&u(t),d=n||l||f||p,h=d?r(t.length,String):[],v=h.length;for(var y in t)!e&&!c.call(t,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||h.push(y);return h}})),n.register("i9KaX",(function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}})),n.register("5YH1U",(function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}})),n.register("iaLnf",(function(t,e){var r=n("3NE6n"),o=n("e2a9e");t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}})),n.register("3NE6n",(function(t,e){var r=n("li2L8");t.exports=function(t){return t==t&&!r(t)}})),n.register("bckuk",(function(t,e){t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}})),n.register("enCzq",(function(t,e){var r=n("fAJVz"),o=n("2vYkP"),i=n("6JZW9"),a=n("jugjo"),s=n("3NE6n"),u=n("bckuk"),c=n("3hNC9");t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,3)}}})),n.register("2vYkP",(function(t,e){var r=n("eJOrG");t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}})),n.register("eJOrG",(function(t,e){var r=n("8ofAV"),o=n("3hNC9");t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}})),n.register("8ofAV",(function(t,e){var r=n("3SybD"),o=n("jugjo"),i=n("As4Ad"),a=n("ea3nf");t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}})),n.register("jugjo",(function(t,e){var r=n("3SybD"),o=n("7cSWM"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))}})),n.register("7cSWM",(function(t,e){var r=n("k9hdr"),o=n("hSqRh");t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}})),n.register("As4Ad",(function(t,e){var r=n("8Km8N"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)})),e}));t.exports=a})),n.register("8Km8N",(function(t,e){var r=n("i2L6o");t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}})),n.register("i2L6o",(function(t,e){var r=n("fbsx3");function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o})),n.register("ea3nf",(function(t,e){var r=n("3odwT");t.exports=function(t){return null==t?"":r(t)}})),n.register("3odwT",(function(t,e){var r=n("hmS77"),o=n("gVbGh"),i=n("3SybD"),a=n("7cSWM"),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}})),n.register("3hNC9",(function(t,e){var r=n("7cSWM");t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}})),n.register("6JZW9",(function(t,e){var r=n("j7oBs"),o=n("5wBoC");t.exports=function(t,e){return null!=t&&o(t,e,r)}})),n.register("j7oBs",(function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}})),n.register("5wBoC",(function(t,e){var r=n("8ofAV"),o=n("i8N8v"),i=n("3SybD"),a=n("5YH1U"),s=n("9VSV8"),u=n("3hNC9");t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,f=!1;++c<l;){var p=u(e[c]);if(!(f=null!=t&&n(t,p)))break;t=t[p]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(p,l)&&(i(t)||o(t))}})),n.register("gmvIS",(function(t,e){t.exports=function(t){return t}})),n.register("egyby",(function(t,e){var r=n("89yef"),o=n("gwR4T"),i=n("jugjo"),a=n("3hNC9");t.exports=function(t){return i(t)?r(a(t)):o(t)}})),n.register("89yef",(function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}})),n.register("gwR4T",(function(t,e){var r=n("eJOrG");t.exports=function(t){return function(e){return r(e,t)}}})),n.register("6waKj",(function(t,e){var r=n("i3OAU"),o=n("hfC1t");t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}})),n.register("i3OAU",(function(t,e){var r=n("1xUAi"),o=n("aYVpa")(r);t.exports=o})),n.register("1xUAi",(function(t,e){var r=n("i6MfH"),o=n("e2a9e");t.exports=function(t,e){return t&&r(t,e,o)}})),n.register("i6MfH",(function(t,e){var r=n("aH5ux")();t.exports=r})),n.register("aH5ux",(function(t,e){t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===r(i[u],u,i))break}return e}}})),n.register("aYVpa",(function(t,e){var r=n("hfC1t");t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&!1!==o(s[a],a,s););return n}}})),n.register("4OAgB",(function(t,e){var r=n("4CR51"),o=n("i3OAU"),i=n("eVYRo"),a=n("3SybD");t.exports=function(t,e){return(a(t)?r:o)(t,i(e))}})),n.register("4CR51",(function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}})),n.register("eVYRo",(function(t,e){var r=n("gmvIS");t.exports=function(t){return"function"==typeof t?t:r}})),n.register("4eHM6",(function(t,e){var r=n("5XFMr"),o=n("e2a9e");t.exports=function(t){return null==t?[]:r(t,o(t))}})),n.register("5XFMr",(function(t,e){var r=n("gVbGh");t.exports=function(t,e){return r(e,(function(e){return t[e]}))}})),n.register("6mWlg",(function(t,e){var r=n("1WIQl"),o=n("5wBoC");t.exports=function(t,e){return null!=t&&o(t,e,r)}})),n.register("1WIQl",(function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&r.call(t,e)}})),n.register("aKVMx",(function(t,e){var r=n("1tbX2");t.exports=function(t){return r(t,4)}})),n.register("1tbX2",(function(t,e){var r=n("aauya"),o=n("4CR51"),i=n("fvSef"),a=n("5DmMx"),s=n("gEieU"),u=n("2w9Rt"),c=n("8okmk"),l=n("fEhfL"),f=n("3mEyF"),p=n("eaTtC"),d=n("ggu9m"),h=n("dNvdM"),v=n("dt2nQ"),y=n("rLilK"),m=n("fhHRn"),g=n("3SybD"),E=n("4b2mP"),T=n("7aHON"),O=n("li2L8"),_=n("dsaYU"),R=n("e2a9e"),A=n("le8Vh"),N="[object Arguments]",I="[object Function]",S="[object Object]",b={};b[N]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object DataView]"]=b["[object Boolean]"]=b["[object Date]"]=b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Map]"]=b["[object Number]"]=b[S]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object Symbol]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b["[object Error]"]=b[I]=b["[object WeakMap]"]=!1,t.exports=function t(e,n,x,P,L,k){var C,M=1&n,w=2&n,D=4&n;if(x&&(C=L?x(e,P,L,k):x(e)),void 0!==C)return C;if(!O(e))return e;var U=g(e);if(U){if(C=v(e),!M)return c(e,C)}else{var F=h(e),j=F==I||"[object GeneratorFunction]"==F;if(E(e))return u(e,M);if(F==S||F==N||j&&!L){if(C=w||j?{}:m(e),!M)return w?f(e,s(C,e)):l(e,a(C,e))}else{if(!b[F])return L?e:{};C=y(e,F,M)}}k||(k=new r);var B=k.get(e);if(B)return B;k.set(e,C),_(e)?e.forEach((function(r){C.add(t(r,n,x,r,e,k))})):T(e)&&e.forEach((function(r,o){C.set(o,t(r,n,x,o,e,k))}));var G=U?void 0:(D?w?d:p:w?A:R)(e);return o(G||e,(function(r,o){G&&(r=e[o=r]),i(C,o,t(r,n,x,o,e,k))})),C}})),n.register("fvSef",(function(t,e){var r=n("bMWgW"),o=n("2rosp"),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}})),n.register("bMWgW",(function(t,e){var r=n("5Ytuj");t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}})),n.register("5Ytuj",(function(t,e){var r=n("at7h6"),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o})),n.register("5DmMx",(function(t,e){var r=n("dPNFS"),o=n("e2a9e");t.exports=function(t,e){return t&&r(e,o(e),t)}})),n.register("dPNFS",(function(t,e){var r=n("fvSef"),o=n("bMWgW");t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?o(n,c,l):r(n,c,l)}return n}})),n.register("gEieU",(function(t,e){var r=n("dPNFS"),o=n("le8Vh");t.exports=function(t,e){return t&&r(e,o(e),t)}})),n.register("le8Vh",(function(t,e){var r=n("4DxoY"),o=n("iFSzh"),i=n("hfC1t");t.exports=function(t){return i(t)?r(t,!0):o(t)}})),n.register("iFSzh",(function(t,e){var r=n("li2L8"),o=n("cVmaJ"),i=n("83Rwa"),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}})),n.register("83Rwa",(function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}})),n.register("2w9Rt",(function(t,e){var r=n("b6pt9"),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}})),n.register("8okmk",(function(t,e){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}})),n.register("fEhfL",(function(t,e){var r=n("dPNFS"),o=n("kxxJd");t.exports=function(t,e){return r(t,o(t),e)}})),n.register("3mEyF",(function(t,e){var r=n("dPNFS"),o=n("enqHK");t.exports=function(t,e){return r(t,o(t),e)}})),n.register("enqHK",(function(t,e){var r=n("6YZ77"),o=n("3ApKB"),i=n("kxxJd"),a=n("01Usg"),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=s})),n.register("3ApKB",(function(t,e){var r=n("rH4tm")(Object.getPrototypeOf,Object);t.exports=r})),n.register("ggu9m",(function(t,e){var r=n("8sqc1"),o=n("enqHK"),i=n("le8Vh");t.exports=function(t){return r(t,i,o)}})),n.register("dt2nQ",(function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(n.index=t.index,n.input=t.input),n}})),n.register("rLilK",(function(t,e){var r=n("dCXw9"),o=n("6HWcy"),i=n("7sNvE"),a=n("jRr8p"),s=n("7N1kG");t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return i(t);case"[object Symbol]":return a(t)}}})),n.register("dCXw9",(function(t,e){var r=n("g4Tak");t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}})),n.register("6HWcy",(function(t,e){var r=n("dCXw9");t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}})),n.register("7sNvE",(function(t,e){var r=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}})),n.register("jRr8p",(function(t,e){var r=n("hmS77"),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}})),n.register("7N1kG",(function(t,e){var r=n("dCXw9");t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}})),n.register("fhHRn",(function(t,e){var r=n("3tfEc"),o=n("3ApKB"),i=n("cVmaJ");t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}})),n.register("3tfEc",(function(t,e){var r=n("li2L8"),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i})),n.register("7aHON",(function(t,e){var r=n("chIJ2"),o=n("1gRpc"),i=n("gs7ZB"),a=i&&i.isMap,s=a?o(a):r;t.exports=s})),n.register("chIJ2",(function(t,e){var r=n("dNvdM"),o=n("hSqRh");t.exports=function(t){return o(t)&&"[object Map]"==r(t)}})),n.register("dsaYU",(function(t,e){var r=n("inucf"),o=n("1gRpc"),i=n("gs7ZB"),a=i&&i.isSet,s=a?o(a):r;t.exports=s})),n.register("inucf",(function(t,e){var r=n("dNvdM"),o=n("hSqRh");t.exports=function(t){return o(t)&&"[object Set]"==r(t)}})),n.register("8eaqo",(function(t,e){var r=n("5SAEr"),o=n("bTSCa");t.exports=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:o(e),r(t,e<0?0:e,i)):[]}})),n.register("5SAEr",(function(t,e){t.exports=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}})),n.register("bTSCa",(function(t,e){var r=n("5bBhv");t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}})),n.register("5bBhv",(function(t,e){var r=n("26ESx"),o=1/0;t.exports=function(t){return t?(t=r(t))===o||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}})),n.register("26ESx",(function(t,e){var r=n("cslpC"),o=n("li2L8"),i=n("7cSWM"),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}})),n.register("cslpC",(function(t,e){var r=n("wtgLc"),o=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(o,""):t}})),n.register("wtgLc",(function(t,e){var r=/\s/;t.exports=function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}})),n.register("ko1vo",(function(t,e){var r=n("k9hdr"),o=n("3SybD"),i=n("hSqRh");t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==r(t)}})),n.register("kDhcp",(function(t,e){var r=n("8zuh0"),o=n("1gRpc"),i=n("gs7ZB"),a=i&&i.isRegExp,s=a?o(a):r;t.exports=s})),n.register("8zuh0",(function(t,e){var r=n("k9hdr"),o=n("hSqRh");t.exports=function(t){return o(t)&&"[object RegExp]"==r(t)}})),n.register("7kw4i",(function(t,e){var r=n("gVbGh"),o=n("cBPFM"),i=n("4MpcS"),a=n("ggu9m");t.exports=function(t,e){if(null==t)return{};var n=r(a(t),(function(t){return[t]}));return e=o(e),i(t,n,(function(t,r){return e(t,r[0])}))}})),n.register("4MpcS",(function(t,e){var r=n("eJOrG"),o=n("8Soeb"),i=n("8ofAV");t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],l=r(t,c);n(l,c)&&o(u,i(c,t),l)}return u}})),n.register("8Soeb",(function(t,e){var r=n("fvSef"),o=n("8ofAV"),i=n("5YH1U"),a=n("li2L8"),s=n("3hNC9");t.exports=function(t,e,n,u){if(!a(t))return t;for(var c=-1,l=(e=o(e,t)).length,f=l-1,p=t;null!=p&&++c<l;){var d=s(e[c]),h=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return t;if(c!=f){var v=p[d];void 0===(h=u?u(v,d,p):void 0)&&(h=a(v)?v:i(e[c+1])?[]:{})}r(p,d,h),p=p[d]}return t}})),n.register("hTx0L",(function(t,e){var r=n("fvSef"),o=n("dPNFS"),i=n("0gJpV"),a=n("hfC1t"),s=n("cVmaJ"),u=n("e2a9e"),c=Object.prototype.hasOwnProperty,l=i((function(t,e){if(s(e)||a(e))o(e,u(e),t);else for(var n in e)c.call(e,n)&&r(t,n,e[n])}));t.exports=l})),n.register("0gJpV",(function(t,e){var r=n("15AZL"),o=n("3D33N");t.exports=function(t){return r((function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var u=r[n];u&&t(e,u,n,a)}return e}))}})),n.register("15AZL",(function(t,e){var r=n("gmvIS"),o=n("fxT2N"),i=n("jlkTy");t.exports=function(t,e){return i(o(t,e,r),t+"")}})),n.register("fxT2N",(function(t,e){var r=n("hSnab"),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),u=Array(s);++a<s;)u[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(u),r(t,this,c)}}})),n.register("hSnab",(function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}})),n.register("jlkTy",(function(t,e){var r=n("k4vTN"),o=n("gkdoH")(r);t.exports=o})),n.register("k4vTN",(function(t,e){var r=n("auLyw"),o=n("5Ytuj"),i=n("gmvIS"),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a})),n.register("auLyw",(function(t,e){t.exports=function(t){return function(){return t}}})),n.register("gkdoH",(function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var o=r(),i=16-(o-n);if(n=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}})),n.register("3D33N",(function(t,e){var r=n("2rosp"),o=n("hfC1t"),i=n("5YH1U"),a=n("li2L8");t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}})),n.register("4rTPm",(function(t,e){var r=n("8Mgkj"),o=n("cBPFM"),i=n("d0oeL"),a=n("3SybD"),s=n("3D33N");t.exports=function(t,e,n){var u=a(t)?r:i;return n&&s(t,e,n)&&(e=void 0),u(t,o(e,3))}})),n.register("d0oeL",(function(t,e){var r=n("i3OAU");t.exports=function(t,e){var n;return r(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}})),n.register("a89ul",(function(t,e){var r=n("eN9Mb"),o=n("9FzrZ"),i=n("cBPFM"),a=n("3SybD"),s=n("3D33N");t.exports=function(t,e,n){var u=a(t)?r:o;return n&&s(t,e,n)&&(e=void 0),u(t,i(e,3))}})),n.register("eN9Mb",(function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}})),n.register("9FzrZ",(function(t,e){var r=n("i3OAU");t.exports=function(t,e){var n=!0;return r(t,(function(t,r,o){return n=!!e(t,r,o)})),n}})),n.register("3CODa",(function(t,e){var r=n("fUGvY"),o=n("hfC1t"),i=n("ko1vo"),a=n("bTSCa"),s=n("4eHM6"),u=Math.max;t.exports=function(t,e,n,c){t=o(t)?t:s(t),n=n&&!c?a(n):0;var l=t.length;return n<0&&(n=u(l+n,0)),i(t)?n<=l&&t.indexOf(e,n)>-1:!!l&&r(t,e,n)>-1}})),n.register("fUGvY",(function(t,e){var r=n("dlrzi"),o=n("ieoeg"),i=n("akrE4");t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}})),n.register("dlrzi",(function(t,e){t.exports=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}})),n.register("ieoeg",(function(t,e){t.exports=function(t){return t!=t}})),n.register("akrE4",(function(t,e){t.exports=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}})),n.register("eNvXX",(function(t,e){var r=n("j7sQu");t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}})),n.register("j7sQu",(function(t,e){var r=n("6YZ77"),o=n("jljyE");t.exports=function t(e,n,i,a,s){var u=-1,c=e.length;for(i||(i=o),s||(s=[]);++u<c;){var l=e[u];n>0&&i(l)?n>1?t(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}})),n.register("jljyE",(function(t,e){var r=n("hmS77"),o=n("i8N8v"),i=n("3SybD"),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}})),n.register("iRkuP",(function(t,e){var r=n("6yQEq");t.exports=function(t){return t&&t.length?r(t):[]}})),n.register("6yQEq",(function(t,e){var r=n("ghNts"),o=n("gYKC5"),i=n("7xdDu"),a=n("fpZ84"),s=n("e1zan"),u=n("8JBtI");t.exports=function(t,e,n){var c=-1,l=o,f=t.length,p=!0,d=[],h=d;if(n)p=!1,l=i;else if(f>=200){var v=e?null:s(t);if(v)return u(v);p=!1,l=a,h=new r}else h=e?[]:d;t:for(;++c<f;){var y=t[c],m=e?e(y):y;if(y=n||0!==y?y:0,p&&m==m){for(var g=h.length;g--;)if(h[g]===m)continue t;e&&h.push(m),d.push(y)}else l(h,m,n)||(h!==d&&h.push(m),d.push(y))}return d}})),n.register("gYKC5",(function(t,e){var r=n("fUGvY");t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}})),n.register("7xdDu",(function(t,e){t.exports=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}})),n.register("e1zan",(function(t,e){var r=n("4zcGm"),o=n("fx08h"),i=n("8JBtI"),a=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=a})),n.register("fx08h",(function(t,e){t.exports=function(){}})),n.register("iWFaD",(function(t,e){t.exports=function(t){return void 0===t}})),n.register("3TjNg",(function(t,e){t.exports=n("jPq1E")})),n.register("jPq1E",(function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}})),n.register("1LMU5",(function(t,e){t.exports=function(t){for(var e=-1,r=null==t?0:t.length,n=0,o=[];++e<r;){var i=t[e];i&&(o[n++]=i)}return o}})),n.register("9cKYI",(function(t,e){var r=n("afHc0"),o=n("7MzEZ"),i=n("cBPFM"),a=n("3SybD"),s=n("8d2jB");t.exports=function(t,e){return(a(t)?r:o)(t,s(i(e,3)))}})),n.register("7MzEZ",(function(t,e){var r=n("i3OAU");t.exports=function(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}})),n.register("8d2jB",(function(t,e){t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}})),n.register("eZZZl",(function(t,e){var r=n("3cYtO"),o=n("j7sQu"),i=n("15AZL"),a=n("bBCxs"),s=i((function(t,e){return a(t)?r(t,o(e,1,a,!0)):[]}));t.exports=s})),n.register("3cYtO",(function(t,e){var r=n("ghNts"),o=n("gYKC5"),i=n("7xdDu"),a=n("gVbGh"),s=n("1gRpc"),u=n("fpZ84");t.exports=function(t,e,n,c){var l=-1,f=o,p=!0,d=t.length,h=[],v=e.length;if(!d)return h;n&&(e=a(e,s(n))),c?(f=i,p=!1):e.length>=200&&(f=u,p=!1,e=new r(e));t:for(;++l<d;){var y=t[l],m=null==n?y:n(y);if(y=c||0!==y?y:0,p&&m==m){for(var g=v;g--;)if(e[g]===m)continue t;h.push(y)}else f(e,m,c)||h.push(y)}return h}})),n.register("bBCxs",(function(t,e){var r=n("hfC1t"),o=n("hSqRh");t.exports=function(t){return o(t)&&r(t)}})),n.register("8CjqV",(function(t,e){var r=n("fUGvY"),o=n("bTSCa"),i=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var s=null==n?0:o(n);return s<0&&(s=i(a+s,0)),r(t,e,s)}})),n.register("9kHzu",(function(t,e){var r=n("lfQ8O")(n("1360s"));t.exports=r})),n.register("lfQ8O",(function(t,e){var r=n("cBPFM"),o=n("hfC1t"),i=n("e2a9e");t.exports=function(t){return function(e,n,a){var s=Object(e);if(!o(e)){var u=r(n,3);e=i(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[u?e[c]:c]:void 0}}})),n.register("1360s",(function(t,e){var r=n("dlrzi"),o=n("cBPFM"),i=n("bTSCa"),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:i(n);return u<0&&(u=a(s+u,0)),r(t,o(e,3),u)}})),n.register("bOO5X",(function(t,e){var r=n("afHc0"),o=n("7MzEZ"),i=n("cBPFM"),a=n("3SybD");t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}})),n.register("4Kej7",(function(t,e){var r=n("15AZL"),o=n("2rosp"),i=n("3D33N"),a=n("le8Vh"),s=Object.prototype,u=s.hasOwnProperty,c=r((function(t,e){t=Object(t);var r=-1,n=e.length,c=n>2?e[2]:void 0;for(c&&i(e[0],e[1],c)&&(n=1);++r<n;)for(var l=e[r],f=a(l),p=-1,d=f.length;++p<d;){var h=f[p],v=t[h];(void 0===v||o(v,s[h])&&!u.call(t,h))&&(t[h]=l[h])}return t}));t.exports=c})),n.register("lIKAq",(function(t,e){var r=n("aNtD8"),o=n("i3OAU"),i=n("cBPFM"),a=n("aw0sH"),s=n("3SybD");t.exports=function(t,e,n){var u=s(t)?r:a,c=arguments.length<3;return u(t,i(e,4),n,c,o)}})),n.register("aNtD8",(function(t,e){t.exports=function(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}})),n.register("aw0sH",(function(t,e){t.exports=function(t,e,r,n,o){return o(t,(function(t,o,i){r=n?(n=!1,t):e(r,t,o,i)})),r}})),n.register("fcJe6",(function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}})),n.register("e9Dct",(function(t,e){var r=n("bMWgW"),o=n("57wxA"),i=Object.prototype.hasOwnProperty,a=o((function(t,e,n){i.call(t,n)?t[n].push(e):r(t,n,[e])}));t.exports=a})),n.register("57wxA",(function(t,e){var r=n("138eB"),o=n("6v8xg"),i=n("cBPFM"),a=n("3SybD");t.exports=function(t,e){return function(n,s){var u=a(n)?r:o,c=e?e():{};return u(n,t,i(s,2),c)}}})),n.register("138eB",(function(t,e){t.exports=function(t,e,r,n){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(n,a,r(a),t)}return n}})),n.register("6v8xg",(function(t,e){var r=n("i3OAU");t.exports=function(t,e,n,o){return r(t,(function(t,r,i){e(o,t,n(t),i)})),o}})),n.register("jGHvK",(function(t,e){var r=n("j7sQu"),o=n("fW6i0");t.exports=function(t,e){return r(o(t,e),1)}})),n.register("iT9CN",(function(t,e){var r=n("5SAEr"),o=n("bTSCa");t.exports=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:o(e),r(t,0,(e=i-e)<0?0:e)):[]}})),n.register("hAHQr",(function(t,e){var r=n("dwy1m")("toUpperCase");t.exports=r})),n.register("dwy1m",(function(t,e){var r=n("kptet"),o=n("azGz5"),i=n("3cfrv"),a=n("ea3nf");t.exports=function(t){return function(e){e=a(e);var n=o(e)?i(e):void 0,s=n?n[0]:e.charAt(0),u=n?r(n,1).join(""):e.slice(1);return s[t]()+u}}})),n.register("kptet",(function(t,e){var r=n("5SAEr");t.exports=function(t,e,n){var o=t.length;return n=void 0===n?o:n,!e&&n>=o?t:r(t,e,n)}})),n.register("azGz5",(function(t,e){var r=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return r.test(t)}})),n.register("3cfrv",(function(t,e){var r=n("crY65"),o=n("azGz5"),i=n("8c3e2");t.exports=function(t){return o(t)?i(t):r(t)}})),n.register("crY65",(function(t,e){t.exports=function(t){return t.split("")}})),n.register("8c3e2",(function(t,e){var r="[\ud800-\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\ud83c[\udffb-\udfff]",i="[^\ud800-\udfff]",a="(?:\ud83c[\udde6-\uddff]){2}",s="[\ud800-\udbff][\udc00-\udfff]",u="(?:"+n+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?",l=c+u+("(?:\\u200d(?:"+[i,a,s].join("|")+")"+c+u+")*"),f="(?:"+[i+n+"?",n,a,s,r].join("|")+")",p=RegExp(o+"(?="+o+")|"+f+l,"g");t.exports=function(t){return t.match(p)||[]}}));var o,i={},a={};Object.defineProperty(a,"__esModule",{value:!0}),a.Parser=a.createSyntaxDiagramsCode=a.clearCache=a.generateCstDts=a.GAstVisitor=a.serializeProduction=a.serializeGrammar=a.Terminal=a.Rule=a.RepetitionWithSeparator=a.RepetitionMandatoryWithSeparator=a.RepetitionMandatory=a.Repetition=a.Option=a.NonTerminal=a.Alternative=a.Alternation=a.defaultLexerErrorProvider=a.NoViableAltException=a.NotAllInputParsedException=a.MismatchedTokenException=a.isRecognitionException=a.EarlyExitException=a.defaultParserErrorProvider=a.LLkLookaheadStrategy=a.getLookaheadPaths=a.tokenName=a.tokenMatcher=a.tokenLabel=a.EOF=a.createTokenInstance=a.createToken=a.LexerDefinitionErrorType=a.Lexer=a.EMPTY_ALT=a.ParserDefinitionErrorType=a.EmbeddedActionsParser=a.CstParser=a.VERSION=void 0;var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.VERSION=void 0,s.VERSION="10.4.2",Object.defineProperty(a,"VERSION",{enumerable:!0,get:function(){return s.VERSION}});var u,c={},l=c&&c.__extends||(u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},u(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),f=c&&c.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(c,"__esModule",{value:!0}),c.EmbeddedActionsParser=c.CstParser=c.Parser=c.EMPTY_ALT=c.ParserDefinitionErrorType=c.DEFAULT_RULE_CONFIG=c.DEFAULT_PARSER_CONFIG=c.END_OF_FILE=void 0;var p=f(n("aRz3z")),d=f(n("fW6i0")),h=f(n("4OAgB")),v=f(n("4eHM6")),y=f(n("6mWlg")),m=f(n("aKVMx")),g={};Object.defineProperty(g,"__esModule",{value:!0}),g.toFastProperties=g.timer=g.PRINT_ERROR=g.PRINT_WARNING=void 0;var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.PRINT_WARNING=E.PRINT_ERROR=void 0,E.PRINT_ERROR=function(t){console&&console.error&&console.error("Error: ".concat(t))},E.PRINT_WARNING=function(t){console&&console.warn&&console.warn("Warning: ".concat(t))},Object.defineProperty(g,"PRINT_WARNING",{enumerable:!0,get:function(){return E.PRINT_WARNING}}),Object.defineProperty(g,"PRINT_ERROR",{enumerable:!0,get:function(){return E.PRINT_ERROR}});var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.timer=void 0,T.timer=function(t){var e=(new Date).getTime(),r=t();return{time:(new Date).getTime()-e,value:r}},Object.defineProperty(g,"timer",{enumerable:!0,get:function(){return T.timer}});var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.toFastProperties=void 0,O.toFastProperties=function(t){function e(){}e.prototype=t;var r=new e;function n(){return typeof r.bar}return n(),n(),t},Object.defineProperty(g,"toFastProperties",{enumerable:!0,get:function(){return O.toFastProperties}});var _={},R=_&&_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),A=_&&_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_,"__esModule",{value:!0}),_.buildInProdFollowPrefix=_.buildBetweenProdsFollowPrefix=_.computeAllProdsFollows=_.ResyncFollowsWalker=void 0;var N={},I=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(N,"__esModule",{value:!0}),N.RestWalker=void 0;var S=I(n("8eaqo")),b=I(n("4OAgB")),x={};Object.defineProperty(x,"__esModule",{value:!0}),x.isSequenceProd=x.isBranchingProd=x.isOptionalProd=x.getProductionDslName=x.GAstVisitor=x.serializeProduction=x.serializeGrammar=x.Alternative=x.Alternation=x.RepetitionWithSeparator=x.RepetitionMandatoryWithSeparator=x.RepetitionMandatory=x.Repetition=x.Option=x.NonTerminal=x.Terminal=x.Rule=void 0;var P={},L=P&&P.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),k=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(P,"__esModule",{value:!0}),P.serializeProduction=P.serializeGrammar=P.Terminal=P.Alternation=P.RepetitionWithSeparator=P.Repetition=P.RepetitionMandatoryWithSeparator=P.RepetitionMandatory=P.Option=P.Alternative=P.Rule=P.NonTerminal=P.AbstractProduction=void 0;var C=k(n("fW6i0")),M=k(n("4OAgB")),w=k(n("ko1vo")),D=k(n("kDhcp")),U=k(n("7kw4i")),F=k(n("hTx0L"));function j(t){return e=t,(0,w.default)(e.LABEL)&&""!==e.LABEL?t.LABEL:t.name;var e}var B=function(){function t(t){this._definition=t}return Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(t){this._definition=t},enumerable:!1,configurable:!0}),t.prototype.accept=function(t){t.visit(this),(0,M.default)(this.definition,(function(e){e.accept(t)}))},t}();P.AbstractProduction=B;var G=function(t){function e(e){var r=t.call(this,[])||this;return r.idx=1,(0,F.default)(r,(0,U.default)(e,(function(t){return void 0!==t}))),r}return L(e,t),Object.defineProperty(e.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(t){},enumerable:!1,configurable:!0}),e.prototype.accept=function(t){t.visit(this)},e}(B);P.NonTerminal=G;var W=function(t){function e(e){var r=t.call(this,e.definition)||this;return r.orgText="",(0,F.default)(r,(0,U.default)(e,(function(t){return void 0!==t}))),r}return L(e,t),e}(B);P.Rule=W;var z=function(t){function e(e){var r=t.call(this,e.definition)||this;return r.ignoreAmbiguities=!1,(0,F.default)(r,(0,U.default)(e,(function(t){return void 0!==t}))),r}return L(e,t),e}(B);P.Alternative=z;var V=function(t){function e(e){var r=t.call(this,e.definition)||this;return r.idx=1,(0,F.default)(r,(0,U.default)(e,(function(t){return void 0!==t}))),r}return L(e,t),e}(B);P.Option=V;var K=function(t){function e(e){var r=t.call(this,e.definition)||this;return r.idx=1,(0,F.default)(r,(0,U.default)(e,(function(t){return void 0!==t}))),r}return L(e,t),e}(B);P.RepetitionMandatory=K;var Y=function(t){function e(e){var r=t.call(this,e.definition)||this;return r.idx=1,(0,F.default)(r,(0,U.default)(e,(function(t){return void 0!==t}))),r}return L(e,t),e}(B);P.RepetitionMandatoryWithSeparator=Y;var H=function(t){function e(e){var r=t.call(this,e.definition)||this;return r.idx=1,(0,F.default)(r,(0,U.default)(e,(function(t){return void 0!==t}))),r}return L(e,t),e}(B);P.Repetition=H;var X=function(t){function e(e){var r=t.call(this,e.definition)||this;return r.idx=1,(0,F.default)(r,(0,U.default)(e,(function(t){return void 0!==t}))),r}return L(e,t),e}(B);P.RepetitionWithSeparator=X;var q=function(t){function e(e){var r=t.call(this,e.definition)||this;return r.idx=1,r.ignoreAmbiguities=!1,r.hasPredicates=!1,(0,F.default)(r,(0,U.default)(e,(function(t){return void 0!==t}))),r}return L(e,t),Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(t){this._definition=t},enumerable:!1,configurable:!0}),e}(B);P.Alternation=q;var J=function(){function t(t){this.idx=1,(0,F.default)(this,(0,U.default)(t,(function(t){return void 0!==t})))}return t.prototype.accept=function(t){t.visit(this)},t}();function Z(t){function e(t){return(0,C.default)(t,Z)}if(t instanceof G){var r={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return(0,w.default)(t.label)&&(r.label=t.label),r}if(t instanceof z)return{type:"Alternative",definition:e(t.definition)};if(t instanceof V)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof K)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Y)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:Z(new J({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof X)return{type:"RepetitionWithSeparator",idx:t.idx,separator:Z(new J({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof H)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof q)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof J){var n={type:"Terminal",name:t.terminalType.name,label:j(t.terminalType),idx:t.idx};(0,w.default)(t.label)&&(n.terminalLabel=t.label);var o=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=(0,D.default)(o)?o.source:o),n}if(t instanceof W)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}P.Terminal=J,P.serializeGrammar=function(t){return(0,C.default)(t,Z)},P.serializeProduction=Z,Object.defineProperty(x,"Rule",{enumerable:!0,get:function(){return P.Rule}}),Object.defineProperty(x,"Terminal",{enumerable:!0,get:function(){return P.Terminal}}),Object.defineProperty(x,"NonTerminal",{enumerable:!0,get:function(){return P.NonTerminal}}),Object.defineProperty(x,"Option",{enumerable:!0,get:function(){return P.Option}}),Object.defineProperty(x,"Repetition",{enumerable:!0,get:function(){return P.Repetition}}),Object.defineProperty(x,"RepetitionMandatory",{enumerable:!0,get:function(){return P.RepetitionMandatory}}),Object.defineProperty(x,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return P.RepetitionMandatoryWithSeparator}}),Object.defineProperty(x,"RepetitionWithSeparator",{enumerable:!0,get:function(){return P.RepetitionWithSeparator}}),Object.defineProperty(x,"Alternation",{enumerable:!0,get:function(){return P.Alternation}}),Object.defineProperty(x,"Alternative",{enumerable:!0,get:function(){return P.Alternative}}),Object.defineProperty(x,"serializeGrammar",{enumerable:!0,get:function(){return P.serializeGrammar}}),Object.defineProperty(x,"serializeProduction",{enumerable:!0,get:function(){return P.serializeProduction}});var $={};Object.defineProperty($,"__esModule",{value:!0}),$.GAstVisitor=void 0;var Q=function(){function t(){}return t.prototype.visit=function(t){var e=t;switch(e.constructor){case P.NonTerminal:return this.visitNonTerminal(e);case P.Alternative:return this.visitAlternative(e);case P.Option:return this.visitOption(e);case P.RepetitionMandatory:return this.visitRepetitionMandatory(e);case P.RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(e);case P.RepetitionWithSeparator:return this.visitRepetitionWithSeparator(e);case P.Repetition:return this.visitRepetition(e);case P.Alternation:return this.visitAlternation(e);case P.Terminal:return this.visitTerminal(e);case P.Rule:return this.visitRule(e);default:throw Error("non exhaustive match")}},t.prototype.visitNonTerminal=function(t){},t.prototype.visitAlternative=function(t){},t.prototype.visitOption=function(t){},t.prototype.visitRepetition=function(t){},t.prototype.visitRepetitionMandatory=function(t){},t.prototype.visitRepetitionMandatoryWithSeparator=function(t){},t.prototype.visitRepetitionWithSeparator=function(t){},t.prototype.visitAlternation=function(t){},t.prototype.visitTerminal=function(t){},t.prototype.visitRule=function(t){},t}();$.GAstVisitor=Q,Object.defineProperty(x,"GAstVisitor",{enumerable:!0,get:function(){return $.GAstVisitor}});var tt={},et=tt&&tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tt,"__esModule",{value:!0}),tt.getProductionDslName=tt.isBranchingProd=tt.isOptionalProd=tt.isSequenceProd=void 0;var rt=et(n("4rTPm")),nt=et(n("a89ul")),ot=et(n("3CODa"));tt.isSequenceProd=function(t){return t instanceof P.Alternative||t instanceof P.Option||t instanceof P.Repetition||t instanceof P.RepetitionMandatory||t instanceof P.RepetitionMandatoryWithSeparator||t instanceof P.RepetitionWithSeparator||t instanceof P.Terminal||t instanceof P.Rule},tt.isOptionalProd=function t(e,r){return void 0===r&&(r=[]),!!(e instanceof P.Option||e instanceof P.Repetition||e instanceof P.RepetitionWithSeparator)||(e instanceof P.Alternation?(0,rt.default)(e.definition,(function(e){return t(e,r)})):!(e instanceof P.NonTerminal&&(0,ot.default)(r,e))&&(e instanceof P.AbstractProduction&&(e instanceof P.NonTerminal&&r.push(e),(0,nt.default)(e.definition,(function(e){return t(e,r)})))))},tt.isBranchingProd=function(t){return t instanceof P.Alternation},tt.getProductionDslName=function(t){if(t instanceof P.NonTerminal)return"SUBRULE";if(t instanceof P.Option)return"OPTION";if(t instanceof P.Alternation)return"OR";if(t instanceof P.RepetitionMandatory)return"AT_LEAST_ONE";if(t instanceof P.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(t instanceof P.RepetitionWithSeparator)return"MANY_SEP";if(t instanceof P.Repetition)return"MANY";if(t instanceof P.Terminal)return"CONSUME";throw Error("non exhaustive match")},Object.defineProperty(x,"getProductionDslName",{enumerable:!0,get:function(){return tt.getProductionDslName}}),Object.defineProperty(x,"isOptionalProd",{enumerable:!0,get:function(){return tt.isOptionalProd}}),Object.defineProperty(x,"isBranchingProd",{enumerable:!0,get:function(){return tt.isBranchingProd}}),Object.defineProperty(x,"isSequenceProd",{enumerable:!0,get:function(){return tt.isSequenceProd}});var it=function(){function t(){}return t.prototype.walk=function(t,e){var r=this;void 0===e&&(e=[]),(0,b.default)(t.definition,(function(n,o){var i=(0,S.default)(t.definition,o+1);if(n instanceof x.NonTerminal)r.walkProdRef(n,i,e);else if(n instanceof x.Terminal)r.walkTerminal(n,i,e);else if(n instanceof x.Alternative)r.walkFlat(n,i,e);else if(n instanceof x.Option)r.walkOption(n,i,e);else if(n instanceof x.RepetitionMandatory)r.walkAtLeastOne(n,i,e);else if(n instanceof x.RepetitionMandatoryWithSeparator)r.walkAtLeastOneSep(n,i,e);else if(n instanceof x.RepetitionWithSeparator)r.walkManySep(n,i,e);else if(n instanceof x.Repetition)r.walkMany(n,i,e);else{if(!(n instanceof x.Alternation))throw Error("non exhaustive match");r.walkOr(n,i,e)}}))},t.prototype.walkTerminal=function(t,e,r){},t.prototype.walkProdRef=function(t,e,r){},t.prototype.walkFlat=function(t,e,r){var n=e.concat(r);this.walk(t,n)},t.prototype.walkOption=function(t,e,r){var n=e.concat(r);this.walk(t,n)},t.prototype.walkAtLeastOne=function(t,e,r){var n=[new x.Option({definition:t.definition})].concat(e,r);this.walk(t,n)},t.prototype.walkAtLeastOneSep=function(t,e,r){var n=at(t,e,r);this.walk(t,n)},t.prototype.walkMany=function(t,e,r){var n=[new x.Option({definition:t.definition})].concat(e,r);this.walk(t,n)},t.prototype.walkManySep=function(t,e,r){var n=at(t,e,r);this.walk(t,n)},t.prototype.walkOr=function(t,e,r){var n=this,o=e.concat(r);(0,b.default)(t.definition,(function(t){var e=new x.Alternative({definition:[t]});n.walk(e,o)}))},t}();function at(t,e,r){return[new x.Option({definition:[new x.Terminal({terminalType:t.separator})].concat(t.definition)})].concat(e,r)}N.RestWalker=it;var st={},ut=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(st,"__esModule",{value:!0}),st.firstForTerminal=st.firstForBranching=st.firstForSequence=st.first=void 0;var ct=ut(n("eNvXX")),lt=ut(n("iRkuP")),ft=ut(n("fW6i0"));function pt(t){if(t instanceof x.NonTerminal)return pt(t.referencedRule);if(t instanceof x.Terminal)return vt(t);if((0,x.isSequenceProd)(t))return dt(t);if((0,x.isBranchingProd)(t))return ht(t);throw Error("non exhaustive match")}function dt(t){for(var e,r=[],n=t.definition,o=0,i=n.length>o,a=!0;i&&a;)e=n[o],a=(0,x.isOptionalProd)(e),r=r.concat(pt(e)),o+=1,i=n.length>o;return(0,lt.default)(r)}function ht(t){var e=(0,ft.default)(t.definition,(function(t){return pt(t)}));return(0,lt.default)((0,ct.default)(e))}function vt(t){return[t.terminalType]}st.first=pt,st.firstForSequence=dt,st.firstForBranching=ht,st.firstForTerminal=vt;var yt=A(n("4OAgB")),mt=A(n("hTx0L")),gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.IN=void 0,gt.IN="_~IN~_";var Et=function(t){function e(e){var r=t.call(this)||this;return r.topProd=e,r.follows={},r}return R(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},e.prototype.walkTerminal=function(t,e,r){},e.prototype.walkProdRef=function(t,e,r){var n=Tt(t.referencedRule,t.idx)+this.topProd.name,o=e.concat(r),i=new x.Alternative({definition:o}),a=(0,st.first)(i);this.follows[n]=a},e}(N.RestWalker);function Tt(t,e){return t.name+e+gt.IN}_.ResyncFollowsWalker=Et,_.computeAllProdsFollows=function(t){var e={};return(0,yt.default)(t,(function(t){var r=new Et(t).startWalking();(0,mt.default)(e,r)})),e},_.buildBetweenProdsFollowPrefix=Tt,_.buildInProdFollowPrefix=function(t){return t.terminalType.name+t.idx+gt.IN};var Ot={},_t=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.tokenMatcher=Ot.createTokenInstance=Ot.EOF=Ot.createToken=Ot.hasTokenLabel=Ot.tokenName=Ot.tokenLabel=void 0;var Rt=_t(n("ko1vo")),At=_t(n("6mWlg")),Nt=_t(n("iWFaD")),It={},St=It&&It.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(It,"__esModule",{value:!0}),It.Lexer=It.LexerDefinitionErrorType=void 0;var bt={},xt=bt&&bt.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pt=bt&&bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bt,"__esModule",{value:!0}),bt.charCodeToOptimizedIndex=bt.minOptimizationVal=bt.buildLineBreakIssueMessage=bt.LineTerminatorOptimizedTester=bt.isShortPattern=bt.isCustomPattern=bt.cloneEmptyGroups=bt.performWarningRuntimeChecks=bt.performRuntimeChecks=bt.addStickyFlag=bt.addStartOfInput=bt.findUnreachablePatterns=bt.findModesThatDoNotExist=bt.findInvalidGroupType=bt.findDuplicatePatterns=bt.findUnsupportedFlags=bt.findStartOfInputAnchor=bt.findEmptyMatchRegExps=bt.findEndOfInputAnchor=bt.findInvalidPatterns=bt.findMissingPatterns=bt.validatePatterns=bt.analyzeTokenTypes=bt.enableSticky=bt.disableSticky=bt.SUPPORT_STICKY=bt.MODES=bt.DEFAULT_MODE=void 0;var Lt,kt,Ct={};Lt="undefined"!=typeof self?self:Ct,kt=function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx},t.prototype.pattern=function(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");var e=this.disjunction();this.consumeChar("/");for(var r={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":s(r,"global");break;case"i":s(r,"ignoreCase");break;case"m":s(r,"multiLine");break;case"u":s(r,"unicode");break;case"y":s(r,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:e,loc:this.loc(0)}},t.prototype.disjunction=function(){var t=[],e=this.idx;for(t.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(e)}},t.prototype.alternative=function(){for(var t=[],e=this.idx;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(e)}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){var t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":var e;switch(this.consumeChar("?"),this.popChar()){case"=":e="Lookahead";break;case"!":e="NegativeLookahead"}u(e);var r=this.disjunction();return this.consumeChar(")"),{type:e,value:r,loc:this.loc(t)}}!function(){throw Error("Internal Error - Should never get here!")}()},t.prototype.quantifier=function(t){var e,r=this.idx;switch(this.popChar()){case"*":e={atLeast:0,atMost:1/0};break;case"+":e={atLeast:1,atMost:1/0};break;case"?":e={atLeast:0,atMost:1};break;case"{":var n=this.integerIncludingZero();switch(this.popChar()){case"}":e={atLeast:n,atMost:n};break;case",":e=this.isDigit()?{atLeast:n,atMost:this.integerIncludingZero()}:{atLeast:n,atMost:1/0},this.consumeChar("}")}if(!0===t&&void 0===e)return;u(e)}if(!0!==t||void 0!==e)return u(e),"?"===this.peekChar(0)?(this.consumeChar("?"),e.greedy=!1):e.greedy=!0,e.type="Quantifier",e.loc=this.loc(r),e},t.prototype.atom=function(){var t,e=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group()}return void 0===t&&this.isPatternCharacter()&&(t=this.patternCharacter()),u(t),t.loc=this.loc(e),this.isQuantifier()&&(t.quantifier=this.quantifier()),t},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[i("\n"),i("\r"),i("\u2028"),i("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){return{type:"GroupBackReference",value:this.positiveInteger()}},t.prototype.characterClassEscape=function(){var t,e=!1;switch(this.popChar()){case"d":t=c;break;case"D":t=c,e=!0;break;case"s":t=f;break;case"S":t=f,e=!0;break;case"w":t=l;break;case"W":t=l,e=!0}return u(t),{type:"Set",value:t,complement:e}},t.prototype.controlEscapeAtom=function(){var t;switch(this.popChar()){case"f":t=i("\f");break;case"n":t=i("\n");break;case"r":t=i("\r");break;case"t":t=i("\t");break;case"v":t=i("\v")}return u(t),{type:"Character",value:t}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var t=this.popChar();if(!1===/[a-zA-Z]/.test(t))throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:i("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){return{type:"Character",value:i(this.popChar())}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:i(this.popChar())}}},t.prototype.characterClass=function(){var t=[],e=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),e=!0);this.isClassAtom();){var r=this.classAtom();if("Character"===r.type&&this.isRangeDash()){this.consumeChar("-");var n=this.classAtom();if("Character"===n.type){if(n.value<r.value)throw Error("Range out of order in character class");t.push({from:r.value,to:n.value})}else a(r.value,t),t.push(i("-")),a(n.value,t)}else a(r.value,t)}return this.consumeChar("]"),{type:"Set",complement:e,value:t}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:i("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var t=!0;this.consumeChar("("),"?"===this.peekChar(0)?(this.consumeChar("?"),this.consumeChar(":"),t=!1):this.groupIdx++;var e=this.disjunction();this.consumeChar(")");var r={type:"Group",capturing:t,value:e};return t&&(r.idx=this.groupIdx),r},t.prototype.positiveInteger=function(){var t=this.popChar();if(!1===o.test(t))throw Error("Expecting a positive integer");for(;n.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)},t.prototype.integerIncludingZero=function(){var t=this.popChar();if(!1===n.test(t))throw Error("Expecting an integer");for(;n.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)},t.prototype.patternCharacter=function(){var t=this.popChar();switch(t){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:i(t)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},t.prototype.isDigit=function(){return n.test(this.peekChar(0))},t.prototype.isClassAtom=function(t){switch(void 0===t&&(t=0),this.peekChar(t)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},t.prototype.isQuantifier=function(){var t=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(t)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(t){for(var e="",n=0;n<t;n++){var o=this.popChar();if(!1===r.test(o))throw Error("Expecting a HexDecimal digits");e+=o}return{type:"Character",value:parseInt(e,16)}},t.prototype.peekChar=function(t){return void 0===t&&(t=0),this.input[this.idx+t]},t.prototype.popChar=function(){var t=this.peekChar(0);return this.consumeChar(),t},t.prototype.consumeChar=function(t){if(void 0!==t&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},t.prototype.loc=function(t){return{begin:t,end:this.idx}};var e,r=/[0-9a-fA-F]/,n=/[0-9]/,o=/[1-9]/;function i(t){return t.charCodeAt(0)}function a(t,e){void 0!==t.length?t.forEach((function(t){e.push(t)})):e.push(t)}function s(t,e){if(!0===t[e])throw"duplicate flag "+e;t[e]=!0}function u(t){if(void 0===t)throw Error("Internal Error - Should never get here!")}var c=[];for(e=i("0");e<=i("9");e++)c.push(e);var l=[i("_")].concat(c);for(e=i("a");e<=i("z");e++)l.push(e);for(e=i("A");e<=i("Z");e++)l.push(e);var f=[i(" "),i("\f"),i("\n"),i("\r"),i("\t"),i("\v"),i("\t"),i(" "),i(" "),i(" "),i(" "),i(" "),i(" "),i(" "),i(" "),i(" "),i(" "),i(" "),i(" "),i(" "),i("\u2028"),i("\u2029"),i(" "),i(" "),i("　"),i("\ufeff")];function p(){}return p.prototype.visitChildren=function(t){for(var e in t){var r=t[e];t.hasOwnProperty(e)&&(void 0!==r.type?this.visit(r):Array.isArray(r)&&r.forEach((function(t){this.visit(t)}),this))}},p.prototype.visit=function(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t)}this.visitChildren(t)},p.prototype.visitPattern=function(t){},p.prototype.visitFlags=function(t){},p.prototype.visitDisjunction=function(t){},p.prototype.visitAlternative=function(t){},p.prototype.visitStartAnchor=function(t){},p.prototype.visitEndAnchor=function(t){},p.prototype.visitWordBoundary=function(t){},p.prototype.visitNonWordBoundary=function(t){},p.prototype.visitLookahead=function(t){},p.prototype.visitNegativeLookahead=function(t){},p.prototype.visitCharacter=function(t){},p.prototype.visitSet=function(t){},p.prototype.visitGroup=function(t){},p.prototype.visitGroupBackReference=function(t){},p.prototype.visitQuantifier=function(t){},{RegExpParser:t,BaseRegExpVisitor:p,VERSION:"0.5.0"}},"function"==typeof define&&define.amd?define([],kt):Ct?Ct=kt():Lt.regexpToAst=kt();var Mt=Pt(n("3TjNg")),wt=Pt(n("aRz3z")),Dt=Pt(n("1LMU5")),Ut=Pt(n("3SybD")),Ft=Pt(n("4eHM6")),jt=Pt(n("eNvXX")),Bt=Pt(n("9cKYI")),Gt=Pt(n("eZZZl")),Wt=Pt(n("8CjqV")),zt=Pt(n("fW6i0")),Vt=Pt(n("4OAgB")),Kt=Pt(n("ko1vo")),Yt=Pt(n("7kzWE")),Ht=Pt(n("iWFaD")),Xt=Pt(n("9kHzu")),qt=Pt(n("6mWlg")),Jt=Pt(n("e2a9e")),Zt=Pt(n("kDhcp")),$t=Pt(n("bOO5X")),Qt=Pt(n("4Kej7")),te=Pt(n("lIKAq")),ee=Pt(n("3CODa")),re={},ne=re&&re.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),oe=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(re,"__esModule",{value:!0}),re.canMatchCharCode=re.firstCharOptimizedIndices=re.getOptimizedStartCodesIndices=re.failedOptimizationPrefixMsg=void 0;var ie=oe(n("3SybD")),ae=oe(n("a89ul")),se=oe(n("4OAgB")),ue=oe(n("9kHzu")),ce=oe(n("4eHM6")),le=oe(n("3CODa")),fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.clearRegExpParserCache=fe.getRegExpAst=void 0;var pe={},de=new Ct.RegExpParser;fe.getRegExpAst=function(t){var e=t.toString();if(pe.hasOwnProperty(e))return pe[e];var r=de.pattern(e);return pe[e]=r,r},fe.clearRegExpParserCache=function(){pe={}};var he="Complement Sets are not supported for first char optimization";function ve(t,e,r){switch(t.type){case"Disjunction":for(var n=0;n<t.value.length;n++)ve(t.value[n],e,r);break;case"Alternative":var o=t.value;for(n=0;n<o.length;n++){var i=o[n];switch(i.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var a=i;switch(a.type){case"Character":ye(a.value,e,r);break;case"Set":if(!0===a.complement)throw Error(he);(0,se.default)(a.value,(function(t){if("number"==typeof t)ye(t,e,r);else{var n=t;if(!0===r)for(var o=n.from;o<=n.to;o++)ye(o,e,r);else{for(o=n.from;o<=n.to&&o<bt.minOptimizationVal;o++)ye(o,e,r);if(n.to>=bt.minOptimizationVal)for(var i=n.from>=bt.minOptimizationVal?n.from:bt.minOptimizationVal,a=n.to,s=(0,bt.charCodeToOptimizedIndex)(i),u=(0,bt.charCodeToOptimizedIndex)(a),c=s;c<=u;c++)e[c]=c}}}));break;case"Group":ve(a.value,e,r);break;default:throw Error("Non Exhaustive Match")}var s=void 0!==a.quantifier&&0===a.quantifier.atLeast;if("Group"===a.type&&!1===ge(a)||"Group"!==a.type&&!1===s)break}break;default:throw Error("non exhaustive match!")}return(0,ce.default)(e)}function ye(t,e,r){var n=(0,bt.charCodeToOptimizedIndex)(t);e[n]=n,!0===r&&function(t,e){var r=String.fromCharCode(t),n=r.toUpperCase();if(n!==r){e[o=(0,bt.charCodeToOptimizedIndex)(n.charCodeAt(0))]=o}else{var o,i=r.toLowerCase();if(i!==r)e[o=(0,bt.charCodeToOptimizedIndex)(i.charCodeAt(0))]=o}}(t,e)}function me(t,e){return(0,ue.default)(t.value,(function(t){if("number"==typeof t)return(0,le.default)(e,t);var r=t;return void 0!==(0,ue.default)(e,(function(t){return r.from<=t&&t<=r.to}))}))}function ge(t){var e=t.quantifier;return!(!e||0!==e.atLeast)||!!t.value&&((0,ie.default)(t.value)?(0,ae.default)(t.value,ge):ge(t.value))}re.failedOptimizationPrefixMsg='Unable to use "first char" lexer optimizations:\n',re.getOptimizedStartCodesIndices=function(t,e){void 0===e&&(e=!1);try{var r=(0,fe.getRegExpAst)(t);return ve(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===he)e&&(0,g.PRINT_WARNING)("".concat(re.failedOptimizationPrefixMsg)+"\tUnable to optimize: < ".concat(t.toString()," >\n")+"\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var n="";e&&(n="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),(0,g.PRINT_ERROR)("".concat(re.failedOptimizationPrefixMsg,"\n")+"\tFailed parsing: < ".concat(t.toString()," >\n")+"\tUsing the regexp-to-ast library version: ".concat(Ct.VERSION,"\n")+"\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+n)}}return[]},re.firstCharOptimizedIndices=ve;var Ee=function(t){function e(e){var r=t.call(this)||this;return r.targetCharCodes=e,r.found=!1,r}return ne(e,t),e.prototype.visitChildren=function(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}t.prototype.visitChildren.call(this,e)}},e.prototype.visitCharacter=function(t){(0,le.default)(this.targetCharCodes,t.value)&&(this.found=!0)},e.prototype.visitSet=function(t){t.complement?void 0===me(t,this.targetCharCodes)&&(this.found=!0):void 0!==me(t,this.targetCharCodes)&&(this.found=!0)},e}(Ct.BaseRegExpVisitor);re.canMatchCharCode=function(t,e){if(e instanceof RegExp){var r=(0,fe.getRegExpAst)(e),n=new Ee(t);return n.visit(r),n.found}return void 0!==(0,ue.default)(e,(function(e){return(0,le.default)(t,e.charCodeAt(0))}))};var Te="PATTERN";function Oe(t){var e=(0,$t.default)(t,(function(t){return!(0,qt.default)(t,Te)}));return{errors:(0,zt.default)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- missing static 'PATTERN' property",type:It.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[t]}})),valid:(0,Gt.default)(t,e)}}function _e(t){var e=(0,$t.default)(t,(function(t){var e=t[Te];return!((0,Zt.default)(e)||(0,Yt.default)(e)||(0,qt.default)(e,"exec")||(0,Kt.default)(e))}));return{errors:(0,zt.default)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:It.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[t]}})),valid:(0,Gt.default)(t,e)}}bt.DEFAULT_MODE="defaultMode",bt.MODES="modes",bt.SUPPORT_STICKY="boolean"==typeof new RegExp("(?:)").sticky,bt.disableSticky=function(){bt.SUPPORT_STICKY=!1},bt.enableSticky=function(){bt.SUPPORT_STICKY=!0},bt.analyzeTokenTypes=function(t,e){var r,n=(e=(0,Qt.default)(e,{useSticky:bt.SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(t,e){return e()}})).tracer;n("initCharCodeToOptimizedIndexMap",(function(){!function(){if((0,wt.default)(Ge)){Ge=new Array(65536);for(var t=0;t<65536;t++)Ge[t]=t>255?255+~~(t/255):t}}()})),n("Reject Lexer.NA",(function(){r=(0,Bt.default)(t,(function(t){return t[Te]===It.Lexer.NA}))}));var o,i,a,s,u,c,l,f,p,d,h,v=!1;n("Transform Patterns",(function(){v=!1,o=(0,zt.default)(r,(function(t){var r=t[Te];if((0,Zt.default)(r)){var n=r.source;return 1!==n.length||"^"===n||"$"===n||"."===n||r.ignoreCase?2!==n.length||"\\"!==n[0]||(0,ee.default)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],n[1])?e.useSticky?Me(r):Ce(r):n[1]:n}if((0,Yt.default)(r))return v=!0,{exec:r};if("object"==typeof r)return v=!0,r;if("string"==typeof r){if(1===r.length)return r;var o=r.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=new RegExp(o);return e.useSticky?Me(i):Ce(i)}throw Error("non exhaustive match")}))})),n("misc mapping",(function(){i=(0,zt.default)(r,(function(t){return t.tokenTypeIdx})),a=(0,zt.default)(r,(function(t){var e=t.GROUP;if(e!==It.Lexer.SKIPPED){if((0,Kt.default)(e))return e;if((0,Ht.default)(e))return!1;throw Error("non exhaustive match")}})),s=(0,zt.default)(r,(function(t){var e=t.LONGER_ALT;if(e)return(0,Ut.default)(e)?(0,zt.default)(e,(function(t){return(0,Wt.default)(r,t)})):[(0,Wt.default)(r,e)]})),u=(0,zt.default)(r,(function(t){return t.PUSH_MODE})),c=(0,zt.default)(r,(function(t){return(0,qt.default)(t,"POP_MODE")}))})),n("Line Terminator Handling",(function(){var t=je(e.lineTerminatorCharacters);l=(0,zt.default)(r,(function(t){return!1})),"onlyOffset"!==e.positionTracking&&(l=(0,zt.default)(r,(function(e){return(0,qt.default)(e,"LINE_BREAKS")?!!e.LINE_BREAKS:!1===Ue(e,t)&&(0,re.canMatchCharCode)(t,e.PATTERN)})))})),n("Misc Mapping #2",(function(){f=(0,zt.default)(r,we),p=(0,zt.default)(o,De),d=(0,te.default)(r,(function(t,e){var r=e.GROUP;return(0,Kt.default)(r)&&r!==It.Lexer.SKIPPED&&(t[r]=[]),t}),{}),h=(0,zt.default)(o,(function(t,e){return{pattern:o[e],longerAlt:s[e],canLineTerminator:l[e],isCustom:f[e],short:p[e],group:a[e],push:u[e],pop:c[e],tokenTypeIdx:i[e],tokenType:r[e]}}))}));var y=!0,m=[];return e.safeMode||n("First Char Optimization",(function(){m=(0,te.default)(r,(function(t,r,n){if("string"==typeof r.PATTERN){var o=We(r.PATTERN.charCodeAt(0));Be(t,o,h[n])}else if((0,Ut.default)(r.START_CHARS_HINT)){var i;(0,Vt.default)(r.START_CHARS_HINT,(function(e){var r=We("string"==typeof e?e.charCodeAt(0):e);i!==r&&(i=r,Be(t,r,h[n]))}))}else if((0,Zt.default)(r.PATTERN))if(r.PATTERN.unicode)y=!1,e.ensureOptimizations&&(0,g.PRINT_ERROR)("".concat(re.failedOptimizationPrefixMsg)+"\tUnable to analyze < ".concat(r.PATTERN.toString()," > pattern.\n")+"\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var a=(0,re.getOptimizedStartCodesIndices)(r.PATTERN,e.ensureOptimizations);(0,wt.default)(a)&&(y=!1),(0,Vt.default)(a,(function(e){Be(t,e,h[n])}))}else e.ensureOptimizations&&(0,g.PRINT_ERROR)("".concat(re.failedOptimizationPrefixMsg)+"\tTokenType: <".concat(r.name,"> is using a custom token pattern without providing <start_chars_hint> parameter.\n")+"\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),y=!1;return t}),[])})),{emptyGroups:d,patternIdxToConfig:h,charCodeToPatternIdxToConfig:m,hasCustom:v,canBeOptimized:y}},bt.validatePatterns=function(t,e){var r=[],n=Oe(t);r=r.concat(n.errors);var o=_e(n.valid),i=o.valid;return r=(r=(r=(r=(r=r.concat(o.errors)).concat(function(t){var e=[],r=(0,$t.default)(t,(function(t){return(0,Zt.default)(t[Te])}));return e=e.concat(Ae(r)),e=e.concat(Se(r)),e=e.concat(be(r)),e=e.concat(xe(r)),e=e.concat(Ne(r)),e}(i))).concat(Pe(i))).concat(Le(i,e))).concat(ke(i))},bt.findMissingPatterns=Oe,bt.findInvalidPatterns=_e;var Re=/[^\\][$]/;function Ae(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return xt(e,t),e.prototype.visitEndAnchor=function(t){this.found=!0},e}(Ct.BaseRegExpVisitor),r=(0,$t.default)(t,(function(t){var r=t.PATTERN;try{var n=(0,fe.getRegExpAst)(r),o=new e;return o.visit(n),o.found}catch(t){return Re.test(r.source)}}));return(0,zt.default)(r,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+t.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:It.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[t]}}))}function Ne(t){var e=(0,$t.default)(t,(function(t){return t.PATTERN.test("")}));return(0,zt.default)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' must not match an empty string",type:It.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[t]}}))}bt.findEndOfInputAnchor=Ae,bt.findEmptyMatchRegExps=Ne;var Ie=/[^\\[][\^]|^\^/;function Se(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return xt(e,t),e.prototype.visitStartAnchor=function(t){this.found=!0},e}(Ct.BaseRegExpVisitor),r=(0,$t.default)(t,(function(t){var r=t.PATTERN;try{var n=(0,fe.getRegExpAst)(r),o=new e;return o.visit(n),o.found}catch(t){return Ie.test(r.source)}}));return(0,zt.default)(r,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+t.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:It.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[t]}}))}function be(t){var e=(0,$t.default)(t,(function(t){var e=t[Te];return e instanceof RegExp&&(e.multiline||e.global)}));return(0,zt.default)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:It.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[t]}}))}function xe(t){var e=[],r=(0,zt.default)(t,(function(r){return(0,te.default)(t,(function(t,n){return r.PATTERN.source!==n.PATTERN.source||(0,ee.default)(e,n)||n.PATTERN===It.Lexer.NA||(e.push(n),t.push(n)),t}),[])}));r=(0,Dt.default)(r);var n=(0,$t.default)(r,(function(t){return t.length>1}));return(0,zt.default)(n,(function(t){var e=(0,zt.default)(t,(function(t){return t.name})),r=(0,Mt.default)(t).PATTERN;return{message:"The same RegExp pattern ->".concat(r,"<-")+"has been used in all of the following Token Types: ".concat(e.join(", ")," <-"),type:It.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:t}}))}function Pe(t){var e=(0,$t.default)(t,(function(t){if(!(0,qt.default)(t,"GROUP"))return!1;var e=t.GROUP;return e!==It.Lexer.SKIPPED&&e!==It.Lexer.NA&&!(0,Kt.default)(e)}));return(0,zt.default)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:It.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[t]}}))}function Le(t,e){var r=(0,$t.default)(t,(function(t){return void 0!==t.PUSH_MODE&&!(0,ee.default)(e,t.PUSH_MODE)}));return(0,zt.default)(r,(function(t){return{message:"Token Type: ->".concat(t.name,"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->").concat(t.PUSH_MODE,"<-")+"which does not exist",type:It.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[t]}}))}function ke(t){var e=[],r=(0,te.default)(t,(function(t,e,r){var n,o,i=e.PATTERN;return i===It.Lexer.NA||((0,Kt.default)(i)?t.push({str:i,idx:r,tokenType:e}):(0,Zt.default)(i)&&(n=i,o=[".","\\","[","]","|","^","$","(",")","?","*","+","{"],void 0===(0,Xt.default)(o,(function(t){return-1!==n.source.indexOf(t)})))&&t.push({str:i.source,idx:r,tokenType:e})),t}),[]);return(0,Vt.default)(t,(function(t,n){(0,Vt.default)(r,(function(r){var o=r.str,i=r.idx,a=r.tokenType;if(n<i&&function(t,e){if((0,Zt.default)(e)){var r=e.exec(t);return null!==r&&0===r.index}if((0,Yt.default)(e))return e(t,0,[],{});if((0,qt.default)(e,"exec"))return e.exec(t,0,[],{});if("string"==typeof e)return e===t;throw Error("non exhaustive match")}(o,t.PATTERN)){var s="Token: ->".concat(a.name,"<- can never be matched.\n")+"Because it appears AFTER the Token Type ->".concat(t.name,"<-")+"in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE";e.push({message:s,type:It.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[t,a]})}}))})),e}function Ce(t){var e=t.ignoreCase?"i":"";return new RegExp("^(?:".concat(t.source,")"),e)}function Me(t){var e=t.ignoreCase?"iy":"y";return new RegExp("".concat(t.source),e)}function we(t){var e=t.PATTERN;if((0,Zt.default)(e))return!1;if((0,Yt.default)(e))return!0;if((0,qt.default)(e,"exec"))return!0;if((0,Kt.default)(e))return!1;throw Error("non exhaustive match")}function De(t){return!(!(0,Kt.default)(t)||1!==t.length)&&t.charCodeAt(0)}function Ue(t,e){if((0,qt.default)(t,"LINE_BREAKS"))return!1;if((0,Zt.default)(t.PATTERN)){try{(0,re.canMatchCharCode)(e,t.PATTERN)}catch(t){return{issue:It.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:t.message}}return!1}if((0,Kt.default)(t.PATTERN))return!1;if(we(t))return{issue:It.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function Fe(t,e){if(e.issue===It.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n"+"\tThe problem is in the <".concat(t.name,"> Token Type\n")+"\t Root cause: ".concat(e.errMsg,".\n")+"\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(e.issue===It.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n"+"\tThe problem is in the <".concat(t.name,"> Token Type\n")+"\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}function je(t){return(0,zt.default)(t,(function(t){return(0,Kt.default)(t)?t.charCodeAt(0):t}))}function Be(t,e,r){void 0===t[e]?t[e]=[r]:t[e].push(r)}bt.findStartOfInputAnchor=Se,bt.findUnsupportedFlags=be,bt.findDuplicatePatterns=xe,bt.findInvalidGroupType=Pe,bt.findModesThatDoNotExist=Le,bt.findUnreachablePatterns=ke,bt.addStartOfInput=Ce,bt.addStickyFlag=Me,bt.performRuntimeChecks=function(t,e,r){var n=[];return(0,qt.default)(t,bt.DEFAULT_MODE)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+bt.DEFAULT_MODE+"> property in its definition\n",type:It.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,qt.default)(t,bt.MODES)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+bt.MODES+"> property in its definition\n",type:It.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,qt.default)(t,bt.MODES)&&(0,qt.default)(t,bt.DEFAULT_MODE)&&!(0,qt.default)(t.modes,t.defaultMode)&&n.push({message:"A MultiMode Lexer cannot be initialized with a ".concat(bt.DEFAULT_MODE,": <").concat(t.defaultMode,">")+"which does not exist\n",type:It.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,qt.default)(t,bt.MODES)&&(0,Vt.default)(t.modes,(function(t,e){(0,Vt.default)(t,(function(r,o){if((0,Ht.default)(r))n.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+"<".concat(e,"> at index: <").concat(o,">\n"),type:It.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,qt.default)(r,"LONGER_ALT")){var i=(0,Ut.default)(r.LONGER_ALT)?r.LONGER_ALT:[r.LONGER_ALT];(0,Vt.default)(i,(function(o){(0,Ht.default)(o)||(0,ee.default)(t,o)||n.push({message:"A MultiMode Lexer cannot be initialized with a longer_alt <".concat(o.name,"> on token <").concat(r.name,"> outside of mode <").concat(e,">\n"),type:It.LexerDefinitionErrorType.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})}))}}))})),n},bt.performWarningRuntimeChecks=function(t,e,r){var n=[],o=!1,i=(0,Dt.default)((0,jt.default)((0,Ft.default)(t.modes))),a=(0,Bt.default)(i,(function(t){return t[Te]===It.Lexer.NA})),s=je(r);return e&&(0,Vt.default)(a,(function(t){var e=Ue(t,s);if(!1!==e){var r={message:Fe(t,e),type:e.issue,tokenType:t};n.push(r)}else(0,qt.default)(t,"LINE_BREAKS")?!0===t.LINE_BREAKS&&(o=!0):(0,re.canMatchCharCode)(s,t.PATTERN)&&(o=!0)})),e&&!o&&n.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:It.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),n},bt.cloneEmptyGroups=function(t){var e={},r=(0,Jt.default)(t);return(0,Vt.default)(r,(function(r){var n=t[r];if(!(0,Ut.default)(n))throw Error("non exhaustive match");e[r]=[]})),e},bt.isCustomPattern=we,bt.isShortPattern=De,bt.LineTerminatorOptimizedTester={test:function(t){for(var e=t.length,r=this.lastIndex;r<e;r++){var n=t.charCodeAt(r);if(10===n)return this.lastIndex=r+1,!0;if(13===n)return 10===t.charCodeAt(r+1)?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0},bt.buildLineBreakIssueMessage=Fe,bt.minOptimizationVal=256;var Ge=[];function We(t){return t<bt.minOptimizationVal?t:Ge[t]}bt.charCodeToOptimizedIndex=We;var ze=St(n("fx08h")),Ve=St(n("aRz3z")),Ke=St(n("3SybD")),Ye=St(n("fcJe6")),He=St(n("9cKYI")),Xe=St(n("fW6i0")),qe=St(n("4OAgB")),Je=St(n("e2a9e")),Ze=St(n("iWFaD")),$e=St(n("gmvIS")),Qe=St(n("hTx0L")),tr=St(n("lIKAq")),er=St(n("aKVMx")),rr={},nr=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rr,"__esModule",{value:!0}),rr.isTokenType=rr.hasExtendingTokensTypesMapProperty=rr.hasExtendingTokensTypesProperty=rr.hasCategoriesProperty=rr.hasShortKeyProperty=rr.singleAssignCategoriesToksMap=rr.assignCategoriesMapProp=rr.assignCategoriesTokensProp=rr.assignTokenDefaultProps=rr.expandCategories=rr.augmentTokenTypes=rr.tokenIdxToClass=rr.tokenShortNameIdx=rr.tokenStructuredMatcherNoCategories=rr.tokenStructuredMatcher=void 0;var or=nr(n("aRz3z")),ir=nr(n("1LMU5")),ar=nr(n("3SybD")),sr=nr(n("eNvXX")),ur=nr(n("eZZZl")),cr=nr(n("fW6i0")),lr=nr(n("4OAgB")),fr=nr(n("6mWlg")),pr=nr(n("3CODa")),dr=nr(n("aKVMx"));function hr(t){for(var e=(0,dr.default)(t),r=t,n=!0;n;){r=(0,ir.default)((0,sr.default)((0,cr.default)(r,(function(t){return t.CATEGORIES}))));var o=(0,ur.default)(r,e);e=e.concat(o),(0,or.default)(o)?n=!1:r=o}return e}function vr(t){(0,lr.default)(t,(function(t){Er(t)||(rr.tokenIdxToClass[rr.tokenShortNameIdx]=t,t.tokenTypeIdx=rr.tokenShortNameIdx++),Tr(t)&&!(0,ar.default)(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),Tr(t)||(t.CATEGORIES=[]),Or(t)||(t.categoryMatches=[]),_r(t)||(t.categoryMatchesMap={})}))}function yr(t){(0,lr.default)(t,(function(t){t.categoryMatches=[],(0,lr.default)(t.categoryMatchesMap,(function(e,r){t.categoryMatches.push(rr.tokenIdxToClass[r].tokenTypeIdx)}))}))}function mr(t){(0,lr.default)(t,(function(t){gr([],t)}))}function gr(t,e){(0,lr.default)(t,(function(t){e.categoryMatchesMap[t.tokenTypeIdx]=!0})),(0,lr.default)(e.CATEGORIES,(function(r){var n=t.concat(e);(0,pr.default)(n,r)||gr(n,r)}))}function Er(t){return(0,fr.default)(t,"tokenTypeIdx")}function Tr(t){return(0,fr.default)(t,"CATEGORIES")}function Or(t){return(0,fr.default)(t,"categoryMatches")}function _r(t){return(0,fr.default)(t,"categoryMatchesMap")}rr.tokenStructuredMatcher=function(t,e){var r=t.tokenTypeIdx;return r===e.tokenTypeIdx||!0===e.isParent&&!0===e.categoryMatchesMap[r]},rr.tokenStructuredMatcherNoCategories=function(t,e){return t.tokenTypeIdx===e.tokenTypeIdx},rr.tokenShortNameIdx=1,rr.tokenIdxToClass={},rr.augmentTokenTypes=function(t){var e=hr(t);vr(e),mr(e),yr(e),(0,lr.default)(e,(function(t){t.isParent=t.categoryMatches.length>0}))},rr.expandCategories=hr,rr.assignTokenDefaultProps=vr,rr.assignCategoriesTokensProp=yr,rr.assignCategoriesMapProp=mr,rr.singleAssignCategoriesToksMap=gr,rr.hasShortKeyProperty=Er,rr.hasCategoriesProperty=Tr,rr.hasExtendingTokensTypesProperty=Or,rr.hasExtendingTokensTypesMapProperty=_r,rr.isTokenType=function(t){return(0,fr.default)(t,"tokenTypeIdx")};var Rr,Ar={};Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.defaultLexerErrorProvider=void 0,Ar.defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(t){return"Unable to pop Lexer Mode after encountering Token ->".concat(t.image,"<- The Mode Stack is empty")},buildUnexpectedCharactersMessage:function(t,e,r,n,o){return"unexpected character: ->".concat(t.charAt(e),"<- at offset: ").concat(e,",")+" skipped ".concat(r," characters.")}},(Rr=It.LexerDefinitionErrorType||(It.LexerDefinitionErrorType={}))[Rr.MISSING_PATTERN=0]="MISSING_PATTERN",Rr[Rr.INVALID_PATTERN=1]="INVALID_PATTERN",Rr[Rr.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",Rr[Rr.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",Rr[Rr.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",Rr[Rr.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",Rr[Rr.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",Rr[Rr.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",Rr[Rr.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",Rr[Rr.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",Rr[Rr.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",Rr[Rr.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",Rr[Rr.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",Rr[Rr.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",Rr[Rr.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",Rr[Rr.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",Rr[Rr.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",Rr[Rr.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE";var Nr={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Ar.defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Nr);var Ir=function(){function t(t,e){void 0===e&&(e=Nr);var r=this;if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=function(t,e){if(!0===r.traceInitPerf){r.traceInitIndent++;var n=new Array(r.traceInitIndent+1).join("\t");r.traceInitIndent<r.traceInitMaxIdent&&console.log("".concat(n,"--\x3e <").concat(t,">"));var o=(0,g.timer)(e),i=o.time,a=o.value,s=i>10?console.warn:console.log;return r.traceInitIndent<r.traceInitMaxIdent&&s("".concat(n,"<-- <").concat(t,"> time: ").concat(i,"ms")),r.traceInitIndent--,a}return e()},"boolean"==typeof e)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=(0,Qe.default)({},Nr,e);var n=this.config.traceInitPerf;!0===n?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof n&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var n,o=!0;r.TRACE_INIT("Lexer Config handling",(function(){if(r.config.lineTerminatorsPattern===Nr.lineTerminatorsPattern)r.config.lineTerminatorsPattern=bt.LineTerminatorOptimizedTester;else if(r.config.lineTerminatorCharacters===Nr.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(e.safeMode&&e.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');r.trackStartLines=/full|onlyStart/i.test(r.config.positionTracking),r.trackEndLines=/full/i.test(r.config.positionTracking),(0,Ke.default)(t)?n={modes:{defaultMode:(0,er.default)(t)},defaultMode:bt.DEFAULT_MODE}:(o=!1,n=(0,er.default)(t))})),!1===r.config.skipValidations&&(r.TRACE_INIT("performRuntimeChecks",(function(){r.lexerDefinitionErrors=r.lexerDefinitionErrors.concat((0,bt.performRuntimeChecks)(n,r.trackStartLines,r.config.lineTerminatorCharacters))})),r.TRACE_INIT("performWarningRuntimeChecks",(function(){r.lexerDefinitionWarning=r.lexerDefinitionWarning.concat((0,bt.performWarningRuntimeChecks)(n,r.trackStartLines,r.config.lineTerminatorCharacters))}))),n.modes=n.modes?n.modes:{},(0,qe.default)(n.modes,(function(t,e){n.modes[e]=(0,He.default)(t,(function(t){return(0,Ze.default)(t)}))}));var i=(0,Je.default)(n.modes);if((0,qe.default)(n.modes,(function(t,n){r.TRACE_INIT("Mode: <".concat(n,"> processing"),(function(){var o;(r.modes.push(n),!1===r.config.skipValidations&&r.TRACE_INIT("validatePatterns",(function(){r.lexerDefinitionErrors=r.lexerDefinitionErrors.concat((0,bt.validatePatterns)(t,i))})),(0,Ve.default)(r.lexerDefinitionErrors))&&((0,rr.augmentTokenTypes)(t),r.TRACE_INIT("analyzeTokenTypes",(function(){o=(0,bt.analyzeTokenTypes)(t,{lineTerminatorCharacters:r.config.lineTerminatorCharacters,positionTracking:e.positionTracking,ensureOptimizations:e.ensureOptimizations,safeMode:e.safeMode,tracer:r.TRACE_INIT})})),r.patternIdxToConfig[n]=o.patternIdxToConfig,r.charCodeToPatternIdxToConfig[n]=o.charCodeToPatternIdxToConfig,r.emptyGroups=(0,Qe.default)({},r.emptyGroups,o.emptyGroups),r.hasCustom=o.hasCustom||r.hasCustom,r.canModeBeOptimized[n]=o.canBeOptimized)}))})),r.defaultMode=n.defaultMode,!(0,Ve.default)(r.lexerDefinitionErrors)&&!r.config.deferDefinitionErrorsHandling){var a=(0,Xe.default)(r.lexerDefinitionErrors,(function(t){return t.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+a)}(0,qe.default)(r.lexerDefinitionWarning,(function(t){(0,g.PRINT_WARNING)(t.message)})),r.TRACE_INIT("Choosing sub-methods implementations",(function(){if(bt.SUPPORT_STICKY?(r.chopInput=$e.default,r.match=r.matchWithTest):(r.updateLastIndex=ze.default,r.match=r.matchWithExec),o&&(r.handleModes=ze.default),!1===r.trackStartLines&&(r.computeNewColumn=$e.default),!1===r.trackEndLines&&(r.updateTokenEndLineColumnLocation=ze.default),/full/i.test(r.config.positionTracking))r.createTokenInstance=r.createFullToken;else if(/onlyStart/i.test(r.config.positionTracking))r.createTokenInstance=r.createStartOnlyToken;else{if(!/onlyOffset/i.test(r.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'.concat(r.config.positionTracking,'"'));r.createTokenInstance=r.createOffsetOnlyToken}r.hasCustom?(r.addToken=r.addTokenUsingPush,r.handlePayload=r.handlePayloadWithCustom):(r.addToken=r.addTokenUsingMemberAccess,r.handlePayload=r.handlePayloadNoCustom)})),r.TRACE_INIT("Failed Optimization Warnings",(function(){var t=(0,tr.default)(r.canModeBeOptimized,(function(t,e,r){return!1===e&&t.push(r),t}),[]);if(e.ensureOptimizations&&!(0,Ve.default)(t))throw Error("Lexer Modes: < ".concat(t.join(", ")," > cannot be optimized.\n")+'\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),r.TRACE_INIT("clearRegExpParserCache",(function(){(0,fe.clearRegExpParserCache)()})),r.TRACE_INIT("toFastProperties",(function(){(0,g.toFastProperties)(r)}))}))}return t.prototype.tokenize=function(t,e){if(void 0===e&&(e=this.defaultMode),!(0,Ve.default)(this.lexerDefinitionErrors)){var r=(0,Xe.default)(this.lexerDefinitionErrors,(function(t){return t.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+r)}return this.tokenizeInternal(t,e)},t.prototype.tokenizeInternal=function(t,e){var r,n,o,i,a,s,u,c,l,f,p,d,h,v,y,m,g=this,E=t,T=E.length,O=0,_=0,R=this.hasCustom?0:Math.floor(t.length/10),A=new Array(R),N=[],I=this.trackStartLines?1:void 0,S=this.trackStartLines?1:void 0,b=(0,bt.cloneEmptyGroups)(this.emptyGroups),x=this.trackStartLines,P=this.config.lineTerminatorsPattern,L=0,k=[],C=[],M=[],w=[];function D(){return k}function U(t){var e=(0,bt.charCodeToOptimizedIndex)(t),r=C[e];return void 0===r?w:r}Object.freeze(w);var F,j=function(t){if(1===M.length&&void 0===t.tokenType.PUSH_MODE){var e=g.config.errorMessageProvider.buildUnableToPopLexerModeMessage(t);N.push({offset:t.startOffset,line:t.startLine,column:t.startColumn,length:t.image.length,message:e})}else{M.pop();var r=(0,Ye.default)(M);k=g.patternIdxToConfig[r],C=g.charCodeToPatternIdxToConfig[r],L=k.length;var n=g.canModeBeOptimized[r]&&!1===g.config.safeMode;m=C&&n?U:D}};function B(t){M.push(t),C=this.charCodeToPatternIdxToConfig[t],k=this.patternIdxToConfig[t],L=k.length,L=k.length;var e=this.canModeBeOptimized[t]&&!1===this.config.safeMode;m=C&&e?U:D}B.call(this,e);for(var G=this.config.recoveryEnabled;O<T;){s=null;var W=E.charCodeAt(O),z=m(W),V=z.length;for(r=0;r<V;r++){var K=(F=z[r]).pattern;if(u=null,!1!==(rt=F.short)?W===rt&&(s=K):!0===F.isCustom?null!==(y=K.exec(E,O,A,b))?(s=y[0],void 0!==y.payload&&(u=y.payload)):s=null:(this.updateLastIndex(K,O),s=this.match(K,t,O)),null!==s){if(void 0!==(a=F.longerAlt)){var Y=a.length;for(o=0;o<Y;o++){var H=k[a[o]],X=H.pattern;if(c=null,!0===H.isCustom?null!==(y=X.exec(E,O,A,b))?(i=y[0],void 0!==y.payload&&(c=y.payload)):i=null:(this.updateLastIndex(X,O),i=this.match(X,t,O)),i&&i.length>s.length){s=i,u=c,F=H;break}}}break}}if(null!==s){if(l=s.length,void 0!==(f=F.group)&&(p=F.tokenTypeIdx,d=this.createTokenInstance(s,O,p,F.tokenType,I,S,l),this.handlePayload(d,u),!1===f?_=this.addToken(A,_,d):b[f].push(d)),t=this.chopInput(t,l),O+=l,S=this.computeNewColumn(S,l),!0===x&&!0===F.canLineTerminator){var q=0,J=void 0,Z=void 0;P.lastIndex=0;do{!0===(J=P.test(s))&&(Z=P.lastIndex-1,q++)}while(!0===J);0!==q&&(I+=q,S=l-Z,this.updateTokenEndLineColumnLocation(d,f,Z,q,I,S,l))}this.handleModes(F,j,B,d)}else{for(var $=O,Q=I,tt=S,et=!1===G;!1===et&&O<T;)for(t=this.chopInput(t,1),O++,n=0;n<L;n++){var rt,nt=k[n];K=nt.pattern;if(!1!==(rt=nt.short)?E.charCodeAt(O)===rt&&(et=!0):!0===nt.isCustom?et=null!==K.exec(E,O,A,b):(this.updateLastIndex(K,O),et=null!==K.exec(t)),!0===et)break}if(h=O-$,v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(E,$,h,Q,tt),N.push({offset:$,line:Q,column:tt,length:h,message:v}),!1===G)break}}return this.hasCustom||(A.length=_),{tokens:A,groups:b,errors:N}},t.prototype.handleModes=function(t,e,r,n){if(!0===t.pop){var o=t.push;e(n),void 0!==o&&r.call(this,o)}else void 0!==t.push&&r.call(this,t.push)},t.prototype.chopInput=function(t,e){return t.substring(e)},t.prototype.updateLastIndex=function(t,e){t.lastIndex=e},t.prototype.updateTokenEndLineColumnLocation=function(t,e,r,n,o,i,a){var s,u;void 0!==e&&(u=(s=r===a-1)?-1:0,1===n&&!0===s||(t.endLine=o+u,t.endColumn=i-1-u))},t.prototype.computeNewColumn=function(t,e){return t+e},t.prototype.createOffsetOnlyToken=function(t,e,r,n){return{image:t,startOffset:e,tokenTypeIdx:r,tokenType:n}},t.prototype.createStartOnlyToken=function(t,e,r,n,o,i){return{image:t,startOffset:e,startLine:o,startColumn:i,tokenTypeIdx:r,tokenType:n}},t.prototype.createFullToken=function(t,e,r,n,o,i,a){return{image:t,startOffset:e,endOffset:e+a-1,startLine:o,endLine:o,startColumn:i,endColumn:i+a-1,tokenTypeIdx:r,tokenType:n}},t.prototype.addTokenUsingPush=function(t,e,r){return t.push(r),e},t.prototype.addTokenUsingMemberAccess=function(t,e,r){return t[e]=r,++e},t.prototype.handlePayloadNoCustom=function(t,e){},t.prototype.handlePayloadWithCustom=function(t,e){null!==e&&(t.payload=e)},t.prototype.matchWithTest=function(t,e,r){return!0===t.test(e)?e.substring(r,t.lastIndex):null},t.prototype.matchWithExec=function(t,e){var r=t.exec(e);return null!==r?r[0]:null},t.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",t.NA=/NOT_APPLICABLE/,t}();function Sr(t){return(0,Rt.default)(t.LABEL)&&""!==t.LABEL}It.Lexer=Ir,Ot.tokenLabel=function(t){return Sr(t)?t.LABEL:t.name},Ot.tokenName=function(t){return t.name},Ot.hasTokenLabel=Sr;var br="parent",xr="categories",Pr="label",Lr="group",kr="push_mode",Cr="pop_mode",Mr="longer_alt",wr="line_breaks",Dr="start_chars_hint";function Ur(t){return function(t){var e=t.pattern,r={};r.name=t.name,(0,Nt.default)(e)||(r.PATTERN=e);if((0,At.default)(t,br))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";(0,At.default)(t,xr)&&(r.CATEGORIES=t[xr]);(0,rr.augmentTokenTypes)([r]),(0,At.default)(t,Pr)&&(r.LABEL=t[Pr]);(0,At.default)(t,Lr)&&(r.GROUP=t[Lr]);(0,At.default)(t,Cr)&&(r.POP_MODE=t[Cr]);(0,At.default)(t,kr)&&(r.PUSH_MODE=t[kr]);(0,At.default)(t,Mr)&&(r.LONGER_ALT=t[Mr]);(0,At.default)(t,wr)&&(r.LINE_BREAKS=t[wr]);(0,At.default)(t,Dr)&&(r.START_CHARS_HINT=t[Dr]);return r}(t)}Ot.createToken=Ur,Ot.EOF=Ur({name:"EOF",pattern:It.Lexer.NA}),(0,rr.augmentTokenTypes)([Ot.EOF]),Ot.createTokenInstance=function(t,e,r,n,o,i,a,s){return{image:e,startOffset:r,endOffset:n,startLine:o,endLine:i,startColumn:a,endColumn:s,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}},Ot.tokenMatcher=function(t,e){return(0,rr.tokenStructuredMatcher)(t,e)};var Fr={},jr=Fr&&Fr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.defaultGrammarValidatorErrorProvider=Fr.defaultGrammarResolverErrorProvider=Fr.defaultParserErrorProvider=void 0;var Br=jr(n("3TjNg")),Gr=jr(n("fW6i0")),Wr=jr(n("lIKAq"));Fr.defaultParserErrorProvider={buildMismatchTokenMessage:function(t){var e=t.expected,r=t.actual,n=(t.previous,t.ruleName,(0,Ot.hasTokenLabel)(e)?"--\x3e ".concat((0,Ot.tokenLabel)(e)," <--"):"token of type --\x3e ".concat(e.name," <--"));return"Expecting ".concat(n," but found --\x3e '").concat(r.image,"' <--")},buildNotAllInputParsedMessage:function(t){var e=t.firstRedundant;t.ruleName;return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage:function(t){var e=t.expectedPathsPerAlt,r=t.actual,n=(t.previous,t.customUserDescription),o=(t.ruleName,"Expecting: "),i="\nbut found: '"+(0,Br.default)(r).image+"'";if(n)return o+n+i;var a=(0,Wr.default)(e,(function(t,e){return t.concat(e)}),[]),s=(0,Gr.default)(a,(function(t){return"[".concat((0,Gr.default)(t,(function(t){return(0,Ot.tokenLabel)(t)})).join(", "),"]")})),u=(0,Gr.default)(s,(function(t,e){return"  ".concat(e+1,". ").concat(t)}));return o+"one of these possible Token sequences:\n".concat(u.join("\n"))+i},buildEarlyExitMessage:function(t){var e=t.expectedIterationPaths,r=t.actual,n=t.customUserDescription,o=(t.ruleName,"Expecting: "),i="\nbut found: '"+(0,Br.default)(r).image+"'";if(n)return o+n+i;var a=(0,Gr.default)(e,(function(t){return"[".concat((0,Gr.default)(t,(function(t){return(0,Ot.tokenLabel)(t)})).join(","),"]")}));return o+("expecting at least one iteration which starts with one of these possible Token sequences::\n  "+"<".concat(a.join(" ,"),">"))+i}},Object.freeze(Fr.defaultParserErrorProvider),Fr.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+"<-\ninside top level rule: ->"+t.name+"<-"}},Fr.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(t,e){var r,n=t.name,o=(0,Br.default)(e),i=o.idx,a=(0,x.getProductionDslName)(o),s=(r=o)instanceof x.Terminal?r.terminalType.name:r instanceof x.NonTerminal?r.nonTerminalName:"",u=i>0,c="->".concat(a).concat(u?i:"","<- ").concat(s?"with argument: ->".concat(s,"<-"):"","\n                  appears more than once (").concat(e.length," times) in the top level rule: ->").concat(n,"<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ");return c=(c=c.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:function(t){return"Namespace conflict found in grammar.\n"+"The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <".concat(t.name,">.\n")+"To resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(t){var e=(0,Gr.default)(t.prefixPath,(function(t){return(0,Ot.tokenLabel)(t)})).join(", "),r=0===t.alternation.idx?"":t.alternation.idx;return"Ambiguous alternatives: <".concat(t.ambiguityIndices.join(" ,"),"> due to common lookahead prefix\n")+"in <OR".concat(r,"> inside <").concat(t.topLevelRule.name,"> Rule,\n")+"<".concat(e,"> may appears as a prefix path in all these alternatives.\n")+"See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(t){var e=(0,Gr.default)(t.prefixPath,(function(t){return(0,Ot.tokenLabel)(t)})).join(", "),r=0===t.alternation.idx?"":t.alternation.idx,n="Ambiguous Alternatives Detected: <".concat(t.ambiguityIndices.join(" ,"),"> in <OR").concat(r,">")+" inside <".concat(t.topLevelRule.name,"> Rule,\n")+"<".concat(e,"> may appears as a prefix path in all these alternatives.\n");return n+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(t){var e=(0,x.getProductionDslName)(t.repetition);return 0!==t.repetition.idx&&(e+=t.repetition.idx),"The repetition <".concat(e,"> within Rule <").concat(t.topLevelRule.name,"> can never consume any tokens.\n")+"This could lead to an infinite loop."},buildTokenNameError:function(t){return"deprecated"},buildEmptyAlternationError:function(t){return"Ambiguous empty alternative: <".concat(t.emptyChoiceIdx+1,">")+" in <OR".concat(t.alternation.idx,"> inside <").concat(t.topLevelRule.name,"> Rule.\n")+"Only the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(t){return"An Alternation cannot have more than 256 alternatives:\n"+"<OR".concat(t.alternation.idx,"> inside <").concat(t.topLevelRule.name,"> Rule.\n has ").concat(t.alternation.definition.length+1," alternatives.")},buildLeftRecursionError:function(t){var e=t.topLevelRule.name,r=(0,Gr.default)(t.leftRecursionPath,(function(t){return t.name})),n="".concat(e," --\x3e ").concat(r.concat([e]).join(" --\x3e "));return"Left Recursion found in grammar.\n"+"rule: <".concat(e,"> can be invoked from itself (directly or indirectly)\n")+"without consuming any Tokens. The grammar path that causes this is: \n ".concat(n,"\n")+" To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring."},buildInvalidRuleNameError:function(t){return"deprecated"},buildDuplicateRuleNameError:function(t){var e;return e=t.topLevelRule instanceof x.Rule?t.topLevelRule.name:t.topLevelRule,"Duplicate definition, rule: ->".concat(e,"<- is already defined in the grammar: ->").concat(t.grammarName,"<-")}};var zr={},Vr=zr&&zr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zr,"__esModule",{value:!0}),zr.validateGrammar=zr.resolveGrammar=void 0;var Kr=Vr(n("4OAgB")),Yr=Vr(n("4Kej7")),Hr={},Xr=Hr&&Hr.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qr=Hr&&Hr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.GastRefResolverVisitor=Hr.resolveGrammar=void 0;var Jr=qr(n("4OAgB")),Zr=qr(n("4eHM6"));Hr.resolveGrammar=function(t,e){var r=new $r(t,e);return r.resolveRefs(),r.errors};var $r=function(t){function e(e,r){var n=t.call(this)||this;return n.nameToTopRule=e,n.errMsgProvider=r,n.errors=[],n}return Xr(e,t),e.prototype.resolveRefs=function(){var t=this;(0,Jr.default)((0,Zr.default)(this.nameToTopRule),(function(e){t.currTopLevel=e,e.accept(t)}))},e.prototype.visitNonTerminal=function(t){var e=this.nameToTopRule[t.nonTerminalName];if(e)t.referencedRule=e;else{var r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:r,type:c.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}},e}(x.GAstVisitor);Hr.GastRefResolverVisitor=$r;var Qr={},tn=Qr&&Qr.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),en=Qr&&Qr.__assign||function(){return en=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},en.apply(this,arguments)},rn=Qr&&Qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.checkPrefixAlternativesAmbiguities=Qr.validateSomeNonEmptyLookaheadPath=Qr.validateTooManyAlts=Qr.RepetitionCollector=Qr.validateAmbiguousAlternationAlternatives=Qr.validateEmptyOrAlternative=Qr.getFirstNoneTerminal=Qr.validateNoLeftRecursion=Qr.validateRuleIsOverridden=Qr.validateRuleDoesNotAlreadyExist=Qr.OccurrenceValidationCollector=Qr.identifyProductionForDuplicates=Qr.validateGrammar=Qr.validateLookahead=void 0;var nn=rn(n("3TjNg")),on=rn(n("aRz3z")),an=rn(n("8eaqo")),sn=rn(n("eNvXX")),un=rn(n("bOO5X")),cn=rn(n("9cKYI")),ln=rn(n("eZZZl")),fn=rn(n("fW6i0")),pn=rn(n("4OAgB")),dn=rn(n("e9Dct")),hn=rn(n("lIKAq")),vn=rn(n("7kw4i")),yn=rn(n("4eHM6")),mn=rn(n("3CODa")),gn=rn(n("jGHvK")),En=rn(n("aKVMx")),Tn={},On=Tn&&Tn.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_n=Tn&&Tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.areTokenCategoriesNotUsed=Tn.isStrictPrefixOfPath=Tn.containsPath=Tn.getLookaheadPathsForOptionalProd=Tn.getLookaheadPathsForOr=Tn.lookAheadSequenceFromAlternatives=Tn.buildSingleAlternativeLookaheadFunction=Tn.buildAlternativesLookAheadFunc=Tn.buildLookaheadFuncForOptionalProd=Tn.buildLookaheadFuncForOr=Tn.getLookaheadPaths=Tn.getProdType=Tn.PROD_TYPE=void 0;var Rn=_n(n("aRz3z")),An=_n(n("eNvXX")),Nn=_n(n("a89ul")),In=_n(n("fW6i0")),Sn=_n(n("4OAgB")),bn=_n(n("6mWlg")),xn=_n(n("lIKAq")),Pn={},Ln=Pn&&Pn.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),kn=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.nextPossibleTokensAfter=Pn.possiblePathsFrom=Pn.NextTerminalAfterAtLeastOneSepWalker=Pn.NextTerminalAfterAtLeastOneWalker=Pn.NextTerminalAfterManySepWalker=Pn.NextTerminalAfterManyWalker=Pn.AbstractNextTerminalAfterProductionWalker=Pn.NextAfterTokenWalker=Pn.AbstractNextPossibleTokensWalker=void 0;var Cn=kn(n("3TjNg")),Mn=kn(n("aRz3z")),wn=kn(n("iT9CN")),Dn=kn(n("8eaqo")),Un=kn(n("fcJe6")),Fn=kn(n("4OAgB")),jn=kn(n("aKVMx")),Bn=function(t){function e(e,r){var n=t.call(this)||this;return n.topProd=e,n.path=r,n.possibleTokTypes=[],n.nextProductionName="",n.nextProductionOccurrence=0,n.found=!1,n.isAtEndOfPath=!1,n}return Ln(e,t),e.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,jn.default)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,jn.default)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},e.prototype.walk=function(e,r){void 0===r&&(r=[]),this.found||t.prototype.walk.call(this,e,r)},e.prototype.walkProdRef=function(t,e,r){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){var n=e.concat(r);this.updateExpectedNext(),this.walk(t.referencedRule,n)}},e.prototype.updateExpectedNext=function(){(0,Mn.default)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},e}(N.RestWalker);Pn.AbstractNextPossibleTokensWalker=Bn;var Gn=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.path=r,n.nextTerminalName="",n.nextTerminalOccurrence=0,n.nextTerminalName=n.path.lastTok.name,n.nextTerminalOccurrence=n.path.lastTokOccurrence,n}return Ln(e,t),e.prototype.walkTerminal=function(t,e,r){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){var n=e.concat(r),o=new x.Alternative({definition:n});this.possibleTokTypes=(0,st.first)(o),this.found=!0}},e}(Bn);Pn.NextAfterTokenWalker=Gn;var Wn=function(t){function e(e,r){var n=t.call(this)||this;return n.topRule=e,n.occurrence=r,n.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},n}return Ln(e,t),e.prototype.startWalking=function(){return this.walk(this.topRule),this.result},e}(N.RestWalker);Pn.AbstractNextTerminalAfterProductionWalker=Wn;var zn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ln(e,t),e.prototype.walkMany=function(e,r,n){if(e.idx===this.occurrence){var o=(0,Cn.default)(r.concat(n));this.result.isEndOfRule=void 0===o,o instanceof x.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkMany.call(this,e,r,n)},e}(Wn);Pn.NextTerminalAfterManyWalker=zn;var Vn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ln(e,t),e.prototype.walkManySep=function(e,r,n){if(e.idx===this.occurrence){var o=(0,Cn.default)(r.concat(n));this.result.isEndOfRule=void 0===o,o instanceof x.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkManySep.call(this,e,r,n)},e}(Wn);Pn.NextTerminalAfterManySepWalker=Vn;var Kn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ln(e,t),e.prototype.walkAtLeastOne=function(e,r,n){if(e.idx===this.occurrence){var o=(0,Cn.default)(r.concat(n));this.result.isEndOfRule=void 0===o,o instanceof x.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkAtLeastOne.call(this,e,r,n)},e}(Wn);Pn.NextTerminalAfterAtLeastOneWalker=Kn;var Yn,Hn,Xn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ln(e,t),e.prototype.walkAtLeastOneSep=function(e,r,n){if(e.idx===this.occurrence){var o=(0,Cn.default)(r.concat(n));this.result.isEndOfRule=void 0===o,o instanceof x.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkAtLeastOneSep.call(this,e,r,n)},e}(Wn);function qn(t,e,r,n){var o=(0,jn.default)(r);o.push(t.name);var i=(0,jn.default)(n);return i.push(1),{idx:e,def:t.definition,ruleStack:o,occurrenceStack:i}}function Jn(t){if(t instanceof x.Option||"Option"===t)return Yn.OPTION;if(t instanceof x.Repetition||"Repetition"===t)return Yn.REPETITION;if(t instanceof x.RepetitionMandatory||"RepetitionMandatory"===t)return Yn.REPETITION_MANDATORY;if(t instanceof x.RepetitionMandatoryWithSeparator||"RepetitionMandatoryWithSeparator"===t)return Yn.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof x.RepetitionWithSeparator||"RepetitionWithSeparator"===t)return Yn.REPETITION_WITH_SEPARATOR;if(t instanceof x.Alternation||"Alternation"===t)return Yn.ALTERNATION;throw Error("non exhaustive match")}Pn.NextTerminalAfterAtLeastOneSepWalker=Xn,Pn.possiblePathsFrom=function t(e,r,n){void 0===n&&(n=[]),n=(0,jn.default)(n);var o=[],i=0;function a(a){var s=t(a.concat((0,Dn.default)(e,i+1)),r,n);return o.concat(s)}for(;n.length<r&&i<e.length;){var s=e[i];if(s instanceof x.Alternative)return a(s.definition);if(s instanceof x.NonTerminal)return a(s.definition);if(s instanceof x.Option)o=a(s.definition);else{if(s instanceof x.RepetitionMandatory)return a(u=s.definition.concat([new x.Repetition({definition:s.definition})]));if(s instanceof x.RepetitionMandatoryWithSeparator)return a(u=[new x.Alternative({definition:s.definition}),new x.Repetition({definition:[new x.Terminal({terminalType:s.separator})].concat(s.definition)})]);if(s instanceof x.RepetitionWithSeparator){var u=s.definition.concat([new x.Repetition({definition:[new x.Terminal({terminalType:s.separator})].concat(s.definition)})]);o=a(u)}else if(s instanceof x.Repetition){u=s.definition.concat([new x.Repetition({definition:s.definition})]);o=a(u)}else{if(s instanceof x.Alternation)return(0,Fn.default)(s.definition,(function(t){!1===(0,Mn.default)(t.definition)&&(o=a(t.definition))})),o;if(!(s instanceof x.Terminal))throw Error("non exhaustive match");n.push(s.terminalType)}}i++}return o.push({partialPath:n,suffixDef:(0,Dn.default)(e,i)}),o},Pn.nextPossibleTokensAfter=function(t,e,r,n){var o="EXIT_NONE_TERMINAL",i=[o],a="EXIT_ALTERNATIVE",s=!1,u=e.length,c=u-n-1,l=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!(0,Mn.default)(f);){var p=f.pop();if(p!==a){var d=p.def,h=p.idx,v=p.ruleStack,y=p.occurrenceStack;if(!(0,Mn.default)(d)){var m=d[0];if(m===o){var g={idx:h,def:(0,Dn.default)(d),ruleStack:(0,wn.default)(v),occurrenceStack:(0,wn.default)(y)};f.push(g)}else if(m instanceof x.Terminal)if(h<u-1){var E=h+1;if(r(e[E],m.terminalType)){g={idx:E,def:(0,Dn.default)(d),ruleStack:v,occurrenceStack:y};f.push(g)}}else{if(h!==u-1)throw Error("non exhaustive match");l.push({nextTokenType:m.terminalType,nextTokenOccurrence:m.idx,ruleStack:v,occurrenceStack:y}),s=!0}else if(m instanceof x.NonTerminal){var T=(0,jn.default)(v);T.push(m.nonTerminalName);var O=(0,jn.default)(y);O.push(m.idx);g={idx:h,def:m.definition.concat(i,(0,Dn.default)(d)),ruleStack:T,occurrenceStack:O};f.push(g)}else if(m instanceof x.Option){var _={idx:h,def:(0,Dn.default)(d),ruleStack:v,occurrenceStack:y};f.push(_),f.push(a);var R={idx:h,def:m.definition.concat((0,Dn.default)(d)),ruleStack:v,occurrenceStack:y};f.push(R)}else if(m instanceof x.RepetitionMandatory){var A=new x.Repetition({definition:m.definition,idx:m.idx});g={idx:h,def:m.definition.concat([A],(0,Dn.default)(d)),ruleStack:v,occurrenceStack:y};f.push(g)}else if(m instanceof x.RepetitionMandatoryWithSeparator){var N=new x.Terminal({terminalType:m.separator});A=new x.Repetition({definition:[N].concat(m.definition),idx:m.idx}),g={idx:h,def:m.definition.concat([A],(0,Dn.default)(d)),ruleStack:v,occurrenceStack:y};f.push(g)}else if(m instanceof x.RepetitionWithSeparator){_={idx:h,def:(0,Dn.default)(d),ruleStack:v,occurrenceStack:y};f.push(_),f.push(a);N=new x.Terminal({terminalType:m.separator});var I=new x.Repetition({definition:[N].concat(m.definition),idx:m.idx});R={idx:h,def:m.definition.concat([I],(0,Dn.default)(d)),ruleStack:v,occurrenceStack:y};f.push(R)}else if(m instanceof x.Repetition){_={idx:h,def:(0,Dn.default)(d),ruleStack:v,occurrenceStack:y};f.push(_),f.push(a);I=new x.Repetition({definition:m.definition,idx:m.idx}),R={idx:h,def:m.definition.concat([I],(0,Dn.default)(d)),ruleStack:v,occurrenceStack:y};f.push(R)}else if(m instanceof x.Alternation)for(var S=m.definition.length-1;S>=0;S--){var b={idx:h,def:m.definition[S].definition.concat((0,Dn.default)(d)),ruleStack:v,occurrenceStack:y};f.push(b),f.push(a)}else if(m instanceof x.Alternative)f.push({idx:h,def:m.definition.concat((0,Dn.default)(d)),ruleStack:v,occurrenceStack:y});else{if(!(m instanceof x.Rule))throw Error("non exhaustive match");f.push(qn(m,h,v,y))}}}else s&&(0,Un.default)(f).idx<=c&&f.pop()}return l},(Hn=Yn=Tn.PROD_TYPE||(Tn.PROD_TYPE={}))[Hn.OPTION=0]="OPTION",Hn[Hn.REPETITION=1]="REPETITION",Hn[Hn.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",Hn[Hn.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",Hn[Hn.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",Hn[Hn.ALTERNATION=5]="ALTERNATION",Tn.getProdType=Jn,Tn.getLookaheadPaths=function(t){var e=t.occurrence,r=t.rule,n=t.prodType,o=t.maxLookahead,i=Jn(n);return i===Yn.ALTERNATION?no(e,r,o):oo(e,r,i,o)},Tn.buildLookaheadFuncForOr=function(t,e,r,n,o,i){var a=no(t,e,r);return i(a,n,ao(a)?rr.tokenStructuredMatcherNoCategories:rr.tokenStructuredMatcher,o)},Tn.buildLookaheadFuncForOptionalProd=function(t,e,r,n,o,i){var a=oo(t,e,o,r),s=ao(a)?rr.tokenStructuredMatcherNoCategories:rr.tokenStructuredMatcher;return i(a[0],s,n)},Tn.buildAlternativesLookAheadFunc=function(t,e,r,n){var o=t.length,i=(0,Nn.default)(t,(function(t){return(0,Nn.default)(t,(function(t){return 1===t.length}))}));if(e)return function(e){for(var n=(0,In.default)(e,(function(t){return t.GATE})),i=0;i<o;i++){var a=t[i],s=a.length,u=n[i];if(void 0===u||!1!==u.call(this))t:for(var c=0;c<s;c++){for(var l=a[c],f=l.length,p=0;p<f;p++){var d=this.LA(p+1);if(!1===r(d,l[p]))continue t}return i}}};if(i&&!n){var a=(0,In.default)(t,(function(t){return(0,An.default)(t)})),s=(0,xn.default)(a,(function(t,e,r){return(0,Sn.default)(e,(function(e){(0,bn.default)(t,e.tokenTypeIdx)||(t[e.tokenTypeIdx]=r),(0,Sn.default)(e.categoryMatches,(function(e){(0,bn.default)(t,e)||(t[e]=r)}))})),t}),{});return function(){var t=this.LA(1);return s[t.tokenTypeIdx]}}return function(){for(var e=0;e<o;e++){var n=t[e],i=n.length;t:for(var a=0;a<i;a++){for(var s=n[a],u=s.length,c=0;c<u;c++){var l=this.LA(c+1);if(!1===r(l,s[c]))continue t}return e}}}},Tn.buildSingleAlternativeLookaheadFunction=function(t,e,r){var n=(0,Nn.default)(t,(function(t){return 1===t.length})),o=t.length;if(n&&!r){var i=(0,An.default)(t);if(1===i.length&&(0,Rn.default)(i[0].categoryMatches)){var a=i[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}var s=(0,xn.default)(i,(function(t,e,r){return t[e.tokenTypeIdx]=!0,(0,Sn.default)(e.categoryMatches,(function(e){t[e]=!0})),t}),[]);return function(){var t=this.LA(1);return!0===s[t.tokenTypeIdx]}}return function(){t:for(var r=0;r<o;r++){for(var n=t[r],i=n.length,a=0;a<i;a++){var s=this.LA(a+1);if(!1===e(s,n[a]))continue t}return!0}return!1}};var Zn=function(t){function e(e,r,n){var o=t.call(this)||this;return o.topProd=e,o.targetOccurrence=r,o.targetProdType=n,o}return On(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},e.prototype.checkIsTarget=function(t,e,r,n){return t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.restDef=r.concat(n),!0)},e.prototype.walkOption=function(e,r,n){this.checkIsTarget(e,Yn.OPTION,r,n)||t.prototype.walkOption.call(this,e,r,n)},e.prototype.walkAtLeastOne=function(e,r,n){this.checkIsTarget(e,Yn.REPETITION_MANDATORY,r,n)||t.prototype.walkOption.call(this,e,r,n)},e.prototype.walkAtLeastOneSep=function(e,r,n){this.checkIsTarget(e,Yn.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||t.prototype.walkOption.call(this,e,r,n)},e.prototype.walkMany=function(e,r,n){this.checkIsTarget(e,Yn.REPETITION,r,n)||t.prototype.walkOption.call(this,e,r,n)},e.prototype.walkManySep=function(e,r,n){this.checkIsTarget(e,Yn.REPETITION_WITH_SEPARATOR,r,n)||t.prototype.walkOption.call(this,e,r,n)},e}(N.RestWalker),$n=function(t){function e(e,r,n){var o=t.call(this)||this;return o.targetOccurrence=e,o.targetProdType=r,o.targetRef=n,o.result=[],o}return On(e,t),e.prototype.checkIsTarget=function(t,e){t.idx!==this.targetOccurrence||this.targetProdType!==e||void 0!==this.targetRef&&t!==this.targetRef||(this.result=t.definition)},e.prototype.visitOption=function(t){this.checkIsTarget(t,Yn.OPTION)},e.prototype.visitRepetition=function(t){this.checkIsTarget(t,Yn.REPETITION)},e.prototype.visitRepetitionMandatory=function(t){this.checkIsTarget(t,Yn.REPETITION_MANDATORY)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.checkIsTarget(t,Yn.REPETITION_MANDATORY_WITH_SEPARATOR)},e.prototype.visitRepetitionWithSeparator=function(t){this.checkIsTarget(t,Yn.REPETITION_WITH_SEPARATOR)},e.prototype.visitAlternation=function(t){this.checkIsTarget(t,Yn.ALTERNATION)},e}(x.GAstVisitor);function Qn(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=[];return e}function to(t){for(var e=[""],r=0;r<t.length;r++){for(var n=t[r],o=[],i=0;i<e.length;i++){var a=e[i];o.push(a+"_"+n.tokenTypeIdx);for(var s=0;s<n.categoryMatches.length;s++){var u="_"+n.categoryMatches[s];o.push(a+u)}}e=o}return e}function eo(t,e,r){for(var n=0;n<t.length;n++)if(n!==r)for(var o=t[n],i=0;i<e.length;i++){if(!0===o[e[i]])return!1}return!0}function ro(t,e){for(var r=(0,In.default)(t,(function(t){return(0,Pn.possiblePathsFrom)([t],1)})),n=Qn(r.length),o=(0,In.default)(r,(function(t){var e={};return(0,Sn.default)(t,(function(t){var r=to(t.partialPath);(0,Sn.default)(r,(function(t){e[t]=!0}))})),e})),i=r,a=1;a<=e;a++){var s=i;i=Qn(s.length);for(var u=function(t){for(var r=s[t],u=0;u<r.length;u++){var c=r[u].partialPath,l=r[u].suffixDef,f=to(c);if(eo(o,f,t)||(0,Rn.default)(l)||c.length===e){var p=n[t];if(!1===io(p,c)){p.push(c);for(var d=0;d<f.length;d++){var h=f[d];o[t][h]=!0}}}else{var v=(0,Pn.possiblePathsFrom)(l,a+1,c);i[t]=i[t].concat(v),(0,Sn.default)(v,(function(e){var r=to(e.partialPath);(0,Sn.default)(r,(function(e){o[t][e]=!0}))}))}}},c=0;c<s.length;c++)u(c)}return n}function no(t,e,r,n){var o=new $n(t,Yn.ALTERNATION,n);return e.accept(o),ro(o.result,r)}function oo(t,e,r,n){var o=new $n(t,r);e.accept(o);var i=o.result,a=new Zn(e,t,r).startWalking();return ro([new x.Alternative({definition:i}),new x.Alternative({definition:a})],n)}function io(t,e){t:for(var r=0;r<t.length;r++){var n=t[r];if(n.length===e.length){for(var o=0;o<n.length;o++){var i=e[o],a=n[o];if(!1===(i===a||void 0!==a.categoryMatchesMap[i.tokenTypeIdx]))continue t}return!0}}return!1}function ao(t){return(0,Nn.default)(t,(function(t){return(0,Nn.default)(t,(function(t){return(0,Nn.default)(t,(function(t){return(0,Rn.default)(t.categoryMatches)}))}))}))}Tn.lookAheadSequenceFromAlternatives=ro,Tn.getLookaheadPathsForOr=no,Tn.getLookaheadPathsForOptionalProd=oo,Tn.containsPath=io,Tn.isStrictPrefixOfPath=function(t,e){return t.length<e.length&&(0,Nn.default)(t,(function(t,r){var n=e[r];return t===n||n.categoryMatchesMap[t.tokenTypeIdx]}))},Tn.areTokenCategoriesNotUsed=ao;var so=rn(n("iT9CN")),uo=rn(n("1LMU5"));function co(t){return"".concat((0,x.getProductionDslName)(t),"_#_").concat(t.idx,"_#_").concat(lo(t))}function lo(t){return t instanceof x.Terminal?t.terminalType.name:t instanceof x.NonTerminal?t.nonTerminalName:""}Qr.validateLookahead=function(t){var e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return(0,fn.default)(e,(function(t){return en({type:c.ParserDefinitionErrorType.CUSTOM_LOOKAHEAD_VALIDATION},t)}))},Qr.validateGrammar=function(t,e,r,n){var o=(0,gn.default)(t,(function(t){return function(t,e){var r=new fo;t.accept(r);var n=r.allProductions,o=(0,dn.default)(n,co),i=(0,vn.default)(o,(function(t){return t.length>1})),a=(0,fn.default)((0,yn.default)(i),(function(r){var n=(0,nn.default)(r),o=e.buildDuplicateFoundError(t,r),i=(0,x.getProductionDslName)(n),a={message:o,type:c.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:i,occurrence:n.idx},s=lo(n);return s&&(a.parameter=s),a}));return a}(t,r)})),i=function(t,e,r){var n=[],o=(0,fn.default)(e,(function(t){return t.name}));return(0,pn.default)(t,(function(t){var e=t.name;if((0,mn.default)(o,e)){var i=r.buildNamespaceConflictError(t);n.push({message:i,type:c.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:e})}})),n}(t,e,r),a=(0,gn.default)(t,(function(t){return mo(t,r)})),s=(0,gn.default)(t,(function(e){return po(e,t,n,r)}));return o.concat(i,a,s)},Qr.identifyProductionForDuplicates=co;var fo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return tn(e,t),e.prototype.visitNonTerminal=function(t){this.allProductions.push(t)},e.prototype.visitOption=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e.prototype.visitAlternation=function(t){this.allProductions.push(t)},e.prototype.visitTerminal=function(t){this.allProductions.push(t)},e}(x.GAstVisitor);function po(t,e,r,n){var o=[];if((0,hn.default)(e,(function(e,r){return r.name===t.name?e+1:e}),0)>1){var i=n.buildDuplicateRuleNameError({topLevelRule:t,grammarName:r});o.push({message:i,type:c.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:t.name})}return o}function ho(t){var e=[];if((0,on.default)(t))return e;var r=(0,nn.default)(t);if(r instanceof x.NonTerminal)e.push(r.referencedRule);else if(r instanceof x.Alternative||r instanceof x.Option||r instanceof x.RepetitionMandatory||r instanceof x.RepetitionMandatoryWithSeparator||r instanceof x.RepetitionWithSeparator||r instanceof x.Repetition)e=e.concat(ho(r.definition));else if(r instanceof x.Alternation)e=(0,sn.default)((0,fn.default)(r.definition,(function(t){return ho(t.definition)})));else if(!(r instanceof x.Terminal))throw Error("non exhaustive match");var n=(0,x.isOptionalProd)(r),o=t.length>1;if(n&&o){var i=(0,an.default)(t);return e.concat(ho(i))}return e}Qr.OccurrenceValidationCollector=fo,Qr.validateRuleDoesNotAlreadyExist=po,Qr.validateRuleIsOverridden=function(t,e,r){var n,o=[];return(0,mn.default)(e,t)||(n="Invalid rule override, rule: ->".concat(t,"<- cannot be overridden in the grammar: ->").concat(r,"<-")+"as it is not defined in any of the super grammars ",o.push({message:n,type:c.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:t})),o},Qr.validateNoLeftRecursion=function t(e,r,n,o){void 0===o&&(o=[]);var i=[],a=ho(r.definition);if((0,on.default)(a))return[];var s=e.name;(0,mn.default)(a,e)&&i.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:o}),type:c.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:s});var u=(0,ln.default)(a,o.concat([e])),l=(0,gn.default)(u,(function(r){var i=(0,En.default)(o);return i.push(r),t(e,r,n,i)}));return i.concat(l)},Qr.getFirstNoneTerminal=ho;var vo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alternations=[],e}return tn(e,t),e.prototype.visitAlternation=function(t){this.alternations.push(t)},e}(x.GAstVisitor);Qr.validateEmptyOrAlternative=function(t,e){var r=new vo;t.accept(r);var n=r.alternations;return(0,gn.default)(n,(function(r){var n=(0,so.default)(r.definition);return(0,gn.default)(n,(function(n,o){var i=(0,Pn.nextPossibleTokensAfter)([n],[],rr.tokenStructuredMatcher,1);return(0,on.default)(i)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:r,emptyChoiceIdx:o}),type:c.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:r.idx,alternative:o+1}]:[]}))}))},Qr.validateAmbiguousAlternationAlternatives=function(t,e,r){var n=new vo;t.accept(n);var o=n.alternations;return o=(0,cn.default)(o,(function(t){return!0===t.ignoreAmbiguities})),(0,gn.default)(o,(function(n){var o=n.idx,i=n.maxLookahead||e,a=(0,Tn.getLookaheadPathsForOr)(o,t,i,n),s=function(t,e,r,n){var o=[],i=(0,hn.default)(t,(function(r,n,i){return!0===e.definition[i].ignoreAmbiguities||(0,pn.default)(n,(function(n){var a=[i];(0,pn.default)(t,(function(t,r){i!==r&&(0,Tn.containsPath)(t,n)&&!0!==e.definition[r].ignoreAmbiguities&&a.push(r)})),a.length>1&&!(0,Tn.containsPath)(o,n)&&(o.push(n),r.push({alts:a,path:n}))})),r}),[]),a=(0,fn.default)(i,(function(t){var o=(0,fn.default)(t.alts,(function(t){return t+1}));return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:o,prefixPath:t.path}),type:c.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:e.idx,alternatives:t.alts}}));return a}(a,n,t,r),u=go(a,n,t,r);return s.concat(u)}))};var yo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return tn(e,t),e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e}(x.GAstVisitor);function mo(t,e){var r=new vo;t.accept(r);var n=r.alternations;return(0,gn.default)(n,(function(r){return r.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:r}),type:c.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:t.name,occurrence:r.idx}]:[]}))}function go(t,e,r,n){var o=(0,hn.default)(t,(function(t,e,r){var n=(0,fn.default)(e,(function(t){return{idx:r,path:t}}));return t.concat(n)}),[]);return(0,uo.default)((0,gn.default)(o,(function(t){if(!0===e.definition[t.idx].ignoreAmbiguities)return[];var i=t.idx,a=t.path,s=(0,un.default)(o,(function(t){return!0!==e.definition[t.idx].ignoreAmbiguities&&t.idx<i&&(0,Tn.isStrictPrefixOfPath)(t.path,a)}));return(0,fn.default)(s,(function(t){var o=[t.idx+1,i+1],a=0===e.idx?"":e.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:o,prefixPath:t.path}),type:c.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:a,alternatives:o}}))})))}Qr.RepetitionCollector=yo,Qr.validateTooManyAlts=mo,Qr.validateSomeNonEmptyLookaheadPath=function(t,e,r){var n=[];return(0,pn.default)(t,(function(t){var o=new yo;t.accept(o);var i=o.allProductions;(0,pn.default)(i,(function(o){var i=(0,Tn.getProdType)(o),a=o.maxLookahead||e,s=o.idx,u=(0,Tn.getLookaheadPathsForOptionalProd)(s,t,i,a)[0];if((0,on.default)((0,sn.default)(u))){var l=r.buildEmptyRepetitionError({topLevelRule:t,repetition:o});n.push({message:l,type:c.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:t.name})}}))})),n},Qr.checkPrefixAlternativesAmbiguities=go,zr.resolveGrammar=function(t){var e=(0,Yr.default)(t,{errMsgProvider:Fr.defaultGrammarResolverErrorProvider}),r={};return(0,Kr.default)(t.rules,(function(t){r[t.name]=t})),(0,Hr.resolveGrammar)(r,e.errMsgProvider)},zr.validateGrammar=function(t){return t=(0,Yr.default)(t,{errMsgProvider:Fr.defaultGrammarValidatorErrorProvider}),(0,Qr.validateGrammar)(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)};var Eo={},To=Eo&&Eo.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oo=Eo&&Eo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.attemptInRepetitionRecovery=Eo.Recoverable=Eo.InRuleRecoveryException=Eo.IN_RULE_RECOVERY_EXCEPTION=Eo.EOF_FOLLOW_KEY=void 0;var _o=Oo(n("aRz3z")),Ro=Oo(n("iT9CN")),Ao=Oo(n("eNvXX")),No=Oo(n("fW6i0")),Io=Oo(n("9kHzu")),So=Oo(n("6mWlg")),bo=Oo(n("3CODa")),xo=Oo(n("aKVMx")),Po={},Lo=Po&&Po.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ko=Po&&Po.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Po,"__esModule",{value:!0}),Po.EarlyExitException=Po.NotAllInputParsedException=Po.NoViableAltException=Po.MismatchedTokenException=Po.isRecognitionException=void 0;var Co=ko(n("3CODa")),Mo="MismatchedTokenException",wo="NoViableAltException",Do="EarlyExitException",Uo="NotAllInputParsedException",Fo=[Mo,wo,Do,Uo];Object.freeze(Fo),Po.isRecognitionException=function(t){return(0,Co.default)(Fo,t.name)};var jo=function(t){function e(e,r){var n=this.constructor,o=t.call(this,e)||this;return o.token=r,o.resyncedTokens=[],Object.setPrototypeOf(o,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,o.constructor),o}return Lo(e,t),e}(Error),Bo=function(t){function e(e,r,n){var o=t.call(this,e,r)||this;return o.previousToken=n,o.name=Mo,o}return Lo(e,t),e}(jo);Po.MismatchedTokenException=Bo;var Go=function(t){function e(e,r,n){var o=t.call(this,e,r)||this;return o.previousToken=n,o.name=wo,o}return Lo(e,t),e}(jo);Po.NoViableAltException=Go;var Wo=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.name=Uo,n}return Lo(e,t),e}(jo);Po.NotAllInputParsedException=Wo;var zo=function(t){function e(e,r,n){var o=t.call(this,e,r)||this;return o.previousToken=n,o.name=Do,o}return Lo(e,t),e}(jo);Po.EarlyExitException=zo,Eo.EOF_FOLLOW_KEY={},Eo.IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException";var Vo=function(t){function e(e){var r=t.call(this,e)||this;return r.name=Eo.IN_RULE_RECOVERY_EXCEPTION,r}return To(e,t),e}(Error);Eo.InRuleRecoveryException=Vo;var Ko=function(){function t(){}return t.prototype.initRecoverable=function(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,So.default)(t,"recoveryEnabled")?t.recoveryEnabled:c.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Yo)},t.prototype.getTokenToInsert=function(t){var e=(0,Ot.createTokenInstance)(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return e.isInsertedInRecovery=!0,e},t.prototype.canTokenTypeBeInsertedInRecovery=function(t){return!0},t.prototype.canTokenTypeBeDeletedInRecovery=function(t){return!0},t.prototype.tryInRepetitionRecovery=function(t,e,r,n){for(var o=this,i=this.findReSyncTokenType(),a=this.exportLexerState(),s=[],u=!1,c=this.LA(1),l=this.LA(1),f=function(){var t=o.LA(0),e=o.errorMessageProvider.buildMismatchTokenMessage({expected:n,actual:c,previous:t,ruleName:o.getCurrRuleFullName()}),r=new Po.MismatchedTokenException(e,c,o.LA(0));r.resyncedTokens=(0,Ro.default)(s),o.SAVE_ERROR(r)};!u;){if(this.tokenMatcher(l,n))return void f();if(r.call(this))return f(),void t.apply(this,e);this.tokenMatcher(l,i)?u=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,s))}this.importLexerState(a)},t.prototype.shouldInRepetitionRecoveryBeTried=function(t,e,r){return!1!==r&&(!this.tokenMatcher(this.LA(1),t)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,e))))},t.prototype.getFollowsForInRuleRecovery=function(t,e){var r=this.getCurrentGrammarPath(t,e);return this.getNextPossibleTokenTypes(r)},t.prototype.tryInRuleRecovery=function(t,e){if(this.canRecoverWithSingleTokenInsertion(t,e))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){var r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new Vo("sad sad panda")},t.prototype.canPerformInRuleRecovery=function(t,e){return this.canRecoverWithSingleTokenInsertion(t,e)||this.canRecoverWithSingleTokenDeletion(t)},t.prototype.canRecoverWithSingleTokenInsertion=function(t,e){var r=this;if(!this.canTokenTypeBeInsertedInRecovery(t))return!1;if((0,_o.default)(e))return!1;var n=this.LA(1);return void 0!==(0,Io.default)(e,(function(t){return r.tokenMatcher(n,t)}))},t.prototype.canRecoverWithSingleTokenDeletion=function(t){return!!this.canTokenTypeBeDeletedInRecovery(t)&&this.tokenMatcher(this.LA(2),t)},t.prototype.isInCurrentRuleReSyncSet=function(t){var e=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(e);return(0,bo.default)(r,t)},t.prototype.findReSyncTokenType=function(){for(var t=this.flattenFollowSet(),e=this.LA(1),r=2;;){var n=(0,Io.default)(t,(function(t){return(0,Ot.tokenMatcher)(e,t)}));if(void 0!==n)return n;e=this.LA(r),r++}},t.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return Eo.EOF_FOLLOW_KEY;var t=this.getLastExplicitRuleShortName(),e=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:e,inRule:this.shortRuleNameToFullName(r)}},t.prototype.buildFullFollowKeyStack=function(){var t=this,e=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return(0,No.default)(e,(function(n,o){return 0===o?Eo.EOF_FOLLOW_KEY:{ruleName:t.shortRuleNameToFullName(n),idxInCallingRule:r[o],inRule:t.shortRuleNameToFullName(e[o-1])}}))},t.prototype.flattenFollowSet=function(){var t=this,e=(0,No.default)(this.buildFullFollowKeyStack(),(function(e){return t.getFollowSetFromFollowKey(e)}));return(0,Ao.default)(e)},t.prototype.getFollowSetFromFollowKey=function(t){if(t===Eo.EOF_FOLLOW_KEY)return[Ot.EOF];var e=t.ruleName+t.idxInCallingRule+gt.IN+t.inRule;return this.resyncFollows[e]},t.prototype.addToResyncTokens=function(t,e){return this.tokenMatcher(t,Ot.EOF)||e.push(t),e},t.prototype.reSyncTo=function(t){for(var e=[],r=this.LA(1);!1===this.tokenMatcher(r,t);)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,e);return(0,Ro.default)(e)},t.prototype.attemptInRepetitionRecovery=function(t,e,r,n,o,i,a){},t.prototype.getCurrentGrammarPath=function(t,e){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:(0,xo.default)(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:e}},t.prototype.getHumanReadableRuleStack=function(){var t=this;return(0,No.default)(this.RULE_STACK,(function(e){return t.shortRuleNameToFullName(e)}))},t}();function Yo(t,e,r,n,o,i,a){var s=this.getKeyForAutomaticLookahead(n,o),u=this.firstAfterRepMap[s];if(void 0===u){var c=this.getCurrRuleFullName();u=new i(this.getGAstProductions()[c],o).startWalking(),this.firstAfterRepMap[s]=u}var l=u.token,f=u.occurrence,p=u.isEndOfRule;1===this.RULE_STACK.length&&p&&void 0===l&&(l=Ot.EOF,f=1),void 0!==l&&void 0!==f&&this.shouldInRepetitionRecoveryBeTried(l,f,a)&&this.tryInRepetitionRecovery(t,e,r,l)}Eo.Recoverable=Ko,Eo.attemptInRepetitionRecovery=Yo;var Ho={},Xo=Ho&&Ho.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qo=Ho&&Ho.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.collectMethods=Ho.LooksAhead=void 0;var Jo=qo(n("4OAgB")),Zo=qo(n("6mWlg")),$o={};Object.defineProperty($o,"__esModule",{value:!0}),$o.getKeyForAutomaticLookahead=$o.AT_LEAST_ONE_SEP_IDX=$o.MANY_SEP_IDX=$o.AT_LEAST_ONE_IDX=$o.MANY_IDX=$o.OPTION_IDX=$o.OR_IDX=$o.BITS_FOR_ALT_IDX=$o.BITS_FOR_RULE_IDX=$o.BITS_FOR_OCCURRENCE_IDX=$o.BITS_FOR_METHOD_TYPE=void 0,$o.BITS_FOR_METHOD_TYPE=4,$o.BITS_FOR_OCCURRENCE_IDX=8,$o.BITS_FOR_RULE_IDX=12,$o.BITS_FOR_ALT_IDX=8,$o.OR_IDX=1<<$o.BITS_FOR_OCCURRENCE_IDX,$o.OPTION_IDX=2<<$o.BITS_FOR_OCCURRENCE_IDX,$o.MANY_IDX=3<<$o.BITS_FOR_OCCURRENCE_IDX,$o.AT_LEAST_ONE_IDX=4<<$o.BITS_FOR_OCCURRENCE_IDX,$o.MANY_SEP_IDX=5<<$o.BITS_FOR_OCCURRENCE_IDX,$o.AT_LEAST_ONE_SEP_IDX=6<<$o.BITS_FOR_OCCURRENCE_IDX,$o.getKeyForAutomaticLookahead=function(t,e,r){return r|e|t};$o.BITS_FOR_ALT_IDX;var Qo={},ti=Qo&&Qo.__spreadArray||function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},ei=Qo&&Qo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.LLkLookaheadStrategy=void 0;var ri=ei(n("jGHvK")),ni=ei(n("aRz3z")),oi=function(){function t(t){var e;this.maxLookahead=null!==(e=null==t?void 0:t.maxLookahead)&&void 0!==e?e:c.DEFAULT_PARSER_CONFIG.maxLookahead}return t.prototype.validate=function(t){var e=this.validateNoLeftRecursion(t.rules);if((0,ni.default)(e)){var r=this.validateEmptyOrAlternatives(t.rules),n=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),o=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return ti(ti(ti(ti([],e,!0),r,!0),n,!0),o,!0)}return e},t.prototype.validateNoLeftRecursion=function(t){return(0,ri.default)(t,(function(t){return(0,Qr.validateNoLeftRecursion)(t,t,Fr.defaultGrammarValidatorErrorProvider)}))},t.prototype.validateEmptyOrAlternatives=function(t){return(0,ri.default)(t,(function(t){return(0,Qr.validateEmptyOrAlternative)(t,Fr.defaultGrammarValidatorErrorProvider)}))},t.prototype.validateAmbiguousAlternationAlternatives=function(t,e){return(0,ri.default)(t,(function(t){return(0,Qr.validateAmbiguousAlternationAlternatives)(t,e,Fr.defaultGrammarValidatorErrorProvider)}))},t.prototype.validateSomeNonEmptyLookaheadPath=function(t,e){return(0,Qr.validateSomeNonEmptyLookaheadPath)(t,e,Fr.defaultGrammarValidatorErrorProvider)},t.prototype.buildLookaheadForAlternation=function(t){return(0,Tn.buildLookaheadFuncForOr)(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,Tn.buildAlternativesLookAheadFunc)},t.prototype.buildLookaheadForOptional=function(t){return(0,Tn.buildLookaheadFuncForOptionalProd)(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,(0,Tn.getProdType)(t.prodType),Tn.buildSingleAlternativeLookaheadFunction)},t}();Qo.LLkLookaheadStrategy=oi;var ii=function(){function t(){}return t.prototype.initLooksAhead=function(t){this.dynamicTokensEnabled=(0,Zo.default)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:c.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=(0,Zo.default)(t,"maxLookahead")?t.maxLookahead:c.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookaheadStrategy=(0,Zo.default)(t,"lookaheadStrategy")?t.lookaheadStrategy:new Qo.LLkLookaheadStrategy({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map},t.prototype.preComputeLookaheadFunctions=function(t){var e=this;(0,Jo.default)(t,(function(t){e.TRACE_INIT("".concat(t.name," Rule Lookahead"),(function(){var r=ui(t),n=r.alternation,o=r.repetition,i=r.option,a=r.repetitionMandatory,s=r.repetitionMandatoryWithSeparator,u=r.repetitionWithSeparator;(0,Jo.default)(n,(function(r){var n=0===r.idx?"":r.idx;e.TRACE_INIT("".concat((0,x.getProductionDslName)(r)).concat(n),(function(){var n=e.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:r.idx,rule:t,maxLookahead:r.maxLookahead||e.maxLookahead,hasPredicates:r.hasPredicates,dynamicTokensEnabled:e.dynamicTokensEnabled}),o=(0,$o.getKeyForAutomaticLookahead)(e.fullRuleNameToShort[t.name],$o.OR_IDX,r.idx);e.setLaFuncCache(o,n)}))})),(0,Jo.default)(o,(function(r){e.computeLookaheadFunc(t,r.idx,$o.MANY_IDX,"Repetition",r.maxLookahead,(0,x.getProductionDslName)(r))})),(0,Jo.default)(i,(function(r){e.computeLookaheadFunc(t,r.idx,$o.OPTION_IDX,"Option",r.maxLookahead,(0,x.getProductionDslName)(r))})),(0,Jo.default)(a,(function(r){e.computeLookaheadFunc(t,r.idx,$o.AT_LEAST_ONE_IDX,"RepetitionMandatory",r.maxLookahead,(0,x.getProductionDslName)(r))})),(0,Jo.default)(s,(function(r){e.computeLookaheadFunc(t,r.idx,$o.AT_LEAST_ONE_SEP_IDX,"RepetitionMandatoryWithSeparator",r.maxLookahead,(0,x.getProductionDslName)(r))})),(0,Jo.default)(u,(function(r){e.computeLookaheadFunc(t,r.idx,$o.MANY_SEP_IDX,"RepetitionWithSeparator",r.maxLookahead,(0,x.getProductionDslName)(r))}))}))}))},t.prototype.computeLookaheadFunc=function(t,e,r,n,o,i){var a=this;this.TRACE_INIT("".concat(i).concat(0===e?"":e),(function(){var i=a.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:e,rule:t,maxLookahead:o||a.maxLookahead,dynamicTokensEnabled:a.dynamicTokensEnabled,prodType:n}),s=(0,$o.getKeyForAutomaticLookahead)(a.fullRuleNameToShort[t.name],r,e);a.setLaFuncCache(s,i)}))},t.prototype.getKeyForAutomaticLookahead=function(t,e){var r=this.getLastExplicitRuleShortName();return(0,$o.getKeyForAutomaticLookahead)(r,t,e)},t.prototype.getLaFuncFromCache=function(t){return this.lookAheadFuncsCache.get(t)},t.prototype.setLaFuncCache=function(t,e){this.lookAheadFuncsCache.set(t,e)},t}();Ho.LooksAhead=ii;var ai=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},e}return Xo(e,t),e.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},e.prototype.visitOption=function(t){this.dslMethods.option.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.dslMethods.repetitionWithSeparator.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.dslMethods.repetitionMandatory.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)},e.prototype.visitRepetition=function(t){this.dslMethods.repetition.push(t)},e.prototype.visitAlternation=function(t){this.dslMethods.alternation.push(t)},e}(x.GAstVisitor),si=new ai;function ui(t){si.reset(),t.accept(si);var e=si.dslMethods;return si.reset(),e}Ho.collectMethods=ui;var ci={},li=ci&&ci.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ci,"__esModule",{value:!0}),ci.TreeBuilder=void 0;var fi={};Object.defineProperty(fi,"__esModule",{value:!0}),fi.addNoneTerminalToCst=fi.addTerminalToCst=fi.setNodeLocationFull=fi.setNodeLocationOnlyOffset=void 0,fi.setNodeLocationOnlyOffset=function(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset)},fi.setNodeLocationFull=function(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)},fi.addTerminalToCst=function(t,e,r){void 0===t.children[r]?t.children[r]=[e]:t.children[r].push(e)},fi.addNoneTerminalToCst=function(t,e,r){void 0===t.children[e]?t.children[e]=[r]:t.children[e].push(r)};var pi=li(n("fx08h")),di=li(n("6mWlg")),hi=li(n("e2a9e")),vi=li(n("iWFaD")),yi={},mi=yi&&yi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yi,"__esModule",{value:!0}),yi.validateMissingCstMethods=yi.validateVisitor=yi.CstVisitorDefinitionError=yi.createBaseVisitorConstructorWithDefaults=yi.createBaseSemanticVisitorConstructor=yi.defaultVisit=void 0;var gi=mi(n("aRz3z")),Ei=mi(n("1LMU5")),Ti=mi(n("3SybD")),Oi=mi(n("fW6i0")),_i=mi(n("4OAgB")),Ri=mi(n("bOO5X")),Ai=mi(n("e2a9e")),Ni=mi(n("7kzWE")),Ii=mi(n("iWFaD")),Si={};Object.defineProperty(Si,"__esModule",{value:!0}),Si.defineNameProp=void 0;var bi,xi;function Pi(t,e){for(var r=(0,Ai.default)(t),n=r.length,o=0;o<n;o++)for(var i=t[r[o]],a=i.length,s=0;s<a;s++){var u=i[s];void 0===u.tokenTypeIdx&&this[u.name](u.children,e)}}function Li(t,e){return ki(t,e)}function ki(t,e){var r=(0,Ri.default)(e,(function(e){return!1===(0,Ni.default)(t[e])})),n=(0,Oi.default)(r,(function(e){return{msg:"Missing visitor method: <".concat(e,"> on ").concat(t.constructor.name," CST Visitor."),type:bi.MISSING_METHOD,methodName:e}}));return(0,Ei.default)(n)}Si.defineNameProp=function(t,e){Object.defineProperty(t,"name",{enumerable:!1,configurable:!0,writable:!1,value:e})},yi.defaultVisit=Pi,yi.createBaseSemanticVisitorConstructor=function(t,e){var r=function(){};return(0,Si.defineNameProp)(r,t+"BaseSemantics"),(r.prototype={visit:function(t,e){if((0,Ti.default)(t)&&(t=t[0]),!(0,Ii.default)(t))return this[t.name](t.children,e)},validateVisitor:function(){var t=Li(this,e);if(!(0,gi.default)(t)){var r=(0,Oi.default)(t,(function(t){return t.msg}));throw Error("Errors Detected in CST Visitor <".concat(this.constructor.name,">:\n\t")+"".concat(r.join("\n\n").replace(/\n/g,"\n\t")))}}}).constructor=r,r._RULE_NAMES=e,r},yi.createBaseVisitorConstructorWithDefaults=function(t,e,r){var n=function(){};(0,Si.defineNameProp)(n,t+"BaseSemanticsWithDefaults");var o=Object.create(r.prototype);return(0,_i.default)(e,(function(t){o[t]=Pi})),(n.prototype=o).constructor=n,n},(xi=bi=yi.CstVisitorDefinitionError||(yi.CstVisitorDefinitionError={}))[xi.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",xi[xi.MISSING_METHOD=1]="MISSING_METHOD",yi.validateVisitor=Li,yi.validateMissingCstMethods=ki;var Ci=function(){function t(){}return t.prototype.initTreeBuilder=function(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=(0,di.default)(t,"nodeLocationTracking")?t.nodeLocationTracking:c.DEFAULT_PARSER_CONFIG.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=fi.setNodeLocationFull,this.setNodeLocationFromNode=fi.setNodeLocationFull,this.cstPostRule=pi.default,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=pi.default,this.setNodeLocationFromNode=pi.default,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=fi.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=fi.setNodeLocationOnlyOffset,this.cstPostRule=pi.default,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=pi.default,this.setNodeLocationFromNode=pi.default,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'.concat(t.nodeLocationTracking,'"'));this.setNodeLocationFromToken=pi.default,this.setNodeLocationFromNode=pi.default,this.cstPostRule=pi.default,this.setInitialNodeLocation=pi.default}else this.cstInvocationStateUpdate=pi.default,this.cstFinallyStateUpdate=pi.default,this.cstPostTerminal=pi.default,this.cstPostNonTerminal=pi.default,this.cstPostRule=pi.default},t.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(t){t.location={startOffset:NaN,endOffset:NaN}},t.prototype.setInitialNodeLocationOnlyOffsetRegular=function(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},t.prototype.setInitialNodeLocationFullRecovery=function(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.setInitialNodeLocationFullRegular=function(t){var e=this.LA(1);t.location={startOffset:e.startOffset,startLine:e.startLine,startColumn:e.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.cstInvocationStateUpdate=function(t){var e={name:t,children:Object.create(null)};this.setInitialNodeLocation(e),this.CST_STACK.push(e)},t.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},t.prototype.cstPostRuleFull=function(t){var e=this.LA(0),r=t.location;r.startOffset<=e.startOffset==!0?(r.endOffset=e.endOffset,r.endLine=e.endLine,r.endColumn=e.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)},t.prototype.cstPostRuleOnlyOffset=function(t){var e=this.LA(0),r=t.location;r.startOffset<=e.startOffset==!0?r.endOffset=e.endOffset:r.startOffset=NaN},t.prototype.cstPostTerminal=function(t,e){var r=this.CST_STACK[this.CST_STACK.length-1];(0,fi.addTerminalToCst)(r,e,t),this.setNodeLocationFromToken(r.location,e)},t.prototype.cstPostNonTerminal=function(t,e){var r=this.CST_STACK[this.CST_STACK.length-1];(0,fi.addNoneTerminalToCst)(r,e,t),this.setNodeLocationFromNode(r.location,t.location)},t.prototype.getBaseCstVisitorConstructor=function(){if((0,vi.default)(this.baseCstVisitorConstructor)){var t=(0,yi.createBaseSemanticVisitorConstructor)(this.className,(0,hi.default)(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor},t.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,vi.default)(this.baseCstVisitorWithDefaultsConstructor)){var t=(0,yi.createBaseVisitorConstructorWithDefaults)(this.className,(0,hi.default)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor},t.prototype.getLastExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-1]},t.prototype.getPreviousExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-2]},t.prototype.getLastExplicitRuleOccurrenceIndex=function(){var t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]},t}();ci.TreeBuilder=Ci;var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.LexerAdapter=void 0;var wi=function(){function t(){}return t.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(t.prototype,"input",{get:function(){return this.tokVector},set:function(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length},enumerable:!1,configurable:!0}),t.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):c.END_OF_FILE},t.prototype.LA=function(t){var e=this.currIdx+t;return e<0||this.tokVectorLength<=e?c.END_OF_FILE:this.tokVector[e]},t.prototype.consumeToken=function(){this.currIdx++},t.prototype.exportLexerState=function(){return this.currIdx},t.prototype.importLexerState=function(t){this.currIdx=t},t.prototype.resetLexerState=function(){this.currIdx=-1},t.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},t.prototype.getLexerPosition=function(){return this.exportLexerState()},t}();Mi.LexerAdapter=wi;var Di={},Ui=Di&&Di.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Di,"__esModule",{value:!0}),Di.RecognizerApi=void 0;var Fi=Ui(n("4eHM6")),ji=Ui(n("3CODa")),Bi=function(){function t(){}return t.prototype.ACTION=function(t){return t.call(this)},t.prototype.consume=function(t,e,r){return this.consumeInternal(e,t,r)},t.prototype.subrule=function(t,e,r){return this.subruleInternal(e,t,r)},t.prototype.option=function(t,e){return this.optionInternal(e,t)},t.prototype.or=function(t,e){return this.orInternal(e,t)},t.prototype.many=function(t,e){return this.manyInternal(t,e)},t.prototype.atLeastOne=function(t,e){return this.atLeastOneInternal(t,e)},t.prototype.CONSUME=function(t,e){return this.consumeInternal(t,0,e)},t.prototype.CONSUME1=function(t,e){return this.consumeInternal(t,1,e)},t.prototype.CONSUME2=function(t,e){return this.consumeInternal(t,2,e)},t.prototype.CONSUME3=function(t,e){return this.consumeInternal(t,3,e)},t.prototype.CONSUME4=function(t,e){return this.consumeInternal(t,4,e)},t.prototype.CONSUME5=function(t,e){return this.consumeInternal(t,5,e)},t.prototype.CONSUME6=function(t,e){return this.consumeInternal(t,6,e)},t.prototype.CONSUME7=function(t,e){return this.consumeInternal(t,7,e)},t.prototype.CONSUME8=function(t,e){return this.consumeInternal(t,8,e)},t.prototype.CONSUME9=function(t,e){return this.consumeInternal(t,9,e)},t.prototype.SUBRULE=function(t,e){return this.subruleInternal(t,0,e)},t.prototype.SUBRULE1=function(t,e){return this.subruleInternal(t,1,e)},t.prototype.SUBRULE2=function(t,e){return this.subruleInternal(t,2,e)},t.prototype.SUBRULE3=function(t,e){return this.subruleInternal(t,3,e)},t.prototype.SUBRULE4=function(t,e){return this.subruleInternal(t,4,e)},t.prototype.SUBRULE5=function(t,e){return this.subruleInternal(t,5,e)},t.prototype.SUBRULE6=function(t,e){return this.subruleInternal(t,6,e)},t.prototype.SUBRULE7=function(t,e){return this.subruleInternal(t,7,e)},t.prototype.SUBRULE8=function(t,e){return this.subruleInternal(t,8,e)},t.prototype.SUBRULE9=function(t,e){return this.subruleInternal(t,9,e)},t.prototype.OPTION=function(t){return this.optionInternal(t,0)},t.prototype.OPTION1=function(t){return this.optionInternal(t,1)},t.prototype.OPTION2=function(t){return this.optionInternal(t,2)},t.prototype.OPTION3=function(t){return this.optionInternal(t,3)},t.prototype.OPTION4=function(t){return this.optionInternal(t,4)},t.prototype.OPTION5=function(t){return this.optionInternal(t,5)},t.prototype.OPTION6=function(t){return this.optionInternal(t,6)},t.prototype.OPTION7=function(t){return this.optionInternal(t,7)},t.prototype.OPTION8=function(t){return this.optionInternal(t,8)},t.prototype.OPTION9=function(t){return this.optionInternal(t,9)},t.prototype.OR=function(t){return this.orInternal(t,0)},t.prototype.OR1=function(t){return this.orInternal(t,1)},t.prototype.OR2=function(t){return this.orInternal(t,2)},t.prototype.OR3=function(t){return this.orInternal(t,3)},t.prototype.OR4=function(t){return this.orInternal(t,4)},t.prototype.OR5=function(t){return this.orInternal(t,5)},t.prototype.OR6=function(t){return this.orInternal(t,6)},t.prototype.OR7=function(t){return this.orInternal(t,7)},t.prototype.OR8=function(t){return this.orInternal(t,8)},t.prototype.OR9=function(t){return this.orInternal(t,9)},t.prototype.MANY=function(t){this.manyInternal(0,t)},t.prototype.MANY1=function(t){this.manyInternal(1,t)},t.prototype.MANY2=function(t){this.manyInternal(2,t)},t.prototype.MANY3=function(t){this.manyInternal(3,t)},t.prototype.MANY4=function(t){this.manyInternal(4,t)},t.prototype.MANY5=function(t){this.manyInternal(5,t)},t.prototype.MANY6=function(t){this.manyInternal(6,t)},t.prototype.MANY7=function(t){this.manyInternal(7,t)},t.prototype.MANY8=function(t){this.manyInternal(8,t)},t.prototype.MANY9=function(t){this.manyInternal(9,t)},t.prototype.MANY_SEP=function(t){this.manySepFirstInternal(0,t)},t.prototype.MANY_SEP1=function(t){this.manySepFirstInternal(1,t)},t.prototype.MANY_SEP2=function(t){this.manySepFirstInternal(2,t)},t.prototype.MANY_SEP3=function(t){this.manySepFirstInternal(3,t)},t.prototype.MANY_SEP4=function(t){this.manySepFirstInternal(4,t)},t.prototype.MANY_SEP5=function(t){this.manySepFirstInternal(5,t)},t.prototype.MANY_SEP6=function(t){this.manySepFirstInternal(6,t)},t.prototype.MANY_SEP7=function(t){this.manySepFirstInternal(7,t)},t.prototype.MANY_SEP8=function(t){this.manySepFirstInternal(8,t)},t.prototype.MANY_SEP9=function(t){this.manySepFirstInternal(9,t)},t.prototype.AT_LEAST_ONE=function(t){this.atLeastOneInternal(0,t)},t.prototype.AT_LEAST_ONE1=function(t){return this.atLeastOneInternal(1,t)},t.prototype.AT_LEAST_ONE2=function(t){this.atLeastOneInternal(2,t)},t.prototype.AT_LEAST_ONE3=function(t){this.atLeastOneInternal(3,t)},t.prototype.AT_LEAST_ONE4=function(t){this.atLeastOneInternal(4,t)},t.prototype.AT_LEAST_ONE5=function(t){this.atLeastOneInternal(5,t)},t.prototype.AT_LEAST_ONE6=function(t){this.atLeastOneInternal(6,t)},t.prototype.AT_LEAST_ONE7=function(t){this.atLeastOneInternal(7,t)},t.prototype.AT_LEAST_ONE8=function(t){this.atLeastOneInternal(8,t)},t.prototype.AT_LEAST_ONE9=function(t){this.atLeastOneInternal(9,t)},t.prototype.AT_LEAST_ONE_SEP=function(t){this.atLeastOneSepFirstInternal(0,t)},t.prototype.AT_LEAST_ONE_SEP1=function(t){this.atLeastOneSepFirstInternal(1,t)},t.prototype.AT_LEAST_ONE_SEP2=function(t){this.atLeastOneSepFirstInternal(2,t)},t.prototype.AT_LEAST_ONE_SEP3=function(t){this.atLeastOneSepFirstInternal(3,t)},t.prototype.AT_LEAST_ONE_SEP4=function(t){this.atLeastOneSepFirstInternal(4,t)},t.prototype.AT_LEAST_ONE_SEP5=function(t){this.atLeastOneSepFirstInternal(5,t)},t.prototype.AT_LEAST_ONE_SEP6=function(t){this.atLeastOneSepFirstInternal(6,t)},t.prototype.AT_LEAST_ONE_SEP7=function(t){this.atLeastOneSepFirstInternal(7,t)},t.prototype.AT_LEAST_ONE_SEP8=function(t){this.atLeastOneSepFirstInternal(8,t)},t.prototype.AT_LEAST_ONE_SEP9=function(t){this.atLeastOneSepFirstInternal(9,t)},t.prototype.RULE=function(t,e,r){if(void 0===r&&(r=c.DEFAULT_RULE_CONFIG),(0,ji.default)(this.definedRulesNames,t)){var n={message:Fr.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:c.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(n)}this.definedRulesNames.push(t);var o=this.defineRule(t,e,r);return this[t]=o,o},t.prototype.OVERRIDE_RULE=function(t,e,r){void 0===r&&(r=c.DEFAULT_RULE_CONFIG);var n=(0,Qr.validateRuleIsOverridden)(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(n);var o=this.defineRule(t,e,r);return this[t]=o,o},t.prototype.BACKTRACK=function(t,e){return function(){this.isBackTrackingStack.push(1);var r=this.saveRecogState();try{return t.apply(this,e),!0}catch(t){if((0,Po.isRecognitionException)(t))return!1;throw t}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}},t.prototype.getGAstProductions=function(){return this.gastProductionsCache},t.prototype.getSerializedGastProductions=function(){return(0,x.serializeGrammar)((0,Fi.default)(this.gastProductionsCache))},t}();Di.RecognizerApi=Bi;var Gi={},Wi=Gi&&Gi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.RecognizerEngine=void 0;var zi=Wi(n("aRz3z")),Vi=Wi(n("3SybD")),Ki=Wi(n("eNvXX")),Yi=Wi(n("a89ul")),Hi=Wi(n("iRkuP")),Xi=Wi(n("li2L8")),qi=Wi(n("6mWlg")),Ji=Wi(n("4eHM6")),Zi=Wi(n("lIKAq")),$i=Wi(n("aKVMx")),Qi=function(){function t(){}return t.prototype.initRecognizerEngine=function(t,e){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=rr.tokenStructuredMatcherNoCategories,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,qi.default)(e,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,Vi.default)(t)){if((0,zi.default)(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,Vi.default)(t))this.tokensMap=(0,Zi.default)(t,(function(t,e){return t[e.name]=e,t}),{});else if((0,qi.default)(t,"modes")&&(0,Yi.default)((0,Ki.default)((0,Ji.default)(t.modes)),rr.isTokenType)){var r=(0,Ki.default)((0,Ji.default)(t.modes)),n=(0,Hi.default)(r);this.tokensMap=(0,Zi.default)(n,(function(t,e){return t[e.name]=e,t}),{})}else{if(!(0,Xi.default)(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,$i.default)(t)}this.tokensMap.EOF=Ot.EOF;var o=(0,qi.default)(t,"modes")?(0,Ki.default)((0,Ji.default)(t.modes)):(0,Ji.default)(t),i=(0,Yi.default)(o,(function(t){return(0,zi.default)(t.categoryMatches)}));this.tokenMatcher=i?rr.tokenStructuredMatcherNoCategories:rr.tokenStructuredMatcher,(0,rr.augmentTokenTypes)((0,Ji.default)(this.tokensMap))},t.prototype.defineRule=function(t,e,r){if(this.selfAnalysisDone)throw Error("Grammar rule <".concat(t,"> may not be defined after the 'performSelfAnalysis' method has been called'\n")+"Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var n,o=(0,qi.default)(r,"resyncEnabled")?r.resyncEnabled:c.DEFAULT_RULE_CONFIG.resyncEnabled,i=(0,qi.default)(r,"recoveryValueFunc")?r.recoveryValueFunc:c.DEFAULT_RULE_CONFIG.recoveryValueFunc,a=this.ruleShortNameIdx<<$o.BITS_FOR_METHOD_TYPE+$o.BITS_FOR_OCCURRENCE_IDX;return this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=t,this.fullRuleNameToShort[t]=a,n=!0===this.outputCst?function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{this.ruleInvocationStateUpdate(a,t,this.subruleIdx),e.apply(this,r);var s=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(s),s}catch(t){return this.invokeRuleCatch(t,o,i)}finally{this.ruleFinallyStateUpdate()}}:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return this.ruleInvocationStateUpdate(a,t,this.subruleIdx),e.apply(this,r)}catch(t){return this.invokeRuleCatch(t,o,i)}finally{this.ruleFinallyStateUpdate()}},Object.assign(n,{ruleName:t,originalGrammarAction:e})},t.prototype.invokeRuleCatch=function(t,e,r){var n=1===this.RULE_STACK.length,o=e&&!this.isBackTracking()&&this.recoveryEnabled;if((0,Po.isRecognitionException)(t)){var i=t;if(o){var a,s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))return i.resyncedTokens=this.reSyncTo(s),this.outputCst?((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,a):r();throw this.outputCst&&((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,i.partialCstResult=a),i}if(n)return this.moveToTerminatedState(),r();throw i}throw t},t.prototype.optionInternal=function(t,e){var r=this.getKeyForAutomaticLookahead($o.OPTION_IDX,e);return this.optionInternalLogic(t,e,r)},t.prototype.optionInternalLogic=function(t,e,r){var n,o=this,i=this.getLaFuncFromCache(r);if("function"!=typeof t){n=t.DEF;var a=t.GATE;if(void 0!==a){var s=i;i=function(){return a.call(o)&&s.call(o)}}}else n=t;if(!0===i.call(this))return n.call(this)},t.prototype.atLeastOneInternal=function(t,e){var r=this.getKeyForAutomaticLookahead($o.AT_LEAST_ONE_IDX,t);return this.atLeastOneInternalLogic(t,e,r)},t.prototype.atLeastOneInternalLogic=function(t,e,r){var n,o=this,i=this.getLaFuncFromCache(r);if("function"!=typeof e){n=e.DEF;var a=e.GATE;if(void 0!==a){var s=i;i=function(){return a.call(o)&&s.call(o)}}}else n=e;if(!0!==i.call(this))throw this.raiseEarlyExitException(t,Tn.PROD_TYPE.REPETITION_MANDATORY,e.ERR_MSG);for(var u=this.doSingleRepetition(n);!0===i.call(this)&&!0===u;)u=this.doSingleRepetition(n);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,e],i,$o.AT_LEAST_ONE_IDX,t,Pn.NextTerminalAfterAtLeastOneWalker)},t.prototype.atLeastOneSepFirstInternal=function(t,e){var r=this.getKeyForAutomaticLookahead($o.AT_LEAST_ONE_SEP_IDX,t);this.atLeastOneSepFirstInternalLogic(t,e,r)},t.prototype.atLeastOneSepFirstInternalLogic=function(t,e,r){var n=this,o=e.DEF,i=e.SEP;if(!0!==this.getLaFuncFromCache(r).call(this))throw this.raiseEarlyExitException(t,Tn.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,e.ERR_MSG);o.call(this);for(var a=function(){return n.tokenMatcher(n.LA(1),i)};!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,i,a,o,Pn.NextTerminalAfterAtLeastOneSepWalker],a,$o.AT_LEAST_ONE_SEP_IDX,t,Pn.NextTerminalAfterAtLeastOneSepWalker)},t.prototype.manyInternal=function(t,e){var r=this.getKeyForAutomaticLookahead($o.MANY_IDX,t);return this.manyInternalLogic(t,e,r)},t.prototype.manyInternalLogic=function(t,e,r){var n,o=this,i=this.getLaFuncFromCache(r);if("function"!=typeof e){n=e.DEF;var a=e.GATE;if(void 0!==a){var s=i;i=function(){return a.call(o)&&s.call(o)}}}else n=e;for(var u=!0;!0===i.call(this)&&!0===u;)u=this.doSingleRepetition(n);this.attemptInRepetitionRecovery(this.manyInternal,[t,e],i,$o.MANY_IDX,t,Pn.NextTerminalAfterManyWalker,u)},t.prototype.manySepFirstInternal=function(t,e){var r=this.getKeyForAutomaticLookahead($o.MANY_SEP_IDX,t);this.manySepFirstInternalLogic(t,e,r)},t.prototype.manySepFirstInternalLogic=function(t,e,r){var n=this,o=e.DEF,i=e.SEP;if(!0===this.getLaFuncFromCache(r).call(this)){o.call(this);for(var a=function(){return n.tokenMatcher(n.LA(1),i)};!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,i,a,o,Pn.NextTerminalAfterManySepWalker],a,$o.MANY_SEP_IDX,t,Pn.NextTerminalAfterManySepWalker)}},t.prototype.repetitionSepSecondInternal=function(t,e,r,n,o){for(;r();)this.CONSUME(e),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,e,r,n,o],r,$o.AT_LEAST_ONE_SEP_IDX,t,o)},t.prototype.doSingleRepetition=function(t){var e=this.getLexerPosition();return t.call(this),this.getLexerPosition()>e},t.prototype.orInternal=function(t,e){var r=this.getKeyForAutomaticLookahead($o.OR_IDX,e),n=(0,Vi.default)(t)?t:t.DEF,o=this.getLaFuncFromCache(r).call(this,n);if(void 0!==o)return n[o].ALT.call(this);this.raiseNoAltException(e,t.ERR_MSG)},t.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var t=this.LA(1),e=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Po.NotAllInputParsedException(e,t))}},t.prototype.subruleInternal=function(t,e,r){var n;try{var o=void 0!==r?r.ARGS:void 0;return this.subruleIdx=e,n=t.apply(this,o),this.cstPostNonTerminal(n,void 0!==r&&void 0!==r.LABEL?r.LABEL:t.ruleName),n}catch(e){throw this.subruleInternalError(e,r,t.ruleName)}},t.prototype.subruleInternalError=function(t,e,r){throw(0,Po.isRecognitionException)(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==e&&void 0!==e.LABEL?e.LABEL:r),delete t.partialCstResult),t},t.prototype.consumeInternal=function(t,e,r){var n;try{var o=this.LA(1);!0===this.tokenMatcher(o,t)?(this.consumeToken(),n=o):this.consumeInternalError(t,o,r)}catch(r){n=this.consumeInternalRecovery(t,e,r)}return this.cstPostTerminal(void 0!==r&&void 0!==r.LABEL?r.LABEL:t.name,n),n},t.prototype.consumeInternalError=function(t,e,r){var n,o=this.LA(0);throw n=void 0!==r&&r.ERR_MSG?r.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:e,previous:o,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Po.MismatchedTokenException(n,e,o))},t.prototype.consumeInternalRecovery=function(t,e,r){if(!this.recoveryEnabled||"MismatchedTokenException"!==r.name||this.isBackTracking())throw r;var n=this.getFollowsForInRuleRecovery(t,e);try{return this.tryInRuleRecovery(t,n)}catch(t){throw t.name===Eo.IN_RULE_RECOVERY_EXCEPTION?r:t}},t.prototype.saveRecogState=function(){var t=this.errors,e=(0,$i.default)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:e,CST_STACK:this.CST_STACK}},t.prototype.reloadRecogState=function(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK},t.prototype.ruleInvocationStateUpdate=function(t,e,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(e)},t.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},t.prototype.getCurrRuleFullName=function(){var t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]},t.prototype.shortRuleNameToFullName=function(t){return this.shortRuleNameToFull[t]},t.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),Ot.EOF)},t.prototype.reset=function(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},t}();Gi.RecognizerEngine=Qi;var ta={},ea=ta&&ta.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ta,"__esModule",{value:!0}),ta.ErrorHandler=void 0;var ra=ea(n("6mWlg")),na=ea(n("aKVMx")),oa=function(){function t(){}return t.prototype.initErrorHandler=function(t){this._errors=[],this.errorMessageProvider=(0,ra.default)(t,"errorMessageProvider")?t.errorMessageProvider:c.DEFAULT_PARSER_CONFIG.errorMessageProvider},t.prototype.SAVE_ERROR=function(t){if((0,Po.isRecognitionException)(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,na.default)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(t.prototype,"errors",{get:function(){return(0,na.default)(this._errors)},set:function(t){this._errors=t},enumerable:!1,configurable:!0}),t.prototype.raiseEarlyExitException=function(t,e,r){for(var n=this.getCurrRuleFullName(),o=this.getGAstProductions()[n],i=(0,Tn.getLookaheadPathsForOptionalProd)(t,o,e,this.maxLookahead)[0],a=[],s=1;s<=this.maxLookahead;s++)a.push(this.LA(s));var u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:a,previous:this.LA(0),customUserDescription:r,ruleName:n});throw this.SAVE_ERROR(new Po.EarlyExitException(u,this.LA(1),this.LA(0)))},t.prototype.raiseNoAltException=function(t,e){for(var r=this.getCurrRuleFullName(),n=this.getGAstProductions()[r],o=(0,Tn.getLookaheadPathsForOr)(t,n,this.maxLookahead),i=[],a=1;a<=this.maxLookahead;a++)i.push(this.LA(a));var s=this.LA(0),u=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:o,actual:i,previous:s,customUserDescription:e,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Po.NoViableAltException(u,this.LA(1),s))},t}();ta.ErrorHandler=oa;var ia={},aa=ia&&ia.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ia,"__esModule",{value:!0}),ia.ContentAssist=void 0;var sa=aa(n("3TjNg")),ua=aa(n("iWFaD")),ca=function(){function t(){}return t.prototype.initContentAssist=function(){},t.prototype.computeContentAssist=function(t,e){var r=this.gastProductionsCache[t];if((0,ua.default)(r))throw Error("Rule ->".concat(t,"<- does not exist in this grammar."));return(0,Pn.nextPossibleTokensAfter)([r],e,this.tokenMatcher,this.maxLookahead)},t.prototype.getNextPossibleTokenTypes=function(t){var e=(0,sa.default)(t.ruleStack),r=this.getGAstProductions()[e];return new Pn.NextAfterTokenWalker(r,t).startWalking()},t}();ia.ContentAssist=ca;var la={},fa=la&&la.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(la,"__esModule",{value:!0}),la.GastRecorder=void 0;var pa=fa(n("fcJe6")),da=fa(n("3SybD")),ha=fa(n("4rTPm")),va=fa(n("4OAgB")),ya=fa(n("7kzWE")),ma=fa(n("6mWlg")),ga={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(ga);var Ea=Math.pow(2,$o.BITS_FOR_OCCURRENCE_IDX)-1,Ta=(0,Ot.createToken)({name:"RECORDING_PHASE_TOKEN",pattern:It.Lexer.NA});(0,rr.augmentTokenTypes)([Ta]);var Oa=(0,Ot.createTokenInstance)(Ta,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Oa);var _a={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}},Ra=function(){function t(){}return t.prototype.initGastRecorder=function(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1},t.prototype.enableRecording=function(){var t=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var e=function(e){var r=e>0?e:"";t["CONSUME".concat(r)]=function(t,r){return this.consumeInternalRecord(t,e,r)},t["SUBRULE".concat(r)]=function(t,r){return this.subruleInternalRecord(t,e,r)},t["OPTION".concat(r)]=function(t){return this.optionInternalRecord(t,e)},t["OR".concat(r)]=function(t){return this.orInternalRecord(t,e)},t["MANY".concat(r)]=function(t){this.manyInternalRecord(e,t)},t["MANY_SEP".concat(r)]=function(t){this.manySepFirstInternalRecord(e,t)},t["AT_LEAST_ONE".concat(r)]=function(t){this.atLeastOneInternalRecord(e,t)},t["AT_LEAST_ONE_SEP".concat(r)]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}},r=0;r<10;r++)e(r);t.consume=function(t,e,r){return this.consumeInternalRecord(e,t,r)},t.subrule=function(t,e,r){return this.subruleInternalRecord(e,t,r)},t.option=function(t,e){return this.optionInternalRecord(e,t)},t.or=function(t,e){return this.orInternalRecord(e,t)},t.many=function(t,e){this.manyInternalRecord(t,e)},t.atLeastOne=function(t,e){this.atLeastOneInternalRecord(t,e)},t.ACTION=t.ACTION_RECORD,t.BACKTRACK=t.BACKTRACK_RECORD,t.LA=t.LA_RECORD}))},t.prototype.disableRecording=function(){var t=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var e=t,r=0;r<10;r++){var n=r>0?r:"";delete e["CONSUME".concat(n)],delete e["SUBRULE".concat(n)],delete e["OPTION".concat(n)],delete e["OR".concat(n)],delete e["MANY".concat(n)],delete e["MANY_SEP".concat(n)],delete e["AT_LEAST_ONE".concat(n)],delete e["AT_LEAST_ONE_SEP".concat(n)]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA}))},t.prototype.ACTION_RECORD=function(t){},t.prototype.BACKTRACK_RECORD=function(t,e){return function(){return!0}},t.prototype.LA_RECORD=function(t){return c.END_OF_FILE},t.prototype.topLevelRuleRecord=function(t,e){try{var r=new x.Rule({definition:[],name:t});return r.name=t,this.recordingProdStack.push(r),e.call(this),this.recordingProdStack.pop(),r}catch(t){if(!0!==t.KNOWN_RECORDER_ERROR)try{t.message=t.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(e){throw t}throw t}},t.prototype.optionInternalRecord=function(t,e){return Aa.call(this,x.Option,t,e)},t.prototype.atLeastOneInternalRecord=function(t,e){Aa.call(this,x.RepetitionMandatory,e,t)},t.prototype.atLeastOneSepFirstInternalRecord=function(t,e){Aa.call(this,x.RepetitionMandatoryWithSeparator,e,t,true)},t.prototype.manyInternalRecord=function(t,e){Aa.call(this,x.Repetition,e,t)},t.prototype.manySepFirstInternalRecord=function(t,e){Aa.call(this,x.RepetitionWithSeparator,e,t,true)},t.prototype.orInternalRecord=function(t,e){return Na.call(this,t,e)},t.prototype.subruleInternalRecord=function(t,e,r){if(Sa(e),!t||!1===(0,ma.default)(t,"ruleName")){var n=new Error("<SUBRULE".concat(Ia(e),"> argument is invalid")+" expecting a Parser method reference but got: <".concat(JSON.stringify(t),">")+"\n inside top level rule: <".concat(this.recordingProdStack[0].name,">"));throw n.KNOWN_RECORDER_ERROR=!0,n}var o=(0,pa.default)(this.recordingProdStack),i=t.ruleName,a=new x.NonTerminal({idx:e,nonTerminalName:i,label:null==r?void 0:r.LABEL,referencedRule:void 0});return o.definition.push(a),this.outputCst?_a:ga},t.prototype.consumeInternalRecord=function(t,e,r){if(Sa(e),!(0,rr.hasShortKeyProperty)(t)){var n=new Error("<CONSUME".concat(Ia(e),"> argument is invalid")+" expecting a TokenType reference but got: <".concat(JSON.stringify(t),">")+"\n inside top level rule: <".concat(this.recordingProdStack[0].name,">"));throw n.KNOWN_RECORDER_ERROR=!0,n}var o=(0,pa.default)(this.recordingProdStack),i=new x.Terminal({idx:e,terminalType:t,label:null==r?void 0:r.LABEL});return o.definition.push(i),Oa},t}();function Aa(t,e,r,n){void 0===n&&(n=!1),Sa(r);var o=(0,pa.default)(this.recordingProdStack),i=(0,ya.default)(e)?e:e.DEF,a=new t({definition:[],idx:r});return n&&(a.separator=e.SEP),(0,ma.default)(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(a),i.call(this),o.definition.push(a),this.recordingProdStack.pop(),ga}function Na(t,e){var r=this;Sa(e);var n=(0,pa.default)(this.recordingProdStack),o=!1===(0,da.default)(t),i=!1===o?t:t.DEF,a=new x.Alternation({definition:[],idx:e,ignoreAmbiguities:o&&!0===t.IGNORE_AMBIGUITIES});(0,ma.default)(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD);var s=(0,ha.default)(i,(function(t){return(0,ya.default)(t.GATE)}));return a.hasPredicates=s,n.definition.push(a),(0,va.default)(i,(function(t){var e=new x.Alternative({definition:[]});a.definition.push(e),(0,ma.default)(t,"IGNORE_AMBIGUITIES")?e.ignoreAmbiguities=t.IGNORE_AMBIGUITIES:(0,ma.default)(t,"GATE")&&(e.ignoreAmbiguities=!0),r.recordingProdStack.push(e),t.ALT.call(r),r.recordingProdStack.pop()})),ga}function Ia(t){return 0===t?"":"".concat(t)}function Sa(t){if(t<0||t>Ea){var e=new Error("Invalid DSL Method idx value: <".concat(t,">\n\t")+"Idx value must be a none negative value smaller than ".concat(Ea+1));throw e.KNOWN_RECORDER_ERROR=!0,e}}la.GastRecorder=Ra;var ba={},xa=ba&&ba.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ba,"__esModule",{value:!0}),ba.PerformanceTracer=void 0;var Pa=xa(n("6mWlg")),La=function(){function t(){}return t.prototype.initPerformanceTracer=function(t){if((0,Pa.default)(t,"traceInitPerf")){var e=t.traceInitPerf,r="number"==typeof e;this.traceInitMaxIdent=r?e:1/0,this.traceInitPerf=r?e>0:e}else this.traceInitMaxIdent=0,this.traceInitPerf=c.DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},t.prototype.TRACE_INIT=function(t,e){if(!0===this.traceInitPerf){this.traceInitIndent++;var r=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log("".concat(r,"--\x3e <").concat(t,">"));var n=(0,g.timer)(e),o=n.time,i=n.value,a=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a("".concat(r,"<-- <").concat(t,"> time: ").concat(o,"ms")),this.traceInitIndent--,i}return e()},t}();ba.PerformanceTracer=La;var ka,Ca={};Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.applyMixins=void 0,Ca.applyMixins=function(t,e){e.forEach((function(e){var r=e.prototype;Object.getOwnPropertyNames(r).forEach((function(n){if("constructor"!==n){var o=Object.getOwnPropertyDescriptor(r,n);o&&(o.get||o.set)?Object.defineProperty(t.prototype,n,o):t.prototype[n]=e.prototype[n]}}))}))},c.END_OF_FILE=(0,Ot.createTokenInstance)(Ot.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(c.END_OF_FILE),c.DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Fr.defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),c.DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0}),(ka=c.ParserDefinitionErrorType||(c.ParserDefinitionErrorType={}))[ka.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",ka[ka.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",ka[ka.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",ka[ka.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",ka[ka.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",ka[ka.LEFT_RECURSION=5]="LEFT_RECURSION",ka[ka.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",ka[ka.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",ka[ka.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",ka[ka.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",ka[ka.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",ka[ka.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",ka[ka.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",ka[ka.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION",c.EMPTY_ALT=function(t){return void 0===t&&(t=void 0),function(){return t}};var Ma=function(){function t(t,e){this.definitionErrors=[],this.selfAnalysisDone=!1;var r=this;if(r.initErrorHandler(e),r.initLexerAdapter(),r.initLooksAhead(e),r.initRecognizerEngine(t,e),r.initRecoverable(e),r.initTreeBuilder(e),r.initContentAssist(),r.initGastRecorder(e),r.initPerformanceTracer(e),(0,y.default)(e,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,y.default)(e,"skipValidations")?e.skipValidations:c.DEFAULT_PARSER_CONFIG.skipValidations}return t.performSelfAnalysis=function(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")},t.prototype.performSelfAnalysis=function(){var e=this;this.TRACE_INIT("performSelfAnalysis",(function(){var r;e.selfAnalysisDone=!0;var n=e.className;e.TRACE_INIT("toFastProps",(function(){(0,g.toFastProperties)(e)})),e.TRACE_INIT("Grammar Recording",(function(){try{e.enableRecording(),(0,h.default)(e.definedRulesNames,(function(t){var r,n=e[t].originalGrammarAction;e.TRACE_INIT("".concat(t," Rule"),(function(){r=e.topLevelRuleRecord(t,n)})),e.gastProductionsCache[t]=r}))}finally{e.disableRecording()}}));var o=[];if(e.TRACE_INIT("Grammar Resolving",(function(){o=(0,zr.resolveGrammar)({rules:(0,v.default)(e.gastProductionsCache)}),e.definitionErrors=e.definitionErrors.concat(o)})),e.TRACE_INIT("Grammar Validations",(function(){if((0,p.default)(o)&&!1===e.skipValidations){var t=(0,zr.validateGrammar)({rules:(0,v.default)(e.gastProductionsCache),tokenTypes:(0,v.default)(e.tokensMap),errMsgProvider:Fr.defaultGrammarValidatorErrorProvider,grammarName:n}),r=(0,Qr.validateLookahead)({lookaheadStrategy:e.lookaheadStrategy,rules:(0,v.default)(e.gastProductionsCache),tokenTypes:(0,v.default)(e.tokensMap),grammarName:n});e.definitionErrors=e.definitionErrors.concat(t,r)}})),(0,p.default)(e.definitionErrors)&&(e.recoveryEnabled&&e.TRACE_INIT("computeAllProdsFollows",(function(){var t=(0,_.computeAllProdsFollows)((0,v.default)(e.gastProductionsCache));e.resyncFollows=t})),e.TRACE_INIT("ComputeLookaheadFunctions",(function(){var t,r;null===(r=(t=e.lookaheadStrategy).initialize)||void 0===r||r.call(t,{rules:(0,v.default)(e.gastProductionsCache)}),e.preComputeLookaheadFunctions((0,v.default)(e.gastProductionsCache))}))),!t.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,p.default)(e.definitionErrors))throw r=(0,d.default)(e.definitionErrors,(function(t){return t.message})),new Error("Parser Definition Errors detected:\n ".concat(r.join("\n-------------------------------\n")))}))},t.DEFER_DEFINITION_ERRORS_HANDLING=!1,t}();c.Parser=Ma,(0,Ca.applyMixins)(Ma,[Eo.Recoverable,Ho.LooksAhead,ci.TreeBuilder,Mi.LexerAdapter,Gi.RecognizerEngine,Di.RecognizerApi,ta.ErrorHandler,ia.ContentAssist,la.GastRecorder,ba.PerformanceTracer]);var wa=function(t){function e(e,r){void 0===r&&(r=c.DEFAULT_PARSER_CONFIG);var n=(0,m.default)(r);return n.outputCst=!0,t.call(this,e,n)||this}return l(e,t),e}(Ma);c.CstParser=wa;var Da=function(t){function e(e,r){void 0===r&&(r=c.DEFAULT_PARSER_CONFIG);var n=(0,m.default)(r);return n.outputCst=!1,t.call(this,e,n)||this}return l(e,t),e}(Ma);c.EmbeddedActionsParser=Da,Object.defineProperty(a,"CstParser",{enumerable:!0,get:function(){return c.CstParser}}),Object.defineProperty(a,"EmbeddedActionsParser",{enumerable:!0,get:function(){return c.EmbeddedActionsParser}}),Object.defineProperty(a,"ParserDefinitionErrorType",{enumerable:!0,get:function(){return c.ParserDefinitionErrorType}}),Object.defineProperty(a,"EMPTY_ALT",{enumerable:!0,get:function(){return c.EMPTY_ALT}}),Object.defineProperty(a,"Lexer",{enumerable:!0,get:function(){return It.Lexer}}),Object.defineProperty(a,"LexerDefinitionErrorType",{enumerable:!0,get:function(){return It.LexerDefinitionErrorType}}),Object.defineProperty(a,"createToken",{enumerable:!0,get:function(){return Ot.createToken}}),Object.defineProperty(a,"createTokenInstance",{enumerable:!0,get:function(){return Ot.createTokenInstance}}),Object.defineProperty(a,"EOF",{enumerable:!0,get:function(){return Ot.EOF}}),Object.defineProperty(a,"tokenLabel",{enumerable:!0,get:function(){return Ot.tokenLabel}}),Object.defineProperty(a,"tokenMatcher",{enumerable:!0,get:function(){return Ot.tokenMatcher}}),Object.defineProperty(a,"tokenName",{enumerable:!0,get:function(){return Ot.tokenName}}),Object.defineProperty(a,"getLookaheadPaths",{enumerable:!0,get:function(){return Tn.getLookaheadPaths}}),Object.defineProperty(a,"LLkLookaheadStrategy",{enumerable:!0,get:function(){return Qo.LLkLookaheadStrategy}}),Object.defineProperty(a,"defaultParserErrorProvider",{enumerable:!0,get:function(){return Fr.defaultParserErrorProvider}}),Object.defineProperty(a,"EarlyExitException",{enumerable:!0,get:function(){return Po.EarlyExitException}}),Object.defineProperty(a,"isRecognitionException",{enumerable:!0,get:function(){return Po.isRecognitionException}}),Object.defineProperty(a,"MismatchedTokenException",{enumerable:!0,get:function(){return Po.MismatchedTokenException}}),Object.defineProperty(a,"NotAllInputParsedException",{enumerable:!0,get:function(){return Po.NotAllInputParsedException}}),Object.defineProperty(a,"NoViableAltException",{enumerable:!0,get:function(){return Po.NoViableAltException}}),Object.defineProperty(a,"defaultLexerErrorProvider",{enumerable:!0,get:function(){return Ar.defaultLexerErrorProvider}}),Object.defineProperty(a,"Alternation",{enumerable:!0,get:function(){return x.Alternation}}),Object.defineProperty(a,"Alternative",{enumerable:!0,get:function(){return x.Alternative}}),Object.defineProperty(a,"NonTerminal",{enumerable:!0,get:function(){return x.NonTerminal}}),Object.defineProperty(a,"Option",{enumerable:!0,get:function(){return x.Option}}),Object.defineProperty(a,"Repetition",{enumerable:!0,get:function(){return x.Repetition}}),Object.defineProperty(a,"RepetitionMandatory",{enumerable:!0,get:function(){return x.RepetitionMandatory}}),Object.defineProperty(a,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return x.RepetitionMandatoryWithSeparator}}),Object.defineProperty(a,"RepetitionWithSeparator",{enumerable:!0,get:function(){return x.RepetitionWithSeparator}}),Object.defineProperty(a,"Rule",{enumerable:!0,get:function(){return x.Rule}}),Object.defineProperty(a,"Terminal",{enumerable:!0,get:function(){return x.Terminal}}),Object.defineProperty(a,"serializeGrammar",{enumerable:!0,get:function(){return x.serializeGrammar}}),Object.defineProperty(a,"serializeProduction",{enumerable:!0,get:function(){return x.serializeProduction}}),Object.defineProperty(a,"GAstVisitor",{enumerable:!0,get:function(){return x.GAstVisitor}});var Ua={},Fa=Ua&&Ua.__assign||function(){return Fa=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Fa.apply(this,arguments)};Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.generateCstDts=void 0;var ja={},Ba=ja&&ja.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ga=ja&&ja.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ja,"__esModule",{value:!0}),ja.buildModel=void 0;var Wa=Ga(n("fW6i0")),za=Ga(n("eNvXX")),Va=Ga(n("4eHM6")),Ka=Ga(n("4rTPm")),Ya=Ga(n("e9Dct")),Ha=Ga(n("hTx0L"));ja.buildModel=function(t){var e=new Xa,r=(0,Va.default)(t);return(0,Wa.default)(r,(function(t){return e.visitRule(t)}))};var Xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ba(e,t),e.prototype.visitRule=function(t){var e=this.visitEach(t.definition),r=(0,Ya.default)(e,(function(t){return t.propertyName})),n=(0,Wa.default)(r,(function(t,e){var r=!(0,Ka.default)(t,(function(t){return!t.canBeNull})),n=t[0].type;return t.length>1&&(n=(0,Wa.default)(t,(function(t){return t.type}))),{name:e,type:n,optional:r}}));return{name:t.name,properties:n}},e.prototype.visitAlternative=function(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0})},e.prototype.visitOption=function(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0})},e.prototype.visitRepetition=function(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0})},e.prototype.visitRepetitionMandatory=function(t){return this.visitEach(t.definition)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){return this.visitEach(t.definition).concat({propertyName:t.separator.name,canBeNull:!0,type:qa(t.separator)})},e.prototype.visitRepetitionWithSeparator=function(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0}).concat({propertyName:t.separator.name,canBeNull:!0,type:qa(t.separator)})},e.prototype.visitAlternation=function(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0})},e.prototype.visitTerminal=function(t){return[{propertyName:t.label||t.terminalType.name,canBeNull:!1,type:qa(t)}]},e.prototype.visitNonTerminal=function(t){return[{propertyName:t.label||t.nonTerminalName,canBeNull:!1,type:qa(t)}]},e.prototype.visitEachAndOverrideWith=function(t,e){return(0,Wa.default)(this.visitEach(t),(function(t){return(0,Ha.default)({},t,e)}))},e.prototype.visitEach=function(t){var e=this;return(0,za.default)((0,Wa.default)(t,(function(t){return e.visit(t)})))},e}(x.GAstVisitor);function qa(t){return t instanceof x.NonTerminal?{kind:"rule",name:t.referencedRule.name}:{kind:"token"}}var Ja={},Za=Ja&&Ja.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.genDts=void 0;var $a=Za(n("eNvXX")),Qa=Za(n("3SybD")),ts=Za(n("fW6i0")),es=Za(n("lIKAq")),rs=Za(n("iRkuP")),ns=Za(n("hAHQr"));function os(t){return"token"===t.kind?"IToken":is(t.name)}function is(t){return(0,ns.default)(t)+"CstNode"}function as(t){return(0,ns.default)(t)+"CstChildren"}Ja.genDts=function(t,e){var r,n,o=[];return o=(o=o.concat('import type { CstNode, ICstVisitor, IToken } from "chevrotain";')).concat((0,$a.default)((0,ts.default)(t,(function(t){return function(t){var e=function(t){var e=is(t.name),r=as(t.name);return"export interface ".concat(e,' extends CstNode {\n  name: "').concat(t.name,'";\n  children: ').concat(r,";\n}")}(t),r=function(t){var e=as(t.name);return"export type ".concat(e," = {\n  ").concat((0,ts.default)(t.properties,(function(t){return function(t){var e=function(t){if((0,Qa.default)(t)){var e=(0,rs.default)((0,ts.default)(t,(function(t){return os(t)})));return"("+(0,es.default)(e,(function(t,e){return t+" | "+e}))+")"}return os(t)}(t.type);return"".concat(t.name).concat(t.optional?"?":"",": ").concat(e,"[];")}(t)})).join("\n  "),"\n};")}(t);return[e,r]}(t)})))),e.includeVisitorInterface&&(o=o.concat((r=e.visitorInterfaceName,n=t,"export interface ".concat(r,"<IN, OUT> extends ICstVisitor<IN, OUT> {\n  ").concat((0,ts.default)(n,(function(t){return function(t){var e=as(t.name);return"".concat(t.name,"(children: ").concat(e,", param?: IN): OUT;")}(t)})).join("\n  "),"\n}")))),o.join("\n\n")+"\n"};var ss={includeVisitorInterface:!0,visitorInterfaceName:"ICstNodeVisitor"};Ua.generateCstDts=function(t,e){var r=Fa(Fa({},ss),e),n=(0,ja.buildModel)(t);return(0,Ja.genDts)(n,r)},Object.defineProperty(a,"generateCstDts",{enumerable:!0,get:function(){return Ua.generateCstDts}}),a.clearCache=function(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")};var us={};Object.defineProperty(us,"__esModule",{value:!0}),us.createSyntaxDiagramsCode=void 0,us.createSyntaxDiagramsCode=function(t,e){var r=void 0===e?{}:e,n=r.resourceBase,o=void 0===n?"https://unpkg.com/chevrotain@".concat(s.VERSION,"/diagrams/"):n,i=r.css,a=void 0===i?"https://unpkg.com/chevrotain@".concat(s.VERSION,"/diagrams/diagrams.css"):i;return'\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n'+"\n<link rel='stylesheet' href='".concat(a,"'>\n")+"\n<script src='".concat(o,"vendor/railroad-diagrams.js'><\/script>\n<script src='").concat(o,"src/diagrams_builder.js'><\/script>\n<script src='").concat(o,"src/diagrams_behavior.js'><\/script>\n<script src='").concat(o,"src/main.js'><\/script>\n")+'\n<div id="diagrams" align="center"></div>    \n'+"\n<script>\n    window.serializedGrammar = ".concat(JSON.stringify(t,null,"  "),";\n<\/script>\n")+'\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'},Object.defineProperty(a,"createSyntaxDiagramsCode",{enumerable:!0,get:function(){return us.createSyntaxDiagramsCode}});var cs=function(){throw new Error("The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\t\nSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0")};a.Parser=cs;var ls,fs=a.Lexer,ps=a.Lexer,ds=a.createToken;const hs={},vs=(t,e)=>{hs[t]=ds({name:t,...e})},ys=ds({name:"Label",pattern:/[a-z]\w*/});vs("NewLine",{pattern:/\r?\n/}),vs("Colon",{pattern:":"}),vs("LBracket",{pattern:"("}),vs("RBracket",{pattern:")"}),vs("Comma",{pattern:","}),vs("Comment",{pattern:/(?:#|(?:\/\/))[^\n\r]*/,group:ps.SKIPPED}),vs("WhiteSpace",{pattern:/[^\S\r\n]+/,group:ps.SKIPPED}),vs("KeywordLocationShort",{pattern:/__location/}),vs("KeywordRomBank",{pattern:/__rom_bank/});const ms=["nop","rdm","rd0","rd1","rd2","rd3","rdr","wrm","wr0","wr1","wr2","wr3","wrr","wmp","adm","sbm","clb","clc","cmc","stc","cma","iac","dac","ral","rar","tcc","daa","tcs","kbp","dcl","ldm","ld","xch","add","sub","inc","bbl","jin","src","fin","jun","jms","jcn","isz","fim","wpm","hlt","bbs","lcr","or4","or5","an6","an7","db0","db1","sb0","sb1","ein","din","rpm"];for(const t of ms)vs(`Instruction${t.toUpperCase()}`,{pattern:new RegExp(t),longer_alt:ys});vs("Register",{pattern:/rr(?:(?:1[0-5])|(?:0?\d))/}),vs("RegisterPair",{pattern:/r[0-7]/}),vs("Cond",{pattern:/n?(?:(?:zct)|(?:zc)|(?:zt)|(?:ct)|z|c|t)/,longer_alt:ys}),vs("ROMAddress",{pattern:/(?:(?:0?\d)|(?:1[0-5])|(?:0x0?[0-9a-f])):(?:(?:[01]\d\d)|(?:2[0-4]\d)|(?:25[0-5])|(?:0x[0-9a-f]{1,2})|(?:\d{1,2}))/}),vs("Imm",{pattern:/(?:[0-3]\d\d\d)|(?:40[0-8]\d)|(?:409[0-5])|(?:0x[0-9a-f]{1,3})|(?:\d{1,3})/}),hs.Label=ys,ls={allTokens:Object.values(hs),Tokens:hs},i=new fs(ls.allTokens);var gs,Es={},Ts=a.EmbeddedActionsParser,Os=a.MismatchedTokenException,_s=ls.Tokens,Rs=ls.allTokens;function As(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function Ns(t,e){return e.get?e.get.call(t):e.value}function Is(t,e){return Ns(t,As(t,e,"get"))}function Ss(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bs(t,e,r){Ss(t,e),e.set(t,r)}function xs(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}function Ps(t,e,r){return xs(t,As(t,e,"set"),r),r}function Ls(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}function ks(t,e,r){return Ls(t,e),r}var Cs;var Ms,ws=(Cs={INSTRUCTION_TYPES:Object.freeze({Regular:Symbol("INSTRUCTION_TYPES/Regular"),JumpConditional:Symbol("INSTRUCTION_TYPES/JumpConditional"),FarJump:Symbol("INSTRUCTION_TYPES/FarJump"),Call:Symbol("INSTRUCTION_TYPES/Call"),Return:Symbol("INSTRUCTION_TYPES/Return"),Halt:Symbol("INSTRUCTION_TYPES/Halt")})}).INSTRUCTION_TYPES;const Ds=Object.freeze({None:Symbol("OPERANDS_GROUPS/None"),Register:Symbol("OPERANDS_GROUPS/Register"),RegisterPair:Symbol("OPERANDS_GROUPS/RegisterPair"),Immediate4bit:Symbol("OPERANDS_GROUPS/Immediate4bit"),Immediate12bit:Symbol("OPERANDS_GROUPS/Immediate12bit"),RegisterPairAndImmediate8bit:Symbol("OPERANDS_GROUPS/RegisterPairAndImmediate8bit"),RegisterAndImmediate8bit:Symbol("OPERANDS_GROUPS/RegisterAndImmediate8bit"),CondAndImmediate8bit:Symbol("OPERANDS_GROUPS/CondAndImmediate8bit")}),Us=new Map([["nop",{opcode:0,operandsGroup:Ds.None}],["rdm",{opcode:233,operandsGroup:Ds.None}],["rd0",{opcode:236,operandsGroup:Ds.None}],["rd1",{opcode:237,operandsGroup:Ds.None}],["rd2",{opcode:238,operandsGroup:Ds.None}],["rd3",{opcode:239,operandsGroup:Ds.None}],["rdr",{opcode:234,operandsGroup:Ds.None}],["wrm",{opcode:224,operandsGroup:Ds.None}],["wr0",{opcode:228,operandsGroup:Ds.None}],["wr1",{opcode:229,operandsGroup:Ds.None}],["wr2",{opcode:230,operandsGroup:Ds.None}],["wr3",{opcode:231,operandsGroup:Ds.None}],["wrr",{opcode:226,operandsGroup:Ds.None}],["wmp",{opcode:225,operandsGroup:Ds.None}],["wpm",{opcode:227,operandsGroup:Ds.None}],["adm",{opcode:235,operandsGroup:Ds.None}],["sbm",{opcode:232,operandsGroup:Ds.None}],["clb",{opcode:240,operandsGroup:Ds.None}],["clc",{opcode:241,operandsGroup:Ds.None}],["cmc",{opcode:243,operandsGroup:Ds.None}],["stc",{opcode:250,operandsGroup:Ds.None}],["cma",{opcode:244,operandsGroup:Ds.None}],["iac",{opcode:242,operandsGroup:Ds.None}],["dac",{opcode:248,operandsGroup:Ds.None}],["ral",{opcode:245,operandsGroup:Ds.None}],["rar",{opcode:246,operandsGroup:Ds.None}],["tcc",{opcode:247,operandsGroup:Ds.None}],["daa",{opcode:251,operandsGroup:Ds.None}],["tcs",{opcode:249,operandsGroup:Ds.None}],["kbp",{opcode:252,operandsGroup:Ds.None}],["dcl",{opcode:253,operandsGroup:Ds.None}],["hlt",{opcode:1,operandsGroup:Ds.None}],["bbs",{opcode:2,operandsGroup:Ds.None}],["lcr",{opcode:3,operandsGroup:Ds.None}],["or4",{opcode:4,operandsGroup:Ds.None}],["or5",{opcode:5,operandsGroup:Ds.None}],["an6",{opcode:6,operandsGroup:Ds.None}],["an7",{opcode:7,operandsGroup:Ds.None}],["db0",{opcode:8,operandsGroup:Ds.None}],["db1",{opcode:9,operandsGroup:Ds.None}],["sb0",{opcode:10,operandsGroup:Ds.None}],["sb1",{opcode:11,operandsGroup:Ds.None}],["ein",{opcode:12,operandsGroup:Ds.None}],["din",{opcode:13,operandsGroup:Ds.None}],["rpm",{opcode:14,operandsGroup:Ds.None}],["ld",{opcode:160,operandsGroup:Ds.Register}],["xch",{opcode:176,operandsGroup:Ds.Register}],["add",{opcode:128,operandsGroup:Ds.Register}],["sub",{opcode:144,operandsGroup:Ds.Register}],["inc",{opcode:96,operandsGroup:Ds.Register}],["src",{opcode:33,operandsGroup:Ds.RegisterPair}],["fin",{opcode:48,operandsGroup:Ds.RegisterPair}],["jin",{opcode:49,operandsGroup:Ds.RegisterPair}],["bbl",{opcode:192,operandsGroup:Ds.Immediate4bit}],["ldm",{opcode:208,operandsGroup:Ds.Immediate4bit}],["fim",{opcode:32,operandsGroup:Ds.RegisterPairAndImmediate8bit}],["jms",{opcode:80,operandsGroup:Ds.Immediate12bit}],["jun",{opcode:64,operandsGroup:Ds.Immediate12bit}],["isz",{opcode:112,operandsGroup:Ds.RegisterAndImmediate8bit}],["jcn",{opcode:16,operandsGroup:Ds.CondAndImmediate8bit}]]),Fs=t=>Number(t.substring(2)),js=t=>Number(t.substring(1))<<1,Bs=t=>{const e=t.split("");return(e.includes("n")?8:0)|(e.includes("z")?4:0)|(e.includes("c")?2:0)|(e.includes("t")?1:0)};var Gs=(Ms={assemblyInstruction:(t,e,r)=>{const{opcode:n,operandsGroup:o}=Us.get(t);switch(o){case Ds.None:return[n];case Ds.Register:return[n|Fs(e)];case Ds.RegisterPair:return[n|js(e)];case Ds.Immediate4bit:return[n|e];case Ds.RegisterPairAndImmediate8bit:return[n|js(e),r];case Ds.Immediate12bit:return[n|e>>8,255&e];case Ds.RegisterAndImmediate8bit:return[n|Fs(e),r];case Ds.CondAndImmediate8bit:return[n|Bs(e),r];default:throw Error("Unknown instruction!")}}}).assemblyInstruction;const Ws={Label:Symbol("Label"),FlatAddress:Symbol("FlatAddress"),ROMAddress:Symbol("ROMAddress")};var zs=new WeakMap,Vs=new WeakMap,Ks=new WeakMap,Ys=new WeakMap,Hs=new WeakMap,Xs=new WeakMap;class qs{setBankNumber(t){const e=ks(qs,qs,Js).call(qs,t);if(0!==e&&1!==e)throw new Error("Incorrect bank index, should be 0 or 1");Is(this,Hs).push({instructionIdx:Is(this,zs).length,bankNo:e})}addFixedLocation(t){const[e,r]=t.split(":").map((t=>ks(qs,qs,Js).call(qs,t)));Is(this,Ys).push({instructionIdx:Is(this,zs).length,romPage:e,romOffset:r})}addLabel(t){return!Is(this,Vs).has(t)&&(Is(this,Vs).set(t,Is(this,zs).length),!0)}pushInstructionWithoutArg(t,e){Is(this,zs).push({opcode:Gs(t),type:"hlt"===t?ws.Halt:ws.Regular,refInstructionIdx:null,sourceCodeLine:e})}pushInstructionWithReg(t,e,r){Is(this,zs).push({opcode:Gs(t,e),type:ws.Regular,refInstructionIdx:null,sourceCodeLine:r})}pushInstructionWithRegPair(t,e,r){Is(this,zs).push({opcode:Gs(t,e),type:"jin"===t?ws.FarJump:ws.Regular,refInstructionIdx:null,sourceCodeLine:r})}pushInstructionWithImm4(t,e,r){const n=ks(qs,qs,Js).call(qs,e);if(n>15)throw new Error("Argument is too big, should be 0xF or less");Is(this,zs).push({opcode:Gs(t,n),type:"bbl"===t?ws.Return:ws.Regular,refInstructionIdx:null,sourceCodeLine:r})}pushInstructionWithRegPairAndImm8(t,e,r,n){const o=ks(qs,qs,Js).call(qs,r);if(o>255)throw new Error("Argument is too big, should be 0xFF or less");Is(this,zs).push({opcode:Gs(t,e,o),type:ws.Regular,refInstructionIdx:null,sourceCodeLine:n})}instructionWithFarAddr(t,e,r,n){const o=Is(this,Xs).call(this,e,r,Is(this,zs).length);Is(this,zs).push({opcode:Gs(t,o),type:"jun"===t?ws.FarJump:ws.Call,refInstructionIdx:null,sourceCodeLine:n})}pushISZInstruction(t,e,r,n,o){const i=Is(this,Xs).call(this,r,n,Is(this,zs).length);if(i>255)throw new Error("Argument is too big, should be 0xFF or less");Is(this,zs).push({opcode:Gs(t,e,i),type:ws.JumpConditional,refInstructionIdx:null,sourceCodeLine:o})}pushJCNInstruction(t,e,r,n,o){const i=Is(this,Xs).call(this,r,n,Is(this,zs).length);if(i>255)throw new Error("Argument is too big, should be 0xFF or less");Is(this,zs).push({opcode:Gs(t,e,i),type:ws.JumpConditional,refInstructionIdx:null,sourceCodeLine:o})}generate(){for(const{referencedLabel:t,instructionIdx:e}of Is(this,Ks)){const r=Is(this,Vs).get(t);if(void 0===r)throw new Error(`Unknown label ${t}`);Is(this,zs)[e].refInstructionIdx=r}return{instructions:Is(this,zs),fixedLocations:Is(this,Ys),fixedRomBanks:Is(this,Hs),symbols:[...Is(this,Vs).entries()].map((([t,e])=>({label:t,instructionIdx:e})))}}clear(){Ps(this,zs,[]),Ps(this,Vs,new Map),Ps(this,Ks,[]),Ps(this,Ys,[]),Ps(this,Hs,[])}constructor(){bs(this,zs,{writable:!0,value:[]}),bs(this,Vs,{writable:!0,value:new Map}),bs(this,Ks,{writable:!0,value:[]}),bs(this,Ys,{writable:!0,value:[]}),bs(this,Hs,{writable:!0,value:[]}),bs(this,Xs,{writable:!0,value:(t,e,r)=>{switch(e){case Ws.FlatAddress:return ks(qs,qs,Js).call(qs,t);case Ws.ROMAddress:{const[e,r]=t.split(":").map((t=>ks(qs,qs,Js).call(qs,t)));return e<<8|r}case Ws.Label:return Is(this,Ks).push({referencedLabel:t,instructionIdx:r}),0;default:return 0}}})}}function Js(t){return t.startsWith("0x")?parseInt(t.substring(2),16):Number(t)}var Zs=(gs={CodeGenerator:qs,AddrType:Ws}).CodeGenerator,$s=gs.AddrType;Es=new class extends Ts{throwMismatchError(t,e,r){const n=new Os(t,e,r);throw this.SAVE_ERROR(n)}parse(t){return this.input=t,this.codeGenerator.clear(),this.program()}constructor(){super(Rs,{outputCst:!1});const t=this,e=new Zs;this.codeGenerator=e,t.RULE("program",(()=>{t.AT_LEAST_ONE_SEP({SEP:_s.NewLine,DEF:()=>t.SUBRULE(t.instructionWithLabel)});try{if(this.isAtEndOfInput())return e.generate()}catch(e){throw t.SAVE_ERROR(new Os(e.toString()))}return null})),t.RULE("instructionWithLabel",(()=>{t.OPTION1((()=>t.SUBRULE(t.keyword))),t.OPTION2((()=>t.SUBRULE(t.label))),t.OPTION3((()=>t.SUBRULE(t.instruction)))})),t.RULE("keyword",(()=>{t.OR([{ALT:()=>t.SUBRULE(t.keywordLocationShort)},{ALT:()=>t.SUBRULE(t.keywordRomBank)}])})),t.RULE("keywordLocationShort",(()=>{t.CONSUME(_s.KeywordLocationShort),t.CONSUME(_s.LBracket);const r=t.CONSUME(_s.ROMAddress);t.CONSUME(_s.RBracket),t.ACTION((()=>{e.addFixedLocation(r.image)}))})),t.RULE("keywordRomBank",(()=>{t.CONSUME(_s.KeywordRomBank),t.CONSUME(_s.LBracket);const r=t.CONSUME(_s.Imm);t.CONSUME(_s.RBracket),t.ACTION((()=>{e.setBankNumber(r.image)}))})),t.RULE("label",(()=>{const r=t.CONSUME(_s.Label);t.CONSUME(_s.Colon),t.ACTION((()=>{if(!e.addLabel(r.image))throw t.SAVE_ERROR(new Os("Duplicated definition for label",r))}))})),t.RULE("instruction",(()=>{t.OR([{ALT:()=>t.SUBRULE(t.instructionWithoutArg)},{ALT:()=>t.SUBRULE(t.instructionWithReg)},{ALT:()=>t.SUBRULE(t.instructionWithRegPair)},{ALT:()=>t.SUBRULE(t.instructionWithImm4)},{ALT:()=>t.SUBRULE(t.instructionFIM)},{ALT:()=>t.SUBRULE(t.instructionWithFarAddr)},{ALT:()=>t.SUBRULE(t.instructionISZ)},{ALT:()=>t.SUBRULE(t.instructionJCN)}])})),t.RULE("instructionWithoutArg",(()=>{const r=t.OR([{ALT:()=>t.CONSUME(_s.InstructionNOP)},{ALT:()=>t.CONSUME(_s.InstructionRDM)},{ALT:()=>t.CONSUME(_s.InstructionRD0)},{ALT:()=>t.CONSUME(_s.InstructionRD1)},{ALT:()=>t.CONSUME(_s.InstructionRD2)},{ALT:()=>t.CONSUME(_s.InstructionRD3)},{ALT:()=>t.CONSUME(_s.InstructionRDR)},{ALT:()=>t.CONSUME(_s.InstructionWRM)},{ALT:()=>t.CONSUME(_s.InstructionWR0)},{ALT:()=>t.CONSUME(_s.InstructionWR1)},{ALT:()=>t.CONSUME(_s.InstructionWR2)},{ALT:()=>t.CONSUME(_s.InstructionWR3)},{ALT:()=>t.CONSUME(_s.InstructionWRR)},{ALT:()=>t.CONSUME(_s.InstructionWMP)},{ALT:()=>t.CONSUME(_s.InstructionWPM)},{ALT:()=>t.CONSUME(_s.InstructionADM)},{ALT:()=>t.CONSUME(_s.InstructionSBM)},{ALT:()=>t.CONSUME(_s.InstructionCLB)},{ALT:()=>t.CONSUME(_s.InstructionCLC)},{ALT:()=>t.CONSUME(_s.InstructionCMC)},{ALT:()=>t.CONSUME(_s.InstructionSTC)},{ALT:()=>t.CONSUME(_s.InstructionCMA)},{ALT:()=>t.CONSUME(_s.InstructionIAC)},{ALT:()=>t.CONSUME(_s.InstructionDAC)},{ALT:()=>t.CONSUME(_s.InstructionRAL)},{ALT:()=>t.CONSUME(_s.InstructionRAR)},{ALT:()=>t.CONSUME(_s.InstructionTCC)},{ALT:()=>t.CONSUME(_s.InstructionDAA)},{ALT:()=>t.CONSUME(_s.InstructionTCS)},{ALT:()=>t.CONSUME(_s.InstructionKBP)},{ALT:()=>t.CONSUME(_s.InstructionDCL)},{ALT:()=>t.CONSUME(_s.InstructionHLT)},{ALT:()=>t.CONSUME(_s.InstructionBBS)},{ALT:()=>t.CONSUME(_s.InstructionLCR)},{ALT:()=>t.CONSUME(_s.InstructionOR4)},{ALT:()=>t.CONSUME(_s.InstructionOR5)},{ALT:()=>t.CONSUME(_s.InstructionAN6)},{ALT:()=>t.CONSUME(_s.InstructionAN7)},{ALT:()=>t.CONSUME(_s.InstructionDB0)},{ALT:()=>t.CONSUME(_s.InstructionDB1)},{ALT:()=>t.CONSUME(_s.InstructionSB0)},{ALT:()=>t.CONSUME(_s.InstructionSB1)},{ALT:()=>t.CONSUME(_s.InstructionEIN)},{ALT:()=>t.CONSUME(_s.InstructionDIN)},{ALT:()=>t.CONSUME(_s.InstructionRPM)}]);t.ACTION((()=>{e.pushInstructionWithoutArg(r.image,r.startLine)}))})),t.RULE("instructionWithReg",(()=>{const r=t.OR([{ALT:()=>t.CONSUME(_s.InstructionLD)},{ALT:()=>t.CONSUME(_s.InstructionXCH)},{ALT:()=>t.CONSUME(_s.InstructionADD)},{ALT:()=>t.CONSUME(_s.InstructionSUB)},{ALT:()=>t.CONSUME(_s.InstructionINC)}]),n=t.CONSUME(_s.Register);t.ACTION((()=>{e.pushInstructionWithReg(r.image,n.image,r.startLine)}))})),t.RULE("instructionWithRegPair",(()=>{const r=t.OR([{ALT:()=>t.CONSUME(_s.InstructionJIN)},{ALT:()=>t.CONSUME(_s.InstructionSRC)},{ALT:()=>t.CONSUME(_s.InstructionFIN)}]),n=t.CONSUME(_s.RegisterPair);t.ACTION((()=>{e.pushInstructionWithRegPair(r.image,n.image,r.startLine)}))})),t.RULE("instructionWithImm4",(()=>{const r=t.OR([{ALT:()=>t.CONSUME(_s.InstructionBBL)},{ALT:()=>t.CONSUME(_s.InstructionLDM)}]),n=t.CONSUME(_s.Imm);t.ACTION((()=>{try{e.pushInstructionWithImm4(r.image,n.image,r.startLine)}catch(e){throw t.SAVE_ERROR(new Os(e.toString(),n,r))}}))})),t.RULE("instructionFIM",(()=>{const{image:r,startLine:n}=t.CONSUME(_s.InstructionFIM),{image:o}=t.CONSUME(_s.RegisterPair),i=t.CONSUME(_s.Comma),{image:a}=t.CONSUME(_s.Imm);t.ACTION((()=>{try{e.pushInstructionWithRegPairAndImm8(r,o,a,n)}catch(e){throw t.SAVE_ERROR(new Os(e.toString(),a,i))}}))})),t.RULE("address",(()=>t.OR([{ALT:()=>({token:t.CONSUME(_s.Label),type:$s.Label})},{ALT:()=>({token:t.CONSUME(_s.Imm),type:$s.FlatAddress})},{ALT:()=>({token:t.CONSUME(_s.ROMAddress),type:$s.ROMAddress})}]))),t.RULE("instructionWithFarAddr",(()=>{const r=t.OR([{ALT:()=>t.CONSUME(_s.InstructionJUN)},{ALT:()=>t.CONSUME(_s.InstructionJMS)}]),{token:n,type:o}=t.SUBRULE(t.address);t.ACTION((()=>{e.instructionWithFarAddr(r.image,n.image,o,r.startLine)}))})),t.RULE("instructionISZ",(()=>{const r=t.CONSUME(_s.InstructionISZ),n=t.CONSUME(_s.Register);t.CONSUME(_s.Comma);const{token:o,type:i}=t.SUBRULE(t.address);t.ACTION((()=>{try{e.pushISZInstruction(r.image,n.image,o.image,i,r.startLine)}catch(e){throw t.SAVE_ERROR(new Os(e.toString(),o,n))}}))})),t.RULE("instructionJCN",(()=>{const r=t.CONSUME(_s.InstructionJCN),n=t.CONSUME(_s.Cond);t.CONSUME(_s.Comma);const{token:o,type:i}=t.SUBRULE(t.address);t.ACTION((()=>{try{e.pushJCNInstruction(r.image,n.image,o.image,i,r.startLine)}catch(e){t.throwMismatchError(e.toString(),o,n)}}))})),t.performSelfAnalysis()}}([]);var Qs=Cs.INSTRUCTION_TYPES,tu=Ms.assemblyInstruction;const eu=(t,e,r)=>{for(const[n,{addressOffset:o,refInstructionIdx:i,isShort:a}]of e.references.entries()){if(!r[i])throw Error("Some references to labels are broken: labeled code has not been processed");const{blockId:s,instructionOffset:u}=r[i];e.references[n]={addressOffset:o,refBlockId:s,refInstructionOffset:u,isShort:a},a&&t[s]!==e&&(t[s].isDependant=!0)}},ru=(t,e,r,n,o,i)=>{const{blockId:a}=r[e],s=t[a];s.bytecode.unshift(...n);for(const t of s.references)t.addressOffset+=n.length;s.references.unshift(...o);for(const t of s.sourceCodeLines)t.instructionOffset+=n.length;s.sourceCodeLines.unshift(...i);let u=e-1;const c=r[u].blockId;for(;r[u]?.blockId===c;)r[u].blockId=a,u--;let l=e;for(;r[l]?.blockId===a;)r[l].instructionOffset+=n.length,l++;return s},nu=(t,e,r,n,o,i)=>{const a=t.length,s=[],u=[],c=[];if(n[e])return{isNew:!1,block:t[n[e].blockId]};for(let l=e;l<r.length;l++){if(n[l]){return{isNew:!1,block:ru(t,l,n,s,u,c)}}const{type:e,opcode:f,sourceCodeLine:p,refInstructionIdx:d}=r[l],h=s.length;if(s.push(...f),c.push({instructionOffset:h,line:p}),n[l]={blockId:a,instructionOffset:h},null!=d&&u.push({addressOffset:h+1,refInstructionIdx:d,isShort:e===Qs.JumpConditional}),[Qs.FarJump,Qs.Return,Qs.Halt].includes(e)){return{isNew:!0,block:{id:a,bytecode:s,sourceCodeLines:c,references:u,...void 0!==o&&{fixedLocation:{page:o,offset:i}}}}}}throw Error("Couldn't find final instruction for code block at fixed location.")};var ou={formBlocksFromInstructions:(t,e,r,n)=>{const o=[],i=new Array(e.length);for(const{instructionIdx:r,romPage:n,romOffset:a}of t){const{block:t,isNew:s}=nu(o,r,e,i,n,a);s&&o.push(t)}(t=>{if(t.find((({fixedLocation:t})=>0===t.page&&0===t.offset)))return;const{block:e}=nu(t,0,[{opcode:tu("jun",0),type:Qs.FarJump,refInstructionIdx:0,sourceCodeLine:-1}],{},0,0);t.push(e)})(o);const a=((t,e)=>{const r=new Set;for(const{references:n}of t)for(const{refInstructionIdx:t}of n)e[t]||r.add(t);return[...r]})(o,i);for(;a.length;){const t=a.shift(),{block:r,isNew:n}=nu(o,t,e,i);n&&o.push(r),a.push(...r.references.map((({refInstructionIdx:t})=>t)).filter((t=>!i[t])))}for(const t of o)eu(o,t,i);for(const{instructionIdx:t,bankNo:e}of n)i[t]&&(o[i[t].blockId].fixedBank=e);return{blocks:o,symbols:r.map((({label:t,instructionIdx:e})=>({label:t,...i[e]})))}}}.formBlocksFromInstructions;const iu=t=>{const{tokens:e,errors:r}=i.tokenize(t.toLowerCase());if(r.length)return{errors:r};const n=Es.parse(e);if(!n){for(const e of Es.errors)e.token&&(e.line=t.split("\n")[e.token.startLine-1]);return{errors:Es.errors}}return n};function au(t,e){if(e.set){if(!e.get)throw new TypeError("attempted to read set only private field");return"__destrWrapper"in e||(e.__destrWrapper={set value(r){e.set.call(t,r)},get value(){return e.get.call(t)}}),e.__destrWrapper}if(!e.writable)throw new TypeError("attempted to set read only private field");return e}function su(t,e){return au(t,As(t,e,"update"))}function uu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var cu,lu,fu,pu,du,hu;o={parse:iu,compile:t=>{const{fixedLocations:e,fixedRomBanks:r,instructions:n,symbols:o,errors:i}=iu(t);if(i)return{blocks:[],errors:i};try{const{blocks:t,symbols:i}=ou(e,n,o,r);return{blocks:t,symbols:i,errors:[]}}catch(t){return{blocks:[],errors:[t]}}}};class vu extends Error{}class yu extends Error{}const mu=(cu=new WeakMap,lu=new WeakMap,fu=new WeakMap,pu=new WeakMap,du=new WeakMap,uu(hu=class t{static getAbsoluteAddress(e,r){return e*t.BYTES_PER_ROM_PAGE+r}static getPageFromAddress(e){return Math.trunc(e/t.BYTES_PER_ROM_PAGE)}static getPageOffsetFromAddress(e){return e%t.BYTES_PER_ROM_PAGE}goToNextPage(){if(su(this,cu).value++,Ps(this,lu,0),Is(this,cu)>=t.ROM_PAGES_COUNT)throw new vu(`Couldn't fit all codeblocks into ROM bank ${Is(this,du)}!`)}addSingleBytePadding(){su(this,lu).value++,Is(this,lu)===t.BYTES_PER_ROM_PAGE&&this.goToNextPage()}putBlock(e,r,n){const o=t.getAbsoluteAddress(r,n);Is(this,pu).set(e.id,o),e.actualBanksPlacement.add(Is(this,du)),Is(this,fu)[r].set(e.bytecode,n)}appendBlock(e,r,n){if(void 0!==r&&void 0!==n){if(r<Is(this,cu))throw new yu("Wrong order of blocks to append to ROM!");if(r===Is(this,cu)&&n<Is(this,lu))throw new yu("Wrong order of blocks to append to ROM!");Ps(this,cu,r),Ps(this,lu,n)}const o=t.getAbsoluteAddress(Is(this,cu),Is(this,lu));Is(this,pu).set(e.id,o),e.actualBanksPlacement.add(Is(this,du));const i=e.bytecode.length,a=t.BYTES_PER_ROM_PAGE-Is(this,lu);if(a>i)return Is(this,fu)[Is(this,cu)].set(e.bytecode,Is(this,lu)),void Ps(this,lu,Is(this,lu)+i);Is(this,fu)[Is(this,cu)].set(e.bytecode.slice(0,a),Is(this,lu)),this.goToNextPage();let s=a;for(;s<i;){const r=i-s;if(!(r>=t.BYTES_PER_ROM_PAGE))return Is(this,fu)[Is(this,cu)].set(e.bytecode.slice(s),0),void Ps(this,lu,r);{const r=e.bytecode.slice(s,s+t.BYTES_PER_ROM_PAGE);Is(this,fu)[Is(this,cu)].set(r,0),this.goToNextPage(),s+=t.BYTES_PER_ROM_PAGE}}}updateEncodedAddress(e,r,n){if(Is(this,fu)[t.getPageFromAddress(e)][t.getPageOffsetFromAddress(e)]=255&r,n)return;const o=Is(this,fu)[t.getPageFromAddress(e-1)],i=t.getPageOffsetFromAddress(e-1),a=o[i];o[i]=a|r>>8}get blockOffsets(){return Is(this,pu)}get usedSpaceInPage(){return Is(this,lu)}get rom(){return Uint8Array.from(Array.prototype.concat(...Is(this,fu).map((t=>Array.from(t)))))}get romSize(){return Is(this,cu)*t.BYTES_PER_ROM_PAGE+Is(this,lu)}get bankNo(){return Is(this,du)}constructor(e){bs(this,cu,{writable:!0,value:0}),bs(this,lu,{writable:!0,value:0}),bs(this,fu,{writable:!0,value:[]}),bs(this,pu,{writable:!0,value:new Map}),bs(this,du,{writable:!0,value:void 0}),Ps(this,fu,Array.from(new Array(t.ROM_PAGES_COUNT),(()=>new Uint8Array(t.BYTES_PER_ROM_PAGE)))),Ps(this,du,e)}},"ROM_PAGES_COUNT",16),uu(hu,"BYTES_PER_ROM_PAGE",256),hu),gu=(t,e,r)=>{for(const n of r){const r=e.get(n);for(const{addressOffset:o,refBlockId:i,refInstructionOffset:a,isShort:s}of t[n].references){if(!s)continue;const t=r+(o-1);if(t%mu.BYTES_PER_ROM_PAGE>=mu.BYTES_PER_ROM_PAGE-2)return!1;if(mu.getPageFromAddress(t)!==mu.getPageFromAddress(e.get(i)+a))return!1}}return!0},Eu=(t,e)=>{const r=new Set,n=[e];for(;n.length;){const e=n.shift();r.has(e)||(r.add(e),n.push(...t[e].references.filter((t=>t.isShort)).map((t=>t.refBlockId))))}return[...r]},Tu=(t,e,r,n)=>{const o=t[n.length]||(t[n.length]=[]),i={};for(const[t,r]of n.entries()){const{references:n,bytecode:o}=e[r],a=`${n.length}, ${o.length}`;(i[a]||(i[a]=[])).push({placementPosition:t,references:Object.fromEntries(n.map((t=>[`${t.addressOffset}, ${t.refInstructionOffset}`,t.isShort])))})}o.push({coupledBlocks:i,offset:r,inUse:!0})},Ou=(t,e,r,n)=>{if(r.blockOffsets.has(e))return!0;const o=r.usedSpaceInPage,i=Eu(t,e);if(n&&i.length>=3){const e=((t,e,r)=>{const n=t[r.length];if(!n)return null;for(const t of n){const{coupledBlocks:n,offset:o}=t,i=new Array(r.length);for(const t of r){const r=e[t],o=n[`${r.references.length}, ${r.bytecode.length}`]?.find((({references:t,placementPosition:e})=>r.references.every((e=>t[`${e.addressOffset}, ${e.refInstructionOffset}`]===e.isShort))&&void 0===i[e]));if(!o)break;i[o.placementPosition]=t}if(!i.includes(void 0))return t.inUse=!0,{placement:i,offset:o}}return null})(n,t,i);if(e?.offset===o){for(const n of e.placement)r.appendBlock(t[n]);return!0}}const a=[{prefix:[],suffix:i}];for(;a.length;){const{prefix:e,suffix:s}=a.pop();if(!s.length){const a=new Map,s=e;let u=o;for(const e of s)a.set(e,u),u+=t[e].bytecode.length;if(!gu(t,a,s))continue;n&&i.length>=3&&Tu(n,t,o,s);for(const e of s)r.appendBlock(t[e]);return!0}for(const[t,r]of s.entries())a.push({prefix:[...e,r],suffix:s.filter(((e,r)=>t!==r))})}return!1},_u=(t,e)=>{const r=new Set([]),n=[e];let o=0;for(;n.length;){const e=n.shift();if(r.has(e))continue;const{bytecode:i,references:a}=t[e];o+=i.length,n.push(...a.filter((({isShort:t})=>t)).map((({refBlockId:t})=>t))),r.add(e)}return o},Ru=(t,e,r,n)=>{for(;t.size;){let o=!1;for(const i of t)if(Ou(e,i.id,r,n)){t.delete(i),o=!0;break}o||r.addSingleBytePadding()}},Au=({fixedLocation:{page:t,offset:e}})=>mu.getAbsoluteAddress(t,e),Nu=(t,e,r,n)=>{const o=e.filter((({desiredBanksPlacement:t})=>t.has(r))),i=((t,e)=>{const r=t.map((t=>({...t,fullSize:_u(e,t.id)}))).filter((({isDependant:t,fixedLocation:e})=>!t&&!e));return new Set(r.sort(((t,e)=>e.fullSize-t.fullSize)))})(o,e),a=o.filter((({fixedLocation:t})=>!!t)).sort(((t,e)=>Au(t)-Au(e)));((t,e)=>{for(const r of t)e.appendBlock(r,r.fixedLocation.page,r.fixedLocation.offset)})(a,t),((t,e,r,n)=>{for(const[o,i]of t.entries()){const a=t[o+1];if(!a)break;const{page:s,offset:u}=i.fixedLocation;if(a.fixedLocation.page!==s)continue;const c=a.fixedLocation.offset-u-i.bytecode.length;for(const t of e){if(t.fullSize>c)continue;let o=u+i.bytecode.length;const a=Eu(r,t.id);for(const t of a){const e=r[t];n.putBlock(e,s,o),o+=e.bytecode.length}e.delete(t);break}}})(a,i,e,t),((t,e,r,n)=>{Ru(t,e,r,n);const o=e.filter((t=>t.desiredBanksPlacement.has(r.bankNo)&&!t.actualBanksPlacement.has(r.bankNo)));if(Ru(new Set(o),e,r,n),n)for(const t of Object.keys(n)){const e=n[t].filter((({inUse:t})=>t)).map((({inUse:t,...e})=>e));e.length?n[t]=e:delete n[t]}})(i,e,t,n)},Iu=t=>t.toString(16).toUpperCase().padStart(3,"0"),Su=t=>t.toString().padStart(3," "),bu=(t,e,r,n)=>{const o=[];console.log("Current blocks placement:");const i=[...e.entries()].sort((([,t],[,e])=>t-e));for(const[e,[n,a]]of i.slice(0,-1).entries()){const s=r.get(n).find((({instructionOffset:t})=>!t)).label;console.log(`  [${Iu(a)}, ${Su(t[n].bytecode.length)}] ${s}`);const u=a+t[n].bytecode.length;if(i[e+1]&&i[e+1][1]!==u){const t=i[e+1][1]-u;console.log(`  [${Iu(u)}, ${Su(t)}] FREE`),o.push(t)}}console.log(),console.log(`Free space left in ROM: ${o.reduce(((t,e)=>t+e),0)} bytes`),console.log(`Maximum gap between blocks: ${Math.max(...o)} bytes`),console.log(),console.log("Non-placed blocks:");let a=0;const[s]=i.at(-1),u=new Set(i.map((([t])=>t)).filter((t=>t!==s)));for(const{desiredBanksPlacement:e,id:o,bytecode:{length:i}}of t)if(e.has(n)&&!u.has(o)){const t=r.get(o).find((({instructionOffset:t})=>!t)).label;console.log(`  [${i}] ${t}`),a+=i}console.log(`Size of non-placed blocks: ${a} bytes`),console.log()};function xu(t,e,{placementCache:r}={}){const n=new Map;for(const{label:t,blockId:r,instructionOffset:o}of e)n.has(r)||n.set(r,[]),n.get(r).push({label:t,instructionOffset:o});for(const e of t)e.desiredBanksPlacement=new Set,e.actualBanksPlacement=new Set;((t,e)=>{const r=[{blockId:e,bankNo:0}];for(;r.length;){const{blockId:n,bankNo:o}=r.shift(),i=t[n],a=i.fixedBank??o;if(!i.desiredBanksPlacement.has(a)&&(i.desiredBanksPlacement.add(a),r.push(...i.references.map((({refBlockId:t})=>({blockId:t,bankNo:a})))),i.fixedLocation)){const n=t.filter((({fixedLocation:t,id:r})=>t?.page===i.fixedLocation.page&&r!==e));r.push(...n.map((({id:t})=>({blockId:t,bankNo:a}))))}}})(t,t.find((({fixedLocation:t})=>0===t?.page&&0===t?.offset)).id);const o=Array.from(new Array(2),((t,e)=>new mu(e)));for(const[e,i]of o.entries())try{Nu(i,t,e,r)}catch(r){throw r instanceof vu&&bu(t,i.blockOffsets,n,e),r}return{roms:o.map(((e,r)=>{const i=[],a=[];for(const[s,u]of e.blockOffsets.entries()){const c=t[s];for(const{instructionOffset:t,line:e}of c.sourceCodeLines)a.push({romOffset:u+t,line:e});for(const{instructionOffset:t,label:e}of n.get(s)||[])i.push({label:e,romAddress:u+t});for(const{addressOffset:n,refBlockId:i,refInstructionOffset:a,isShort:s}of c.references){const{desiredBanksPlacement:c}=t[i],l=c.has(r)?r:[...c][0],f=o[l].blockOffsets.get(i);if(void 0===f)throw Error("Broken reference! Something went wrong internally...");e.updateEncodedAddress(u+n,f+a,s)}}return{symbols:i,sourceMap:a,data:e.rom,size:e.romSize}})),placementCache:r}}onmessage=({data:t})=>{const{blocks:e,errors:r,symbols:n}=(0,o.compile)(t);if(r.length)postMessage({errors:r.map((({column:t,line:e,message:r,token:n})=>({column:n?n.startColumn:t,row:(n?n.startLine:e)-1,text:r}))),roms:null});else try{const{roms:t}=xu(e,n);postMessage({errors:[],roms:t})}catch(t){postMessage({errors:[{column:1,row:1,text:t.message}],roms:null})}}}();
//# sourceMappingURL=compiler.62eb36a8.js.map
